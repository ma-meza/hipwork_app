{"version":3,"sources":["public/style/saved.module.css","public/style/listingPage.module.css","public/style/newListing.module.css","public/style/authenticationForms.module.css","public/style/specialListingCard.module.css","public/style/warzone.module.css","employeeScripts/style/employeeStyle.module.css","public/style/profile.module.css","public/style/desktopTopNav.module.css","public/style/mobileSearch.module.css","public/style/account.module.css","public/style/accountSetup.module.css","public/style/aboutUs.module.css","public/style/launchLandingPage.module.css","public/style/community.module.css","public/style/stripePayment.module.css","public/style/search.module.css","public/style/listingCard.module.css","public/style/reviewsCard.module.css","public/style/mobileBottomNav.module.css","public/style/profileLinks.module.css","public/style/modal.module.css","public/style/footer.module.css","public/style/mvpFooter.module.css","public/style/activityTicker.module.css","public/style/listingCardSmallCard.module.css","public/style/articlePage.module.css","public/style/loaderAnimation.module.css","public/style/snackBar.module.css","public/style/bodyContainer.module.css","scrollToTop.js","utils/setAuthToken.js","subscription.js","reduxActions/types.js","reduxActions/authActions.js","reduxReducers/authReducers.js","reduxReducers/errorReducers.js","reduxReducers/index.js","reduxStore.js","views/PredefItems.js","microComponents/Footer.js","microComponents/Modal.js","microComponents/LoaderAnimation.js","microComponents/LoginCard.js","microComponents/DesktopTopNav.js","microComponents/MobileBottomNav.js","miscFunctions.js","microComponents/ListingCard.js","microComponents/BodyContainer.js","microComponents/MobileSearch.js","views/Warzone.js","views/Page404.js","microComponents/MvpFooter.js","views/launchLandingPage.js","views/AboutUs.js","views/TermsPrivacy.js","views/Login.js","views/Signup.js","microComponents/ListingCardSmallCard.js","microComponents/ActivityTicker.js","views/Profile.js","microComponents/SnackBar.js","views/ListingPage.js","views/Saved.js","microComponents/SpecialListingCard.js","microComponents/ReviewsCard.js","views/orderHistory.js","views/listings.js","utils/PublicOnlyRoute.js","utils/PrivateRoute.js","employeeScripts/views/BlogPosts.js","employeeScripts/views/EditBlogPost.js","employeeScripts/views/Listings.js","employeeScripts/views/NewGuestUsers.js","employeeScripts/views/NewGuestListing.js","employeeScripts/views/PredefinedItems.js","employeeScripts/views/ExistingGuestListings.js","employeeScripts/views/Dashboard.js","views/ActivityPageMobile.js","views/BlogPost.js","views/Community.js","views/AccountSetup.js","views/PaymentInstructions.js","views/StripePayment.js","views/ProfileLinks.js","views/Account.js","views/following.js","views/NewListing.js","views/Search.js","views/LogoutScript.js","views/VerifyListing.js","App.js","reportWebVitals.js","serviceWorkerRegistration.js","index.js"],"names":["module","exports","withRouter","history","children","useEffect","unlisten","listen","window","scrollTo","setAuthToken","token","axios","defaults","headers","common","convertedVapidKey","base64String","padding","repeat","length","base64","replace","rawData","atob","outputArray","Uint8Array","i","charCodeAt","urlBase64ToUint8Array","sendSubscription","subscription","post","api_prefix","GET_ERRORS","USER_LOADING","SET_CURRENT_USER","loginUser","userData","dispatch","then","res","data","localStorage","setItem","isAccountSetup","navigator","serviceWorker","ready","registration","pushManager","getSubscription","existedSubscription","subscribe","applicationServerKey","userVisibleOnly","newSubscription","console","log","catch","e","Notification","permission","decoded","jwt_decode","setCurrentUser","err","type","payload","response","logoutUser","userToken","getItem","removeItem","isEmpty","require","initialState","isAuthenticated","user","loading","errorReducer","state","action","combineReducers","auth","errors","middleware","thunk","store","createStore","rootReducer","compose","applyMiddleware","aboutUs","props","predefItems","isLoading","get","resp","setState","alert","this","types","j","filters","id","filtertypeid","name","items","item","itemid","push","specsString","v","textvalue","title","style","cursor","React","Component","withTranslation","Footer","lang","handleLangChange","bind","event","Storage","target","value","i18n","changeLanguage","styles","footer","footerInnerContainer","className","footerThird","to","noMarginText","color","Date","getFullYear","Modal","handleOutsideClick","outsideClickRef","createRef","current","closeModal","show","ref","modalTransparentBody","onClick","modalBody","topContainer","modalTitleP","src","closeButton","description","contentContainer","regularTextNoMargin","Spinner","spinnerContainer","spinnerInnerContainer","lds_ellipsis","emailRegex","Login","email","password","formErrorMessage","isDataLoading","serverErrorMessage","handleInputChange","handleFormSubmit","listingId","test","loginObj","errorMessage","regularText","inputText","onChange","placeholder","link","button","nextProps","prevState","message","connect","Index","searchInput","displayAccountModel","searchSuggestions","showProfileModal","allowClickOutsideProfileModal","isLoginModalDisplayed","showSearchSuggestion","closeSearchInput","searchSuggestModalRef","searchInputRef","searchInputDivRef","profileModalRef","document","onclick","iconTopMobileNav","classList","contains","searchSuggestP","onresize","leftValue","offsetLeft","widthValue","offsetWidth","left","width","undefined","remove","searchInputActive","searchSuggest","profileModal","profileIcon","searchSuggestArray","t","categories","nbCategories","go","searchSuggestMainContainer","profileModalMainContainer","arrow_example","arrow_border_example","profileModalText","iconSeparator","setTimeout","iconContainer","homeLink","desktopTopNav","desktopTopNavInnerContainer","logoDesktopTopNav","searchInputDiv","searchIconRef","desktopTopNavIconsContainer","textContainer","LoginCard","mainContainer","integerToMoneyString","intValue","money","parseInt","decimal","lhs","Math","floor","toString","lhsString","division3Remainder","substring","integerMoneyToDecimal","historyEvents","listing","avgRating","conditionsOptionsArray","avgrating","rating","nbFullStars","mainDivisors","productPicture","backgroundImage","pictures","itemStateContainer","backgroundColor","condition","productTextContainer","minHeight","listingTitle","priceP","price","userInfoDivisor","userPicture","sellerprofilepicture","sellerid","userTextContainer","noMarginP","sellername","Body","mainBody","MobileSearch","categoryCurrentParentId","searchContainerRef","focus","body","overflow","catId","categoriesList","cat","chevronImgCategories","postCatTrend","seeMoreDiv","parentCategoryName","catQtity","map","key","innerHeight","seeMoreCats","isCategoriesModalDisplayed","clickable","bottomAlignChevron","searchTransparentContainer","searchContainerVisible","searchMainContainer","searchTopContainer","closeSearch","searchXImg","input","searchSuggestScroller","featuredListings","followedListings","hotListings","listingsIsLoaded","userName","activeSectionTitle","isMobileSearchDisplayed","categoriesContainerRef","followedListingsRef","featuredListingsRef","hotListingsRef","scrollTopButtonRef","parentid","splice","feed","prevScrollpos","pageYOffset","fixedPositionsRegistered","onscroll","vwWidth","documentElement","clientWidth","scrollY","add","fixedCategoriesContainer","displayNone","desktopCategoriesList","emptyStateMessageP","ListingCard","allCategoriesList","allCatsTitle","allCatsText","stickyMobileHeaderText","sectionTitleP","stickyHeader","circleDesktopCategories","popCategoryContainer","textDecoration","picture","displayName","desktopMainHeader","mainBannerDesktop","imgLeftBanner","margin","imgRightBanner","BodyContainer","topMainContainer","topMainContainerInnerContainer","mobileTopNav","mobileTopNavTopDiv","topWelcomeMessage","searchIconClick","mobileMainHeader","mobileCategorySlideshow","mainFeedContainers","innerMainContainer","desktopTitle","scrollTopContainer","scrollTopButton","top","behavior","MobileBottomNav","DesktopTopNav","getTime","Page404","href","landingPage","mainInput","userHasJoined","joinErrorMessage","shareLink","linkIsCopied","refEmail","submitButton","copyReferralLink","linkInput","requestObj","queryString","parse","location","search","refToken","referralEmail","shareToken","status","select","setSelectionRange","execCommand","getSelection","removeAllRanges","selection","empty","inputs","middleSentence","twitterHref","whatsappHref","mainShareContainer","topShareContainer","readOnly","bottomShareContainer","shareIcons","Helmet","charSet","content","rel","header","socialIcon","xmlns","height","viewBox","fill","d","mainInnerContainer","halfDiv","logo","alt","mockupImg","headlineText","bodyContainer","formCard","Signup","username","usernameErrorMessage","usernameSuccessMessage","unameIsValid","tokenValue","waitlistSuccessMessage","verifyUsername","handleWaitlistSubmit","count","signupObj","queryStringValues","pwd","uid","guestUserPassword","guestUserId","registerUser","usernameMessage","onBlur","invSpace","Tickers","historyEventsy","categoryName","sentence","historyEventCard","divTitleP","historyTabMainContainer","Profile","dataIsLoading","reviews","signupDate","activeListings","recentPurchases","displayLoginPopup","userIsFollowed","isOwnProfile","followUser","userId","info","userInfos","followedInfo","signupdate","profilePicture","profilepicture","bio","isFollowing","reviewsList","review","reviewRatingStarArray","reviewRating","starIcon","reviewCardContainer","reviewerid","reviewCardInnerContainer","profilePictureImg","comment","ListingCardSmallCard","followButton","listingSmallCard","listingPicture","listingPrice","regularTextHalfMargin","followButtonMainContainer","buttonCta","sellerRatingStarArray","listingComponentsMainContainer","sellerTextMainContainer","separatorLine","listingCarousel","Snackbar","isActive","openSnackBar","Styles","snackbar","join","PureComponent","Listing","isDoingReservation","seller","tags","isOwnListing","makeOfferamount","isOfferModalDisplayed","isListingFound","sellerReviews","isGuestListing","activePictureCarousel","swipeStart","swipeEnd","activeDesktopImgCarousel","isAnOfferMade","buyType","makeOffer","snackbarRef","shareLinkRef","listingDetails","isguestlisting","predefType","predeftype","makeOfferAmount","amount","smallPictures","smallPictureImg","carouselDots","carouselDot","activeCarouselDot","mainListingPicture","sellerProfilePicture","actionButtons","mobilePics","pic","mainPictureImg","mainPictureContainer","mobileNoShow","starsArray","starP","actionButtonsArray","floatingButtonCta","floatingButtonRight","floatingButtonLeft","floatingButtonFullWidth","listingUrl","twitterShareLink","fbShareLink","bigImgsDesktopCarousel","carouselArrows","carouselLeftPic","carouselArrowLeft","prev","carouselMiddlePic","carouselRightPic","carouselArrowRight","desktopLeftSide","starPSmall","smallPicturesContainer","sidePadding","shareIconsBar","copyText","position","opacity","pointerEvents","aria-hidden","desktopRightSide","paymentSidebarContainer","buyTypeSelectorContainer","selectedBuyType","unselectedBuyType","float","min","step","hideDesktop","bigImgDesktopCarouselContainer","desktopCarouselIsInactive","carouselX","Saved","savedListings","nbRatings","savedListingsRef","cardType","fullDate","timestamp","setDate","getDate","limitDate","getMonth","historyCardContainer","historyTopContainer","listingMainPicture","historyTitleContainer","historyTotalContainer","historyBottomContainer","historyHalfCta","loadSpinner","listingid","buyNow","offerId","offerid","removeLoadSpinner","reservationId","showErrorSnackbar","offerDate","historySellerInfoContainer","historySellerPicture","sendername","acceptOffer","declineOffer","counterOffer","purchaseDate","purchasePrice","buynowprice","offeramount","issellerreviewed","historyCta","reviewSeller","submitReview","checked","rating5","htmlFor","rating4","rating3","rating2","rating1","textarea","activeOffers","pastPurchases","waitingPurchases","isCounterOfferModalDisplayed","counterOfferId","counterOfferArrayIndex","counterOfferValue","reviewsListingIndex","isReviewsModalDisplayed","currentPage","mobileMoreOptionsActiveOffers","mobileMoreOptionsPurchaseHistory","mobileMoreOptionsAwaitingPayments","submitCounterOffer","arrayIndex","currentActiveOffers","currentWaitingPurchases","acceptedOffer","offerValue","mobileWaitingPurchases","mobileCardSellingBuying","mobileCardSellingBuyingLeftContainer","mobileCardSellingBuyingRightContainer","kebabContainer","mobileMoreOptionsPastPurchases","tableContainer","hideMobile","dataTable","tableTHead","tableTBody","mobileCardSellingBuyingContainer","mobileActiveOffers","offer","mobilePastPurchases","transactionStatus","ordernb","receiptlink","mobileMoreOptions","mobileMoreOptionsCta","handleMobileMoreOptionsOutsideClick","handleMobileMoreOptionsRef","mobileMoreOptionsFullPageContainer","mobileMoreOptionsContainer","bodyLeftSeparator","noDisplayDesktop","pageTitle","categoriesMainContainer","noDisplayMobile","activeLink","bodyRightSeparator","ReviewsCard","reviewListings","activeListingsIsLoaded","soldListings","soldListingsIsLoaded","activeOffersIsLoaded","isDeleteConfirmModalDisplayed","isPickBuyerModalDisplayed","pickBuyerListingIndex","confirmDeleteListingIndex","isFetchingData","markAsSoldBuyersDetails","isTrackingNumberModalDisplayed","trackingNumberListingIndex","carrierNameValue","trackingNumberValue","mobileMoreOptionsActiveListings","mobileMoreOptionsSoldItems","deleteListing","activeTab","isNaN","desktopOffersArray","mobileOffersArray","newObj","offers","mobileListingsArray","listingDate","verificationStatus","verificationstatus","verifyButton","mobileSoldArray","sellerreceiptlink","isbuyerreviewed","trackingnumber","buyersListDetails","buyer","buyersListRow","reservationid","buyerId","buyerid","listingArrayIndex","currentListings","soldListing","currentSoldListings","buyername","carrierName","trackingNumber","component","rest","render","posts","postId","currentPosts","border","marginBottom","postCard","summary","editSpecificBlogPost","linkP","deleteBlogPost","articleContainer","newBlogPost","createPost","handleNameInputChange","savePost","postInputs","split","parag","reqObj","bodyString","returnDashboard","paragraphs","textareaNoMargin","handleRemoveSection","inlineButton","addSection","listings","verifyListing","decision","update","verificationpicture","sellerusername","verificationtimestamp","signupSource","signupSourceValues","allGuestUsers","guestUserSelect","createUser","handleChange","guestUserLinkValue","NewListing","category","categoryOptions","filterTypes","listingMode","formError","predefItemSearch","isUnlistedItemModalDisplayed","recommendItemInput","blockAutofillDiv","predefItemsSearchResult","predefItemId","predefItemName","pictureInputRef","predefItemAutofillRef","predefItemInputRef","handleImageUpload","removePicture","handleFilterValueChange","postListing","listingmode","categoryid","addEventListener","predefItemAutoFillInnerContainer","allFilters","currentFilter","userSelection","searchValue","index","currentPictures","file","files","Error","availableNbPictures","nbPicturesCompleted","nbFiles","fileName","formData","FormData","append","Location","error","predefTypeName","sellerId","conditionsOptions","cond","picturePreviews","pics","pictureSquare","predefItemAutofill","autofillInputPos","getBoundingClientRect","predefItemAutofillContainer","predefItemAutofillInnerContainer","guestUserOptions","formContainer","selectInput","textInput","descriptionTextarea","fileInputLabel","fileInput","accept","multiple","ctaButton","fetchFilters","currentFilters","optionIndex","k","options","cb","filterValues","filtersType0","filtersType1Custom","filtersType1Predefined","filtersType2","filtersList","categoriesOptions","filter","option","inputValue","handleCustomFilterValueChange","max","currentOffers","sellerdescription","Dashboard","activePage","loginErrorMessage","editPostId","handleLoginSubmit","employeeName","EditBlogPost","PredefinedItems","NewGuestListing","ExistingGuestListings","styles2","nav","Activity","pageBody","topBar","match","params","bodyStringSplit","headerImgDiv","headlineP","communitySectionContainer","parentElement","stickyHeaderParent","Setup","lname","fname","countryCode","type0ErrorMessage","currentFormType","type1ErrorMessage","followedCategories","submitForm","followTopic","unfollowTopic","currentUnfollowedTopics","swithTopic","currentFollowedTopics","notFollowedCategories","topic","topicContainer","activeForm","monthNames","Instructions","reservationDetails","sellerEmail","tra_id","otherDetails","rows","details","selleremail","endTimeStamp","setMinutes","getMinutes","niceMinutes","niceHours","getHours","niceDateString","CARD_ELEMENT_OPTIONS","base","fontFamily","fontSmoothing","fontSize","invalid","iconColor","CheckoutForm","handleSubmit","preventDefault","stripe","elements","isFormDisabled","stripeErrorMessage","shippingAddress","shippingAddressInput","a","clientSecret","getElement","CardElement","confirmCardPayment","payment_method","card","billing_details","setup_future_usage","result","paymentIntent","isTransactionSuccess","buyNowPrice","offerAmount","handleInput","offerDetails","onSubmit","formRow","disabled","InjectedCheckoutForm","ProfileLinks","bottomBar","bioInput","profilePictureInput","profilePicturePreview","shippingInput","saveChanges","profilePic","shippingaddress","URL","createObjectURL","profilePictureDiv","saveButton","display","verticalAlign","deletePicButton","saveButtonContainer","regularTextInput","bioTextarea","Following","following","followedUsers","suggestedTopics","toggleFollowing","stringValue","indexArray","currentFollowedUsers","userFollowings","SearchPage","textualSearchValue","isFiltersModalOpened","results","rebuildUrl","searchFromUrl","baseUrl","pathname","Object","keys","forEach","Array","elem","array","element","isCategoryProvided","filterNames","searchOptions","valueIsPresent","key1","key2","indexOf","elemIndex","paramsType1Array","filterName","filtersType1Options","handleType1FilterValueChange","topBarTopContainer","mobileSearchContainer","resultsContainer","ActivityTicker","Logout","VerifyListing","verificationTimestamp","isUploadingPic","submitVerification","activeOffersRef","paddedContainer","ReactGA","initialize","jwtToken","reduxStore","currentTime","now","exp","MainApp","exact","path","LaunchLandingPage","PredefItems","pageview","AboutUs","TermsPrivacy","ListingPage","Search","Warzone","Community","BlogPost","LogoutScript","StripePayment","PaymentInstructions","AccountSetup","Home","OrderHistory","Listings","Account","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","Boolean","hostname","stripePromise","loadStripe","ReactDOM","StrictMode","App","getElementById"],"mappings":"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","file":"static/js/main.285c0acf.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"fileInputLabel\":\"saved_fileInputLabel__2dQMS\",\"mobileCardSellingBuyingContainer\":\"saved_mobileCardSellingBuyingContainer__31JTj\",\"pictureSquare\":\"saved_pictureSquare__U8GEx\",\"tableContainer\":\"saved_tableContainer__1WHON\",\"mobileMoreOptionsFullPageContainer\":\"saved_mobileMoreOptionsFullPageContainer__2BR69\",\"mobileMoreOptionsContainer\":\"saved_mobileMoreOptionsContainer__3uSYO\",\"mobileCardSellingBuying\":\"saved_mobileCardSellingBuying__1brtF\",\"hideMobile\":\"saved_hideMobile__1Ui9v\",\"paddedContainer\":\"saved_paddedContainer__2FN9D\",\"sectionTitleP\":\"saved_sectionTitleP___PlhL\",\"innerMainContainer\":\"saved_innerMainContainer__3MLfz\",\"topMainContainer\":\"saved_topMainContainer__3Hob3\",\"categoriesMainContainer\":\"saved_categoriesMainContainer__LUt4E\",\"rowInnerContainerMiddle\":\"saved_rowInnerContainerMiddle__2OT1z\",\"rowInnerContainerRight\":\"saved_rowInnerContainerRight__j6woi\",\"buttonCta\":\"saved_buttonCta__2e5ys\",\"buttonCta2\":\"saved_buttonCta2__1FvKH\",\"offerCtaContainer\":\"saved_offerCtaContainer__1EmL8\",\"bodyLeftSeparator\":\"saved_bodyLeftSeparator__3NLqU\",\"searchSuggestP\":\"saved_searchSuggestP__IKkeJ\",\"bodyRightSeparator\":\"saved_bodyRightSeparator__3lptJ\",\"noDisplayMobile\":\"saved_noDisplayMobile__GUZJZ\",\"pageTitle\":\"saved_pageTitle__3vene\",\"activeLink\":\"saved_activeLink__FS3HE\",\"noDisplayDesktop\":\"saved_noDisplayDesktop__pa5H_\",\"tableRow\":\"saved_tableRow__Nvyaz\",\"listingPic\":\"saved_listingPic__3k3tw\",\"offersRow\":\"saved_offersRow__-RuiZ\",\"buyerProfilePic\":\"saved_buyerProfilePic___bSct\",\"regularText\":\"saved_regularText__2VqUC\",\"regularTextHalfMargin\":\"saved_regularTextHalfMargin__1bfxR\",\"regularTextNoMargin\":\"saved_regularTextNoMargin__3if6a\",\"buyersListRow\":\"saved_buyersListRow__2ygJg\",\"ctaButton\":\"saved_ctaButton__2ugxq\",\"selectInput\":\"saved_selectInput__AhyLI\",\"fileInput\":\"saved_fileInput__R2Sqo\",\"tableTHead\":\"saved_tableTHead__1EaSP\",\"tableTBody\":\"saved_tableTBody__dAK5y\",\"dataTable\":\"saved_dataTable__MwkY6\",\"kebabContainer\":\"saved_kebabContainer__1N95M\",\"mobileCardSellingBuyingRightContainer\":\"saved_mobileCardSellingBuyingRightContainer__4dCPH\",\"mobileCardSellingBuyingLeftContainer\":\"saved_mobileCardSellingBuyingLeftContainer__1ctgO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"floatingButtonCta\":\"listingPage_floatingButtonCta__2y76W\",\"topMainContainer\":\"listingPage_topMainContainer__1Mg6S\",\"innerMainContainer\":\"listingPage_innerMainContainer__dMGA9\",\"desktopLeftSide\":\"listingPage_desktopLeftSide__38oy0\",\"desktopRightSide\":\"listingPage_desktopRightSide__1wqoa\",\"shareIconsBar\":\"listingPage_shareIconsBar__34GPJ\",\"paymentSidebarContainer\":\"listingPage_paymentSidebarContainer__3p6hS\",\"buyTypeSelectorContainer\":\"listingPage_buyTypeSelectorContainer__2AFXr\",\"selectedBuyType\":\"listingPage_selectedBuyType__yx4Pi\",\"unselectedBuyType\":\"listingPage_unselectedBuyType__3eTCi\",\"starP\":\"listingPage_starP__2_eIu\",\"starPSmall\":\"listingPage_starPSmall__f3hDY\",\"bottomGradient\":\"listingPage_bottomGradient__2ZEK_\",\"bigImgDesktopCarouselContainer\":\"listingPage_bigImgDesktopCarouselContainer__1T3p2\",\"carouselLeftPic\":\"listingPage_carouselLeftPic__1AE_4\",\"carouselMiddlePic\":\"listingPage_carouselMiddlePic__1Snx2\",\"carouselRightPic\":\"listingPage_carouselRightPic__1iOTk\",\"carouselX\":\"listingPage_carouselX__kHNbo\",\"carouselArrowLeft\":\"listingPage_carouselArrowLeft__1GvP_\",\"carouselArrowRight\":\"listingPage_carouselArrowRight__sw5ye\",\"carouselDotsContainer\":\"listingPage_carouselDotsContainer__1IzaM\",\"carouselDot\":\"listingPage_carouselDot__1SUo3\",\"activeCarouselDot\":\"listingPage_activeCarouselDot__id2eU\",\"carouselDotsInnerContainer\":\"listingPage_carouselDotsInnerContainer__1JorE\",\"hideDesktop\":\"listingPage_hideDesktop__1uuX5\",\"buttonCta\":\"listingPage_buttonCta__5xFnP\",\"floatingButtonFullWidth\":\"listingPage_floatingButtonFullWidth__2h7K1\",\"floatingButtonLeft\":\"listingPage_floatingButtonLeft__10KNU\",\"floatingButtonRight\":\"listingPage_floatingButtonRight__3peX1\",\"sidePadding\":\"listingPage_sidePadding__xqLGK\",\"regularText\":\"listingPage_regularText__3VIDr\",\"regularTextHalfMargin\":\"listingPage_regularTextHalfMargin__1yh3C\",\"regularTextNoMargin\":\"listingPage_regularTextNoMargin__3zb31\",\"mainFeedContainers\":\"listingPage_mainFeedContainers__RnjaR\",\"headerImgDiv\":\"listingPage_headerImgDiv__2Ffnn\",\"mainPictureContainer\":\"listingPage_mainPictureContainer__1WUuJ\",\"mainPictureImg\":\"listingPage_mainPictureImg__3Pp_S\",\"smallPicturesContainer\":\"listingPage_smallPicturesContainer__1eRrh\",\"separatorLine\":\"listingPage_separatorLine__26xJj\",\"reviewCardContainer\":\"listingPage_reviewCardContainer__3MIyE\",\"mobileNoShow\":\"listingPage_mobileNoShow__1trFQ\",\"desktopCarouselIsInactive\":\"listingPage_desktopCarouselIsInactive__1_8B8\",\"linkP\":\"listingPage_linkP__3vD2a\",\"headlineP\":\"listingPage_headlineP__3ruJX\",\"smallPictureImg\":\"listingPage_smallPictureImg__2kcdC\",\"profilePictureImg\":\"listingPage_profilePictureImg__qHi6O\",\"sellerTextMainContainer\":\"listingPage_sellerTextMainContainer__3tXqV\",\"listingComponentsMainContainer\":\"listingPage_listingComponentsMainContainer__3VJJO\",\"reviewCardInnerContainer\":\"listingPage_reviewCardInnerContainer__313R2\",\"inputText\":\"listingPage_inputText__29c5x\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"regularText\":\"newListing_regularText__3BrAO\",\"regularTextHalfMargin\":\"newListing_regularTextHalfMargin__34ACV\",\"regularTextNoMargin\":\"newListing_regularTextNoMargin__1J1i5\",\"innerMainContainer\":\"newListing_innerMainContainer__31N8Y\",\"topMainContainer\":\"newListing_topMainContainer__MNalw\",\"headerImgDiv\":\"newListing_headerImgDiv__okvX7\",\"mainFeedContainers\":\"newListing_mainFeedContainers__l7y32\",\"mainPictureImg\":\"newListing_mainPictureImg__y7UKt\",\"smallPicturesContainer\":\"newListing_smallPicturesContainer__2zwyj\",\"smallPictureImg\":\"newListing_smallPictureImg__38_2y\",\"separatorLine\":\"newListing_separatorLine__HvfKY\",\"reviewCardContainer\":\"newListing_reviewCardContainer__177uq\",\"formContainer\":\"newListing_formContainer__2W252\",\"linkP\":\"newListing_linkP__2Re5k\",\"headlineP\":\"newListing_headlineP__eJzez\",\"ctaButton\":\"newListing_ctaButton__3y1Bt\",\"profilePictureImg\":\"newListing_profilePictureImg__36jnB\",\"sellerTextMainContainer\":\"newListing_sellerTextMainContainer__A0E3X\",\"buttonCta\":\"newListing_buttonCta__iO6NF\",\"listingComponentsMainContainer\":\"newListing_listingComponentsMainContainer__2QI4t\",\"reviewCardInnerContainer\":\"newListing_reviewCardInnerContainer__njigQ\",\"textInput\":\"newListing_textInput__1CSZY\",\"descriptionTextarea\":\"newListing_descriptionTextarea__1sbrh\",\"selectInput\":\"newListing_selectInput__2XxfC\",\"pictureSquare\":\"newListing_pictureSquare__2oE1v\",\"fileInput\":\"newListing_fileInput__1xigj\",\"fileInputLabel\":\"newListing_fileInputLabel__1n71a\",\"predefItemAutofillContainer\":\"newListing_predefItemAutofillContainer__3O8x5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bodyContainer\":\"authenticationForms_bodyContainer__3jP2A\",\"formCard\":\"authenticationForms_formCard__1U_-7\",\"regularText\":\"authenticationForms_regularText__3N50n\",\"inputText\":\"authenticationForms_inputText__ryq3o\",\"button\":\"authenticationForms_button__2HWyc\",\"logo\":\"authenticationForms_logo__1VI5K\",\"link\":\"authenticationForms_link__FYZeP\",\"invSpace\":\"authenticationForms_invSpace__1SDg9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"historyCardContainer\":\"specialListingCard_historyCardContainer__3-4_j\",\"listingMainPicture\":\"specialListingCard_listingMainPicture__zl3RB\",\"historyTitleContainer\":\"specialListingCard_historyTitleContainer__3jmZQ\",\"regularText\":\"specialListingCard_regularText__3soVY\",\"historyTotalContainer\":\"specialListingCard_historyTotalContainer__2DSTU\",\"historyTopContainer\":\"specialListingCard_historyTopContainer__2mc_b\",\"historyBottomContainer\":\"specialListingCard_historyBottomContainer__3r4CE\",\"historySellerInfoContainer\":\"specialListingCard_historySellerInfoContainer__WY3VE\",\"historySellerPicture\":\"specialListingCard_historySellerPicture__32beI\",\"historyCta\":\"specialListingCard_historyCta__1VyMF\",\"historyHalfCta\":\"specialListingCard_historyHalfCta__13iNP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imgLeftBanner\":\"warzone_imgLeftBanner__1Ldnc\",\"imgRightBanner\":\"warzone_imgRightBanner__3BUCQ\",\"mainBannerDesktop\":\"warzone_mainBannerDesktop__Ydn2s\",\"popCategoryContainer\":\"warzone_popCategoryContainer__2yr0N\",\"mobileMainHeader\":\"warzone_mobileMainHeader__2RWCh\",\"desktopMainHeader\":\"warzone_desktopMainHeader__1nc5c\",\"mobileHeaderImgDiv\":\"warzone_mobileHeaderImgDiv__pMZfQ\",\"topWelcomeMessage\":\"warzone_topWelcomeMessage__2Y8Sx\",\"mobileTopNavTopDiv\":\"warzone_mobileTopNavTopDiv__3iZJX\",\"mktingBannerContainer\":\"warzone_mktingBannerContainer__2NHiW\",\"ptsMobileBottomDiv\":\"warzone_ptsMobileBottomDiv__1Sago\",\"redeemPointsDiv\":\"warzone_redeemPointsDiv__o4PmN\",\"mobileCategorySlideshow\":\"warzone_mobileCategorySlideshow__22HMg\",\"seeMoreCats\":\"warzone_seeMoreCats__1V3P9\",\"categoriesMainContainer\":\"warzone_categoriesMainContainer__LUCH3\",\"chevronImgCategories\":\"warzone_chevronImgCategories__2tcVU\",\"searchSuggestP\":\"warzone_searchSuggestP__yRmiz\",\"searchSuggestMainContainer\":\"warzone_searchSuggestMainContainer__2d24f\",\"sectionTitleP\":\"warzone_sectionTitleP__2lvjh\",\"fixedCategoriesContainer\":\"warzone_fixedCategoriesContainer__llFSK\",\"linkP\":\"warzone_linkP__2PpHX\",\"scrollTopContainer\":\"warzone_scrollTopContainer__A3opZ\",\"mobileTopNav\":\"warzone_mobileTopNav__3YpqF\",\"regularText\":\"warzone_regularText__30YBu\",\"regularTextNoMargin\":\"warzone_regularTextNoMargin__3FYLd\",\"innerMainContainer\":\"warzone_innerMainContainer__2JDrz\",\"topMainContainerInnerContainer\":\"warzone_topMainContainerInnerContainer__32JRV\",\"searchInput\":\"warzone_searchInput__fBuO1\",\"headerImgDiv\":\"warzone_headerImgDiv__1kOxY\",\"headlineP\":\"warzone_headlineP__3EGJL\",\"mainFeedContainers\":\"warzone_mainFeedContainers__4il1R\",\"topMainContainer\":\"warzone_topMainContainer__3OmBi\",\"searchMainContainer\":\"warzone_searchMainContainer__glQgc\",\"desktopTitle\":\"warzone_desktopTitle__2mELk\",\"emptyStateMessageP\":\"warzone_emptyStateMessageP__adcLf\",\"searchSuggestScroller\":\"warzone_searchSuggestScroller__hBG6T\",\"searchTopContainer\":\"warzone_searchTopContainer__aAd1L\",\"searchIconClick\":\"warzone_searchIconClick__2Klxv\",\"searchXImg\":\"warzone_searchXImg__1xZ9v\",\"searchTransparentContainer\":\"warzone_searchTransparentContainer__Ba4OL\",\"searchContainerVisible\":\"warzone_searchContainerVisible__2J-uu\",\"displayNone\":\"warzone_displayNone__3s_5F\",\"scrollTopButton\":\"warzone_scrollTopButton__2JLlo\",\"stickyHeader\":\"warzone_stickyHeader__xDriI\",\"stickyHeaderParent\":\"warzone_stickyHeaderParent__38uZI\",\"iconTopMobileNav\":\"warzone_iconTopMobileNav__1EiQt\",\"searchInputActive\":\"warzone_searchInputActive__3U525\",\"searchInputDiv\":\"warzone_searchInputDiv__qh8dq\",\"logoMobileTopNav\":\"warzone_logoMobileTopNav__NfDKa\",\"clickable\":\"warzone_clickable__3WE3k\",\"bottomAlignChevron\":\"warzone_bottomAlignChevron__3J-JC\",\"allCatsTitle\":\"warzone_allCatsTitle__3w_6J\",\"allCatsText\":\"warzone_allCatsText__3KXJb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"regularText\":\"employeeStyle_regularText__mn8I_\",\"articleContainer\":\"employeeStyle_articleContainer__2VjCT\",\"textarea\":\"employeeStyle_textarea__fG6vH\",\"textareaNoMargin\":\"employeeStyle_textareaNoMargin__2V0ej\",\"button\":\"employeeStyle_button__1tOQW\",\"inlineButton\":\"employeeStyle_inlineButton__2mvY5\",\"nav\":\"employeeStyle_nav__1Tu4F\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"starIcon\":\"profile_starIcon__37D4D\",\"separatorLine\":\"profile_separatorLine__23sI6\",\"regularText\":\"profile_regularText__2cYKt\",\"regularTextHalfMargin\":\"profile_regularTextHalfMargin__2PZwx\",\"regularTextNoMargin\":\"profile_regularTextNoMargin__LPvw_\",\"innerMainContainer\":\"profile_innerMainContainer__26uTe\",\"topMainContainer\":\"profile_topMainContainer__1LycS\",\"headerImgDiv\":\"profile_headerImgDiv__2GRjG\",\"mainPictureImg\":\"profile_mainPictureImg__1sk9C\",\"smallPicturesContainer\":\"profile_smallPicturesContainer__2Lghy\",\"smallPictureImg\":\"profile_smallPictureImg__7i0Ge\",\"reviewCardContainer\":\"profile_reviewCardContainer__EdRf4\",\"sellerTextMainContainer\":\"profile_sellerTextMainContainer__1XF7V\",\"listingComponentsMainContainer\":\"profile_listingComponentsMainContainer__1Il8G\",\"followButtonMainContainer\":\"profile_followButtonMainContainer__1ApSE\",\"linkP\":\"profile_linkP__ulguj\",\"headlineP\":\"profile_headlineP__1s6dd\",\"listingSmallCard\":\"profile_listingSmallCard__3pypv\",\"listingPicture\":\"profile_listingPicture__3A8by\",\"listingPrice\":\"profile_listingPrice__2_HYU\",\"listingCarousel\":\"profile_listingCarousel__209aY\",\"profilePictureImg\":\"profile_profilePictureImg__3dWjr\",\"reviewProfilePictureImg\":\"profile_reviewProfilePictureImg__1MTCL\",\"buttonCta\":\"profile_buttonCta__cHbHb\",\"reviewCardInnerContainer\":\"profile_reviewCardInnerContainer__3cLPZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileModalText\":\"desktopTopNav_profileModalText__hsTyn\",\"profileModalMainContainer\":\"desktopTopNav_profileModalMainContainer__SN6x4\",\"arrow_example\":\"desktopTopNav_arrow_example__1AVmA\",\"arrow_border_example\":\"desktopTopNav_arrow_border_example__3Xtsb\",\"searchSuggestMainContainer\":\"desktopTopNav_searchSuggestMainContainer__2IT7A\",\"searchSuggestP\":\"desktopTopNav_searchSuggestP__2gDEP\",\"iconTopMobileNav\":\"desktopTopNav_iconTopMobileNav__35lpi\",\"searchInput\":\"desktopTopNav_searchInput__1p7fl\",\"searchInputActive\":\"desktopTopNav_searchInputActive__17XvH\",\"searchInputDiv\":\"desktopTopNav_searchInputDiv__-4OrE\",\"desktopTopNav\":\"desktopTopNav_desktopTopNav__35MHD\",\"desktopTopNavInnerContainer\":\"desktopTopNav_desktopTopNavInnerContainer__XnaNg\",\"logoDesktopTopNav\":\"desktopTopNav_logoDesktopTopNav__3abxr\",\"desktopTopNavIconsContainer\":\"desktopTopNav_desktopTopNavIconsContainer__2q4zq\",\"iconSeparator\":\"desktopTopNav_iconSeparator__i9xq5\",\"iconContainer\":\"desktopTopNav_iconContainer__3jU4V\",\"textContainer\":\"desktopTopNav_textContainer__y7LQ7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"popCategoryContainer\":\"mobileSearch_popCategoryContainer__1NK8i\",\"mobileMainHeader\":\"mobileSearch_mobileMainHeader__3qfPc\",\"desktopMainHeader\":\"mobileSearch_desktopMainHeader__2MPtv\",\"mobileHeaderImgDiv\":\"mobileSearch_mobileHeaderImgDiv__3tlaW\",\"topWelcomeMessage\":\"mobileSearch_topWelcomeMessage__30xPU\",\"mobileTopNavTopDiv\":\"mobileSearch_mobileTopNavTopDiv__1LjHm\",\"mktingBannerContainer\":\"mobileSearch_mktingBannerContainer__I8EtV\",\"ptsMobileBottomDiv\":\"mobileSearch_ptsMobileBottomDiv__1ibIn\",\"redeemPointsDiv\":\"mobileSearch_redeemPointsDiv__238FQ\",\"mobileCategorySlideshow\":\"mobileSearch_mobileCategorySlideshow__O3NsY\",\"seeMoreCats\":\"mobileSearch_seeMoreCats__3LtsL\",\"categoriesMainContainer\":\"mobileSearch_categoriesMainContainer__3k0p1\",\"chevronImgCategories\":\"mobileSearch_chevronImgCategories__CbkLU\",\"searchSuggestP\":\"mobileSearch_searchSuggestP__OH0w6\",\"searchSuggestMainContainer\":\"mobileSearch_searchSuggestMainContainer__CZiRu\",\"sectionTitleP\":\"mobileSearch_sectionTitleP__1yD16\",\"fixedCategoriesContainer\":\"mobileSearch_fixedCategoriesContainer__JKar_\",\"linkP\":\"mobileSearch_linkP__1DCCJ\",\"scrollTopContainer\":\"mobileSearch_scrollTopContainer__27kpq\",\"mobileTopNav\":\"mobileSearch_mobileTopNav__WOP_z\",\"regularText\":\"mobileSearch_regularText__27D1g\",\"regularTextNoMargin\":\"mobileSearch_regularTextNoMargin__2yQlS\",\"innerMainContainer\":\"mobileSearch_innerMainContainer__3VZ9O\",\"topMainContainerInnerContainer\":\"mobileSearch_topMainContainerInnerContainer__QX-nj\",\"searchInput\":\"mobileSearch_searchInput__22Joq\",\"headerImgDiv\":\"mobileSearch_headerImgDiv__3XGRh\",\"headlineP\":\"mobileSearch_headlineP__201qU\",\"mainFeedContainers\":\"mobileSearch_mainFeedContainers__29OYS\",\"topMainContainer\":\"mobileSearch_topMainContainer__9EOce\",\"searchMainContainer\":\"mobileSearch_searchMainContainer__QbqUS\",\"desktopTitle\":\"mobileSearch_desktopTitle__2O07U\",\"emptyStateMessageP\":\"mobileSearch_emptyStateMessageP__265oB\",\"searchSuggestScroller\":\"mobileSearch_searchSuggestScroller__1sGYT\",\"searchTopContainer\":\"mobileSearch_searchTopContainer__3VlX2\",\"searchIconClick\":\"mobileSearch_searchIconClick__aNy8p\",\"searchXImg\":\"mobileSearch_searchXImg__1fE1R\",\"searchTransparentContainer\":\"mobileSearch_searchTransparentContainer__29w_t\",\"searchContainerVisible\":\"mobileSearch_searchContainerVisible__3o_QB\",\"displayNone\":\"mobileSearch_displayNone__2oRpf\",\"scrollTopButton\":\"mobileSearch_scrollTopButton__1UtGP\",\"stickyHeader\":\"mobileSearch_stickyHeader__Qoaro\",\"stickyHeaderParent\":\"mobileSearch_stickyHeaderParent__ZneZh\",\"iconTopMobileNav\":\"mobileSearch_iconTopMobileNav__ftHqb\",\"searchInputActive\":\"mobileSearch_searchInputActive__13ehl\",\"searchInputDiv\":\"mobileSearch_searchInputDiv__2mnLm\",\"logoMobileTopNav\":\"mobileSearch_logoMobileTopNav__iZfBs\",\"clickable\":\"mobileSearch_clickable__3w8aZ\",\"bottomAlignChevron\":\"mobileSearch_bottomAlignChevron__MaXAg\",\"allCatsTitle\":\"mobileSearch_allCatsTitle__1HiIo\",\"allCatsText\":\"mobileSearch_allCatsText__fG5TP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"saveButtonContainer\":\"account_saveButtonContainer__3LwwJ\",\"bioTextarea\":\"account_bioTextarea__3IKX3\",\"regularTextInput\":\"account_regularTextInput__3j09g\",\"regularText\":\"account_regularText__3Vt3n\",\"regularTextHalfMargin\":\"account_regularTextHalfMargin__2cWbL\",\"regularTextNoMargin\":\"account_regularTextNoMargin__26NTY\",\"innerMainContainer\":\"account_innerMainContainer__2eRrd\",\"topMainContainer\":\"account_topMainContainer__3GLnJ\",\"headerImgDiv\":\"account_headerImgDiv__3ucgY\",\"mainPictureImg\":\"account_mainPictureImg__1Emnn\",\"smallPicturesContainer\":\"account_smallPicturesContainer__1o57_\",\"smallPictureImg\":\"account_smallPictureImg__3ItGT\",\"separatorLine\":\"account_separatorLine__2ozlm\",\"reviewCardContainer\":\"account_reviewCardContainer__1fqmL\",\"sellerTextMainContainer\":\"account_sellerTextMainContainer__1Co7H\",\"listingComponentsMainContainer\":\"account_listingComponentsMainContainer__86np0\",\"topicContainer\":\"account_topicContainer__3D_O7\",\"linkP\":\"account_linkP__1FRUS\",\"headlineP\":\"account_headlineP__3YMRe\",\"listingSmallCard\":\"account_listingSmallCard__3Uluu\",\"listingPicture\":\"account_listingPicture__1Pc9H\",\"listingPrice\":\"account_listingPrice__2cpx-\",\"listingCarousel\":\"account_listingCarousel__3MqZ1\",\"profilePictureImg\":\"account_profilePictureImg__2Mz6P\",\"reviewProfilePictureImg\":\"account_reviewProfilePictureImg__2IHFH\",\"buttonCta\":\"account_buttonCta__1xjNl\",\"reviewCardInnerContainer\":\"account_reviewCardInnerContainer__2OkfK\",\"pictureSquare\":\"account_pictureSquare__22pa-\",\"fileInput\":\"account_fileInput__1-UZS\",\"fileInputLabel\":\"account_fileInputLabel__2v8PQ\",\"deletePicButton\":\"account_deletePicButton__T42lv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bodyContainer\":\"accountSetup_bodyContainer__2kbRB\",\"topicContainer\":\"accountSetup_topicContainer__3ZuCi\",\"formCard\":\"accountSetup_formCard__2OaJ8\",\"activeForm\":\"accountSetup_activeForm__1fulZ\",\"regularText\":\"accountSetup_regularText__a1lgy\",\"inputText\":\"accountSetup_inputText__3rpsS\",\"button\":\"accountSetup_button__1rBVf\",\"logo\":\"accountSetup_logo__2Ra_x\",\"link\":\"accountSetup_link__1WLbj\",\"invSpace\":\"accountSetup_invSpace__acgmW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"logo\":\"aboutUs_logo__1SMYj\",\"headlineText\":\"aboutUs_headlineText__afp_x\",\"submitButton\":\"aboutUs_submitButton__F3IHD\",\"link\":\"aboutUs_link__wFuUw\",\"socialIcon\":\"aboutUs_socialIcon__Wq1Jo\",\"input\":\"aboutUs_input__C1IFh\",\"textArea\":\"aboutUs_textArea__3T8t_\",\"halfDiv\":\"aboutUs_halfDiv__3zwK4\",\"mainContainer\":\"aboutUs_mainContainer__3hx_q\",\"mainInnerContainer\":\"aboutUs_mainInnerContainer__3gZfI\",\"header\":\"aboutUs_header__1uZkW\",\"mockupImg\":\"aboutUs_mockupImg__kFbx-\",\"regularText\":\"aboutUs_regularText__1YhOa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"logo\":\"launchLandingPage_logo__2sdnl\",\"socialIcon\":\"launchLandingPage_socialIcon__luyyJ\",\"halfDiv\":\"launchLandingPage_halfDiv__1yze_\",\"mainContainer\":\"launchLandingPage_mainContainer__1vvnB\",\"mainInnerContainer\":\"launchLandingPage_mainInnerContainer__2Uh3-\",\"header\":\"launchLandingPage_header__11CWm\",\"mockupImg\":\"launchLandingPage_mockupImg__ly3Oh\",\"input\":\"launchLandingPage_input__2N0_4\",\"submitButton\":\"launchLandingPage_submitButton__akdII\",\"regularText\":\"launchLandingPage_regularText__13Sd4\",\"mainShareContainer\":\"launchLandingPage_mainShareContainer__21uP_\",\"topShareContainer\":\"launchLandingPage_topShareContainer__1_7OR\",\"bottomShareContainer\":\"launchLandingPage_bottomShareContainer__T6yrn\",\"shareIcons\":\"launchLandingPage_shareIcons__2Pcos\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"topMainContainerInnerContainer\":\"community_topMainContainerInnerContainer__1pLBW\",\"mktingBannerContainer\":\"community_mktingBannerContainer__Qb4_r\",\"communitySectionContainer\":\"community_communitySectionContainer__iWoFp\",\"postCard\":\"community_postCard__3imJQ\",\"seeMoreCats\":\"community_seeMoreCats__1xhjN\",\"categoriesMainContainer\":\"community_categoriesMainContainer__17C2G\",\"chevronImgCategories\":\"community_chevronImgCategories__yIVNt\",\"searchSuggestP\":\"community_searchSuggestP__2LGvn\",\"searchSuggestMainContainer\":\"community_searchSuggestMainContainer__3c2wl\",\"sectionTitleP\":\"community_sectionTitleP__wEJhs\",\"fixedCategoriesContainer\":\"community_fixedCategoriesContainer__1YReK\",\"linkP\":\"community_linkP__10fy8\",\"scrollTopButton\":\"community_scrollTopButton__2hSyu\",\"mobileTopNav\":\"community_mobileTopNav__3qrTj\",\"regularText\":\"community_regularText__L1l1x\",\"regularTextNoMargin\":\"community_regularTextNoMargin__2HFmE\",\"innerMainContainer\":\"community_innerMainContainer__2fCY8\",\"searchInput\":\"community_searchInput__38IsP\",\"headerImgDiv\":\"community_headerImgDiv__1Gr48\",\"headlineP\":\"community_headlineP__3CktS\",\"mainFeedContainers\":\"community_mainFeedContainers__2U5kV\",\"topMainContainer\":\"community_topMainContainer__1DY9J\",\"searchMainContainer\":\"community_searchMainContainer__2pPF1\",\"emptyStateMessageP\":\"community_emptyStateMessageP__3A52x\",\"searchSuggestScroller\":\"community_searchSuggestScroller__jmq_L\",\"searchTopContainer\":\"community_searchTopContainer__26YLe\",\"searchIconClick\":\"community_searchIconClick__1aHav\",\"searchXImg\":\"community_searchXImg__29tiv\",\"searchTransparentContainer\":\"community_searchTransparentContainer__SkuQV\",\"searchContainerVisible\":\"community_searchContainerVisible__287QE\",\"displayNone\":\"community_displayNone__1AEma\",\"stickyHeader\":\"community_stickyHeader__EWstF\",\"stickyHeaderParent\":\"community_stickyHeaderParent__17L2j\",\"iconTopMobileNav\":\"community_iconTopMobileNav__xM3UE\",\"searchInputActive\":\"community_searchInputActive__3_fbU\",\"searchInputDiv\":\"community_searchInputDiv__2jsYA\",\"logoMobileTopNav\":\"community_logoMobileTopNav__Pc0wr\",\"clickable\":\"community_clickable__32snq\",\"bottomAlignChevron\":\"community_bottomAlignChevron__3vUvP\",\"allCatsTitle\":\"community_allCatsTitle__Rh3GL\",\"allCatsText\":\"community_allCatsText__1xUoh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formCard\":\"stripePayment_formCard__2TR_T\",\"bodyContainer\":\"stripePayment_bodyContainer__38CMX\",\"button\":\"stripePayment_button__Q6mFW\",\"formRow\":\"stripePayment_formRow__32LHz\",\"regularText\":\"stripePayment_regularText__v0EHU\",\"regularTextHalfMargin\":\"stripePayment_regularTextHalfMargin__1vvhJ\",\"textInput\":\"stripePayment_textInput__3JB3I\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mobileSearchContainer\":\"search_mobileSearchContainer__1jO6y\",\"lineSeparator\":\"search_lineSeparator__36Zam\",\"topBar\":\"search_topBar__1PFO5\",\"topMainContainer\":\"search_topMainContainer__2JE9p\",\"topBarBottomContainer\":\"search_topBarBottomContainer__2z5rH\",\"topBarTopContainer\":\"search_topBarTopContainer__JkNrp\",\"resultsContainer\":\"search_resultsContainer__33J8i\",\"separatorLine\":\"search_separatorLine__3BKdc\",\"hideMobile\":\"search_hideMobile__2LA2h\",\"topicContainer\":\"search_topicContainer__1GF53\",\"searchSuggestP\":\"search_searchSuggestP__3C1U_\",\"searchTopContainer\":\"search_searchTopContainer__zmol7\",\"searchIconClick\":\"search_searchIconClick__15910\",\"searchSuggestMainContainer\":\"search_searchSuggestMainContainer__1ANFW\",\"searchMainContainer\":\"search_searchMainContainer__3qdCO\",\"searchXImg\":\"search_searchXImg__2CnIv\",\"searchTransparentContainer\":\"search_searchTransparentContainer__TDksW\",\"searchContainerVisible\":\"search_searchContainerVisible__NH-vj\",\"categoriesMainContainer\":\"search_categoriesMainContainer__LhHfr\",\"displayNone\":\"search_displayNone__3d0wd\",\"scrollTopButton\":\"search_scrollTopButton__k3lSV\",\"linkP\":\"search_linkP__hYoDy\",\"sectionTitleP\":\"search_sectionTitleP__P6Ma4\",\"stickyHeader\":\"search_stickyHeader__3LE92\",\"stickyHeaderParent\":\"search_stickyHeaderParent__2EZyL\",\"mobileTopNav\":\"search_mobileTopNav__23MR7\",\"iconTopMobileNav\":\"search_iconTopMobileNav__TlYOM\",\"searchInput\":\"search_searchInput__1G2_3\",\"searchInputActive\":\"search_searchInputActive__2ytaR\",\"searchInputDiv\":\"search_searchInputDiv__39JsV\",\"logoMobileTopNav\":\"search_logoMobileTopNav__2uTjm\",\"regularText\":\"search_regularText__154Bp\",\"regularTextNoMargin\":\"search_regularTextNoMargin__2N9x7\",\"innerMainContainer\":\"search_innerMainContainer__7Ay2g\",\"topMainContainerInnerContainer\":\"search_topMainContainerInnerContainer__1nea6\",\"headerImgDiv\":\"search_headerImgDiv__3v8gF\",\"headlineP\":\"search_headlineP__3w8pz\",\"mainFeedContainers\":\"search_mainFeedContainers__3G47C\",\"hideDesktop\":\"search_hideDesktop__1SRIr\",\"seeMoreCats\":\"search_seeMoreCats__2X1CX\",\"bodyContainer\":\"search_bodyContainer__3Smlh\",\"fixedCategoriesContainer\":\"search_fixedCategoriesContainer__1U4lW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"starP\":\"listingCard_starP__jcJzg\",\"priceP\":\"listingCard_priceP__Wef-N\",\"itemStateContainer\":\"listingCard_itemStateContainer__1RZCD\",\"listingTitle\":\"listingCard_listingTitle__7OK7h\",\"mediumBigText\":\"listingCard_mediumBigText__35-Sw\",\"bottomGradient\":\"listingCard_bottomGradient__34gTu\",\"topGradient\":\"listingCard_topGradient__Ww-lx\",\"userInfoDivisor\":\"listingCard_userInfoDivisor__IEXqI\",\"productPicture\":\"listingCard_productPicture__15s9G\",\"productTextContainer\":\"listingCard_productTextContainer__2aYZu\",\"userPicture\":\"listingCard_userPicture__2SqQw\",\"mainContainer\":\"listingCard_mainContainer__3KoWz\",\"userTextContainer\":\"listingCard_userTextContainer__1Nfqo\",\"mainDivisors\":\"listingCard_mainDivisors__3bSe-\",\"noMarginP\":\"listingCard_noMarginP__3I2pt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"reviewsCard_container__3ID12\",\"rating\":\"reviewsCard_rating__df4vD\",\"rating0\":\"reviewsCard_rating0__2peYh\",\"emojiWrapper\":\"reviewsCard_emojiWrapper__3LsZn\",\"emoji\":\"reviewsCard_emoji__1g6Hl\",\"rating1\":\"reviewsCard_rating1__cXHl8\",\"rating2\":\"reviewsCard_rating2__3q8iv\",\"rating3\":\"reviewsCard_rating3__1JrbD\",\"rating4\":\"reviewsCard_rating4__2ZUYj\",\"rating5\":\"reviewsCard_rating5__1E1yn\",\"feedback\":\"reviewsCard_feedback__1tmnF\",\"textarea\":\"reviewsCard_textarea__2FwNM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainContainer\":\"mobileBottomNav_mainContainer__3gMTo\",\"iconSeparator\":\"mobileBottomNav_iconSeparator__Y9nBi\",\"iconContainer\":\"mobileBottomNav_iconContainer__1jbtJ\",\"textContainer\":\"mobileBottomNav_textContainer__O6vWq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"topBar\":\"profileLinks_topBar__1471g\",\"mainBody\":\"profileLinks_mainBody__1xCMj\",\"bottomBar\":\"profileLinks_bottomBar__1kohu\",\"pageBody\":\"profileLinks_pageBody__2jxS4\",\"emptyStateMessageP\":\"profileLinks_emptyStateMessageP__MpiN6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"closeButton\":\"modal_closeButton__3Eh5z\",\"topContainer\":\"modal_topContainer__KYZt9\",\"contentContainer\":\"modal_contentContainer__1iiab\",\"modalBody\":\"modal_modalBody__2DXgS\",\"modalTransparentBody\":\"modal_modalTransparentBody__3IHqV\",\"modalTitleP\":\"modal_modalTitleP__261qA\",\"regularTextNoMargin\":\"modal_regularTextNoMargin__3U_7M\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footerThird\":\"footer_footerThird__1NM2V\",\"footerInnerContainer\":\"footer_footerInnerContainer__1udOo\",\"footer\":\"footer_footer__2YpGN\",\"noMarginText\":\"footer_noMarginText__3F9c9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"mvpFooter_footer__2F88u\",\"regularText\":\"mvpFooter_regularText__XyWFo\",\"link\":\"mvpFooter_link__2cAm3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"regularText\":\"activityTicker_regularText__Me4Dy\",\"regularTextHalfMargin\":\"activityTicker_regularTextHalfMargin__2qcfh\",\"regularTextNoMargin\":\"activityTicker_regularTextNoMargin__KQa8q\",\"divTitleP\":\"activityTicker_divTitleP__Wm2g6\",\"historyTabMainContainer\":\"activityTicker_historyTabMainContainer__1vUxP\",\"historyEventCard\":\"activityTicker_historyEventCard__3-3nw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"starP\":\"listingCardSmallCard_starP__P9IFY\",\"itemStateContainer\":\"listingCardSmallCard_itemStateContainer__S8GTw\",\"userTextContainer\":\"listingCardSmallCard_userTextContainer__2TybT\",\"productTextContainer\":\"listingCardSmallCard_productTextContainer__25Iqo\",\"bottomGradient\":\"listingCardSmallCard_bottomGradient__8SUqp\",\"topGradient\":\"listingCardSmallCard_topGradient__1cfM3\",\"userInfoDivisor\":\"listingCardSmallCard_userInfoDivisor__3bzI6\",\"productPicture\":\"listingCardSmallCard_productPicture__3fbhY\",\"userPicture\":\"listingCardSmallCard_userPicture__64Udd\",\"mainContainer\":\"listingCardSmallCard_mainContainer__1z90u\",\"mainDivisors\":\"listingCardSmallCard_mainDivisors__2t7K7\",\"noMarginP\":\"listingCardSmallCard_noMarginP__1cnd0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"regularText\":\"articlePage_regularText__Ohffa\",\"articleContainer\":\"articlePage_articleContainer__1PQrS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"lds_ellipsis\":\"loaderAnimation_lds_ellipsis__9A0oR\",\"lds_ellipsis1\":\"loaderAnimation_lds_ellipsis1__3I72W\",\"lds_ellipsis2\":\"loaderAnimation_lds_ellipsis2__38y1b\",\"lds_ellipsis3\":\"loaderAnimation_lds_ellipsis3__2gbSi\",\"spinnerContainer\":\"loaderAnimation_spinnerContainer___qlm4\",\"spinnerInnerContainer\":\"loaderAnimation_spinnerInnerContainer__3WkB0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"snackbar\":\"snackBar_snackbar__1GCz_\",\"show\":\"snackBar_show__IH9sR\",\"fadein\":\"snackBar_fadein__1KQDB\",\"fadeout\":\"snackBar_fadeout__EAcBB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainBody\":\"bodyContainer_mainBody__3eRjG\"};","import React, { useEffect, Fragment } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nfunction ScrollToTop({ history, children }) {\r\n    useEffect(() => {\r\n        const unlisten = history.listen(() => {\r\n            window.scrollTo(0, 0);\r\n        });\r\n        return () => {\r\n            unlisten();\r\n        }\r\n    }, []);\r\n\r\n    return <Fragment>{children}</Fragment>;\r\n}\r\n\r\nexport default withRouter(ScrollToTop);\r\n","import axios from \"axios\";\r\nconst setAuthToken = (token) => {\r\n    if (token) {\r\n        // Apply authorization token to every request if logged in\r\n        axios.defaults.headers.common[\"Authorization\"] = token;\r\n    } else {\r\n        // Delete auth header\r\n        delete axios.defaults.headers.common[\"Authorization\"];\r\n    }\r\n};\r\nexport default setAuthToken;","import axios from \"axios\"\r\n\r\nconst convertedVapidKey = urlBase64ToUint8Array(\"BAt4xiY5kXoExdMjzxPrFIuV02M-eruCKK61i_yh1JAgh0LoMN_fXSTEvGdAw4bFE91ID4qDLlZf7A8SF8sI9bo\")\r\nfunction urlBase64ToUint8Array(base64String) {\r\n    const padding = \"=\".repeat((4 - base64String.length % 4) % 4)\r\n    // eslint-disable-next-line\r\n    const base64 = (base64String + padding).replace(/\\-/g, \"+\").replace(/_/g, \"/\")\r\n\r\n    const rawData = window.atob(base64)\r\n    const outputArray = new Uint8Array(rawData.length)\r\n\r\n    for (let i = 0; i < rawData.length; ++i) {\r\n        outputArray[i] = rawData.charCodeAt(i)\r\n    }\r\n    return outputArray\r\n}\r\n\r\nfunction sendSubscription(subscription) {\r\n    return axios.post(window.api_prefix+\"/notifSubscribe\", { subscription: subscription });\r\n}\r\n\r\nexport function subscribeUser() {\r\n\r\n    if ('serviceWorker' in navigator) {\r\n        navigator.serviceWorker.ready.then(function (registration) {\r\n            if (!registration.pushManager) {\r\n                return\r\n            }\r\n\r\n            registration.pushManager.getSubscription().then(function (existedSubscription) {\r\n                if (existedSubscription === null) {\r\n                    registration.pushManager.subscribe({\r\n                        applicationServerKey: convertedVapidKey,\r\n                        userVisibleOnly: true,\r\n                    }).then(function (newSubscription) {\r\n                        console.log('New subscription added.')\r\n                        sendSubscription(newSubscription)\r\n                    }).catch(function (e) {\r\n                        if (Notification.permission !== 'granted') {\r\n                            // alert('Permission was not granted.')\r\n                        } else {\r\n                            // alert('An error ocurred during the subscription process.', e)\r\n                        }\r\n                    })\r\n                } else {\r\n                    // alert('Existed subscription detected.')\r\n                    sendSubscription(existedSubscription)\r\n                }\r\n            })\r\n        })\r\n            .catch(function (e) {\r\n                // alert('An error ocurred during Service Worker registration.', e)\r\n            })\r\n    }\r\n}\r\n\r\nexport function unsubscribeNotificationUser(userToken) {\r\n    if ('serviceWorker' in navigator) {\r\n        navigator.serviceWorker.ready.then(function (registration) {\r\n            if (!registration.pushManager) {\r\n                return;\r\n            }\r\n\r\n            registration.pushManager.getSubscription().then(function (existedSubscription) {\r\n                if (existedSubscription != null) {\r\n                    return axios.post(window.api_prefix+\"/notifUnsubscribe\", { subscription: existedSubscription, userToken: userToken });\r\n                }\r\n            })\r\n        })\r\n            .catch(function (e) {\r\n                return;\r\n            })\r\n    }\r\n}","export const GET_ERRORS = \"GET_ERRORS\";\r\nexport const USER_LOADING = \"USER_LOADING\";\r\nexport const SET_CURRENT_USER = \"SET_CURRENT_USER\";","import axios from \"axios\";\r\nimport setAuthToken from \"../utils/setAuthToken\";\r\nimport jwt_decode from \"jwt-decode\";\r\nimport { unsubscribeNotificationUser, subscribeUser } from \"subscription.js\"\r\n\r\nimport {\r\n    GET_ERRORS,\r\n    SET_CURRENT_USER,\r\n    USER_LOADING\r\n} from \"./types\";\r\n\r\n// Register User\r\nexport const registerUser = (userData, history) => dispatch => {\r\n    axios\r\n        .post(window.api_prefix+\"/signupUser\", userData)\r\n        .then(res => history.push(\"/login\")) // re-direct to login on successful register\r\n        .catch(err =>\r\n            dispatch({\r\n                type: GET_ERRORS,\r\n                payload: err.response.data\r\n            })\r\n        );\r\n};\r\n// Login - get user token\r\nexport const loginUser = userData => dispatch => {\r\n    axios\r\n        .post(window.api_prefix+\"/loginUser\", userData)\r\n        .then(res => {\r\n            // Save to localStorage\r\n            // Set token to localStorage\r\n            const { token } = res.data;\r\n            localStorage.setItem(\"jwtToken\", token);\r\n\r\n            localStorage.setItem(\"setupVerif\", res.data.isAccountSetup);\r\n\r\n            // Set token to Auth header\r\n            setAuthToken(token);\r\n            subscribeUser()\r\n            // Decode token to get user data\r\n            const decoded = jwt_decode(token);\r\n            // Set current user\r\n            dispatch(setCurrentUser(decoded));\r\n        })\r\n        .catch(err =>\r\n            dispatch({\r\n                type: GET_ERRORS,\r\n                payload: err.response.data\r\n            })\r\n        );\r\n};\r\n\r\n\r\n//LOGIN EMPLOYEE\r\nexport const loginEmployee = userData => dispatch => {\r\n    axios\r\n        .post(\"/api/loginEmployee\", userData)\r\n        .then(res => {\r\n            // Save to localStorage\r\n            // Set token to localStorage\r\n            const { token } = res.data;\r\n            console.log(token);\r\n            localStorage.setItem(\"employeeToken\", token);\r\n            // Set token to Auth header\r\n            // Apply authorization token to every request if logged in\r\n            axios.defaults.headers.common[\"employeeAuthorization\"] = token;\r\n            // Decode token to get user data\r\n            const decoded = jwt_decode(token);\r\n            // Set current user\r\n            dispatch(setCurrentEmployee(decoded));\r\n        })\r\n        .catch(err =>\r\n            dispatch({\r\n                type: GET_ERRORS,\r\n                payload: err.response.data\r\n            })\r\n        );\r\n};\r\n\r\n// Set logged in user\r\nexport const setCurrentUser = decoded => {\r\n    return {\r\n        type: SET_CURRENT_USER,\r\n        payload: decoded\r\n    };\r\n};\r\n\r\nexport const setCurrentEmployee = decoded => {\r\n    return {\r\n        type: SET_CURRENT_USER,\r\n        payload: decoded\r\n    };\r\n};\r\n\r\n\r\n// User loading\r\nexport const setUserLoading = () => {\r\n    return {\r\n        type: USER_LOADING\r\n    };\r\n};\r\n// Log user out\r\nexport const logoutUser = () => dispatch => {\r\n    // Remove token from local storage\r\n\r\n    unsubscribeNotificationUser(localStorage.getItem(\"jwtToken\"));\r\n\r\n    localStorage.removeItem(\"jwtToken\");\r\n    localStorage.removeItem(\"setupVerif\");\r\n    // Remove auth header for future requests\r\n    setAuthToken(false);\r\n    // Set current user to empty object {} which will set isAuthenticated to false\r\n    dispatch(setCurrentUser({}));\r\n};","import {\r\n    SET_CURRENT_USER,\r\n    USER_LOADING\r\n} from \"../reduxActions/types\";\r\nconst isEmpty = require(\"is-empty\");\r\nconst initialState = {\r\n    isAuthenticated: false,\r\n    user: {},\r\n    loading: false\r\n};\r\n\r\nconst initialEmployeeState = {\r\n    isEmployeeAuthenticated: false,\r\n    employee: {},\r\n    loading: false\r\n};\r\n\r\nexport function authReducer(state = initialState, action) {\r\n    switch (action.type) {\r\n        case SET_CURRENT_USER:\r\n            return {\r\n                ...state,\r\n                isAuthenticated: !isEmpty(action.payload),\r\n                user: action.payload\r\n            };\r\n        case USER_LOADING:\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport function authReducerEmployee(state = initialEmployeeState, action) {\r\n    switch (action.type) {\r\n        case SET_CURRENT_USER:\r\n            return {\r\n                ...state,\r\n                isEmployeeAuthenticated: !isEmpty(action.payload),\r\n                employee: action.payload\r\n            };\r\n        case USER_LOADING:\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}","import { GET_ERRORS } from \"../reduxActions/types\";\r\nconst initialState = {};\r\nfunction errorReducer(state = initialState, action) {\r\n    switch (action.type) {\r\n        case GET_ERRORS:\r\n            return action.payload;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nexport default errorReducer;","import { combineReducers } from \"redux\";\r\nimport { authReducer } from \"./authReducers\";\r\nimport errorReducer from \"./errorReducers\";\r\nexport default combineReducers({\r\n    auth: authReducer,\r\n    errors: errorReducer\r\n});","import { createStore, applyMiddleware, compose } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport rootReducer from \"./reduxReducers\";\r\n\r\n\r\nconst initialState = {};\r\nconst middleware = [thunk];\r\nconst store = createStore(\r\n    rootReducer,\r\n    initialState,\r\n    compose(\r\n        applyMiddleware(...middleware)\r\n    )\r\n);\r\nexport default store;","import React from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport styles from \"public/style/aboutUs.module.css\";\r\nimport axios from \"axios\";\r\nclass aboutUs extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            predefItems:[],\r\n            isLoading:true\r\n        }\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n        axios.get(window.api_prefix+\"/predefProductsList\").then(resp=>{\r\n            console.log(resp.data);\r\n            this.setState({\r\n                predefItems:resp.data,\r\n                isLoading:false\r\n            })\r\n        }).catch(err=>{\r\n            if(err.response){\r\n             alert(\"ERROR\");\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n\r\n    render() {\r\n    if(this.state.isLoading){\r\n        return null;\r\n    }\r\n\r\n        for(let i = 0;i<this.state.predefItems.types.length;i++){\r\n            for(let j=0;j<this.state.predefItems.filters.length;j++){\r\n                if(this.state.predefItems.types[i].id == this.state.predefItems.filters[j].filtertypeid){\r\n                    this.state.predefItems.filters[j].type = this.state.predefItems.types[i].name;\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n        let items = [];\r\n        for(let i=0; i<this.state.predefItems.items.length; i++){\r\n            let item = this.state.predefItems.items[i];\r\n            item.filters = [];\r\n            for(let j=0; j<this.state.predefItems.filters.length; j++){\r\n                if(this.state.predefItems.filters[j].itemid == item.id){\r\n                    item.filters.push(this.state.predefItems.filters[j]);\r\n                }\r\n            }\r\n\r\n            let specsString = \"(\";\r\n            for(let v=0;v<item.filters.length;v++){\r\n                specsString+=\",   \"+item.filters[v].type+\" : \"+item.filters[v].textvalue;\r\n            }\r\n            specsString+=\")\";\r\n            items.push(\r\n                <div key={i}>\r\n                    <p>ID {item.id} {item.title} {specsString}</p>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        return (\r\n            <div style={{cursor:\"text\"}}>\r\n                {items}\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default withTranslation()(aboutUs);","import React from \"react\";\r\nimport styles from 'public/style/footer.module.css';\r\nimport { withTranslation } from \"react-i18next\";\r\nimport {Link} from \"react-router-dom\";\r\nclass Footer extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            lang: \"fr\"\r\n        }\r\n        this.handleLangChange = this.handleLangChange.bind(this);\r\n    }\r\n    componentDidMount() {\r\n        if (localStorage.lang === \"fr\" || localStorage.lang === \"en\") {\r\n            this.setState({\r\n                lang: localStorage.lang\r\n            });\r\n        }\r\n    }\r\n    handleLangChange(event) {\r\n        if (typeof (Storage) !== \"undefined\") {\r\n            if (event.target.value === \"en\" || event.target.value === \"fr\") {\r\n                this.props.i18n.changeLanguage(event.target.value);\r\n                localStorage.setItem(\"lang\", event.target.value);\r\n                this.setState({\r\n                    lang: event.target.value\r\n                });\r\n            }\r\n        }\r\n    }\r\n    render() {\r\n        // const { t } = this.props;\r\n        return (\r\n            // <div id={styles.footerContainer}>\r\n            //     {/* <LocaleSelector /> */}\r\n            //     <p className={\"regularText\"} id={styles.footerText}>\r\n            //         {new Date().getFullYear()} {t(\"hipwork, Inc. All rights reserved.\")}\r\n            //     </p>\r\n\r\n            //     <select id={styles.langSelect} onChange={this.handleLangChange} value={this.state.lang}>\r\n            //         <option value=\"en\">English</option>\r\n            //         <option value=\"fr\">Franais</option>\r\n            //     </select>\r\n            // </div>\r\n            <div id={styles.footer}>\r\n                <div id={styles.footerInnerContainer}>\r\n                    <div className={styles.footerThird}>\r\n                        <p className={\"regularTextBold\"}>Explore</p>\r\n                        <Link to=\"/home\" className={\"regularText\"}>Home</Link>\r\n                        <Link to=\"/login\" className={\"regularText\"}>Login</Link>\r\n                        <Link to=\"/signup\" className={\"regularText\"}>Signup</Link>\r\n                    </div>\r\n                    <div className={styles.footerThird}>\r\n                        <p className={\"regularTextBold\"}>About</p>\r\n                        <Link to=\"/faq\" className={\"regularText\"}>FAQ</Link>\r\n                        <Link to=\"/home\" className={\"regularText\"}>Terms</Link>\r\n                        <Link to=\"/home\" className={\"regularText\"}>Privacy policy</Link>\r\n                    </div>\r\n                    <div className={styles.footerThird}>\r\n                        <p className={\"regularTextBold\"}>Members</p>\r\n                        <Link to=\"/my-purchases\" className={\"regularText\"}>Buying</Link>\r\n                        <Link to=\"/my-listings\" className={\"regularText\"}>Selling</Link>\r\n                        <Link to=\"/new-listing\" className={\"regularText\"}>New listing</Link>\r\n                    </div>\r\n                    <div className={styles.footerThird}>\r\n                        <p className={\"regularTextBold\"}>Profile</p>\r\n                        <Link to=\"/following\" className={\"regularText\"}>Following</Link>\r\n                        <Link to=\"/account\" className={\"regularText\"}>Edit profile</Link>\r\n                    </div>\r\n\r\n\r\n                    <p className={styles.noMarginText + \" body\"} style={{ color: \"#fff\" }}> {new Date().getFullYear()} Cambio Inc. All Rights Reserved.</p>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withTranslation()(Footer);","import React from \"react\";\r\nimport styles from \"public/style/modal.module.css\";\r\nexport default class Modal extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.handleOutsideClick = this.handleOutsideClick.bind(this);\r\n        this.outsideClickRef = React.createRef();\r\n    }\r\n    handleOutsideClick(e) {\r\n        if (e.target == this.outsideClickRef.current) {\r\n            this.props.closeModal();\r\n        }\r\n    }\r\n    render() {\r\n        if (!this.props.show) {\r\n            return null;\r\n        }\r\n        return (\r\n            <div ref={this.outsideClickRef} id={styles.modalTransparentBody} onClick={this.handleOutsideClick}>\r\n                <div id={styles.modalBody}>\r\n                    <div className={styles.topContainer}>\r\n                        {\r\n                            this.props.title ?\r\n                                <p className={\"title2\"} id={styles.modalTitleP}>{this.props.title}</p>\r\n                                :\r\n                                null\r\n                        }\r\n                        <img src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/x.svg\" onClick={this.props.closeModal} className={styles.closeButton} />\r\n                    </div>\r\n                    {\r\n                        this.props.description ?\r\n                            <div className={styles.contentContainer}>\r\n                                <p className={\"regularText \" + styles.regularTextNoMargin}>{this.props.description}</p>\r\n                            </div>\r\n                            :\r\n                            null\r\n                    }\r\n                    <div className={styles.contentContainer}>\r\n                        {this.props.children}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}","import React from \"react\";\r\nimport styles from \"public/style/loaderAnimation.module.css\";\r\n\r\nfunction Spinner() {\r\n    return (\r\n        <div id={styles.spinnerContainer}>\r\n            <div id={styles.spinnerInnerContainer}>\r\n                <div className={styles.lds_ellipsis}>\r\n                    <div></div>\r\n                    <div></div>\r\n                    <div></div>\r\n                    <div></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Spinner;","import React from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { Link } from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport { loginUser } from \"../reduxActions/authActions\";\r\nimport styles from \"public/style/authenticationForms.module.css\";\r\nimport Spinner from \"microComponents/LoaderAnimation\";\r\nconst emailRegex = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n\r\nclass Login extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            email: \"\",\r\n            password: \"\",\r\n            formErrorMessage: \"\",\r\n            isDataLoading: false,\r\n            serverErrorMessage: \"\"\r\n        }\r\n\r\n        this.handleInputChange = this.handleInputChange.bind(this);\r\n        this.handleFormSubmit = this.handleFormSubmit.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({\r\n            listingId: this.props.listingId\r\n        });\r\n    }\r\n\r\n    handleInputChange(e) {\r\n        const { name, value } = e.target;\r\n        this.setState({\r\n            [name]: value\r\n        });\r\n    }\r\n\r\n    static getDerivedStateFromProps(nextProps, prevState) {\r\n        if (nextProps.auth.isAuthenticated) {\r\n            nextProps.history.push(\"/home\"); // push user to dashboard when they login\r\n            return null;\r\n        } else if (nextProps.errors && nextProps.errors.message) {\r\n            return { serverErrorMessage: nextProps.errors.message, isDataLoading: false };\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    handleFormSubmit() {\r\n        this.setState({\r\n            formErrorMessage: \"\",\r\n        });\r\n        if (this.state.email.length > 0 && this.state.password.length > 0) {\r\n            if (emailRegex.test(this.state.email) === true) {\r\n                this.setState({ isDataLoading: true });\r\n                let loginObj = { email: this.state.email, password: this.state.password };\r\n                this.props.loginUser(loginObj);\r\n            } else {\r\n                this.setState({\r\n                    formErrorMessage: \"Your email is not valid.\"\r\n                });\r\n            }\r\n        } else {\r\n            alert(\"yo\");\r\n            this.setState({\r\n                formErrorMessage: \"Please fill in all the fields.\"\r\n            });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let errorMessage;\r\n        if (this.state.formErrorMessage.length > 0) {\r\n            errorMessage = <p className={\"errorText \" + styles.regularText}>{this.state.formErrorMessage}</p>\r\n        } else if (this.state.serverErrorMessage.length > 0) {\r\n            errorMessage = <p className={\"errorText \" + styles.regularText}>{this.state.serverErrorMessage}</p>\r\n        }\r\n        return (\r\n            <div>\r\n                <p className={\"title1 \" + styles.regularText}>Welcome back!</p>\r\n                <input className={styles.inputText + \" inputText regularText\"} type=\"email\" name=\"email\" value={this.state.email} onChange={this.handleInputChange} placeholder=\"Email address\"></input>\r\n                <input className={styles.inputText + \" inputText regularText\"} type=\"password\" name=\"password\" value={this.state.password} onChange={this.handleInputChange} placeholder=\"Password\"></input>\r\n                {errorMessage}\r\n                <p className={\"regularText \" + styles.regularText}>Don't have an account? <Link to=\"/signup\" className={styles.link + \" \" + styles.regularText}>Sign up now.</Link></p>\r\n                <button className={styles.button + \" buttonCta regularTextMedium\"} onClick={this.handleFormSubmit}>Continue</button>\r\n                {\r\n                    this.state.isDataLoading == true ?\r\n                        <Spinner />\r\n                        :\r\n                        null\r\n                }\r\n            </div>\r\n\r\n        )\r\n    }\r\n}\r\n\r\n\r\nLogin.propTypes = {\r\n    loginUser: PropTypes.func.isRequired,\r\n    auth: PropTypes.object.isRequired,\r\n    errors: PropTypes.object.isRequired\r\n};\r\nconst mapStateToProps = state => ({\r\n    auth: state.auth,\r\n    errors: state.errors\r\n});\r\nexport default connect(\r\n    mapStateToProps,\r\n    { loginUser }\r\n)((Login));","import React from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport styles from \"public/style/desktopTopNav.module.css\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport { logoutUser } from \"../reduxActions/authActions\";\r\nimport Modal from \"microComponents/Modal.js\";\r\nimport LoginCard from \"microComponents/LoginCard.js\";\r\nclass Index extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            searchInput: \"\",\r\n            displayAccountModel: false,\r\n            searchSuggestions: [],\r\n            showProfileModal: false,\r\n            allowClickOutsideProfileModal: true,\r\n            isLoginModalDisplayed: false,\r\n            showSearchSuggestion: false\r\n        }\r\n\r\n        this.handleInputChange = this.handleInputChange.bind(this);\r\n        this.closeSearchInput = this.closeSearchInput.bind(this);\r\n\r\n\r\n        this.searchSuggestModalRef = React.createRef();\r\n        this.searchInputRef = React.createRef();\r\n        this.searchInputDivRef = React.createRef();\r\n        this.profileModalRef = React.createRef();\r\n    }\r\n    componentDidMount() {\r\n        if ((this.props.auth.isAuthenticated == true) && !(localStorage.getItem(\"setupVerif\") == \"true\")) {\r\n            this.props.history.push(\"/account-setup\");\r\n        }\r\n        document.onclick = (e) => {\r\n            if (this.searchInputRef.current && this.searchInputDivRef.current) {\r\n\r\n\r\n                if (this.searchSuggestModalRef.current) {\r\n                    //search suggest is active\r\n                    if (e.target !== this.searchInputRef.current && e.target !== this.searchSuggestModalRef.current && e.target.id !== styles.iconTopMobileNav && !e.target.classList.contains(styles.searchSuggestP) && e.target !== this.searchInputDivRef.current) {\r\n                        this.closeSearchInput();\r\n                    }\r\n                } else {\r\n                    if (e.target !== this.searchInputRef.current && e.target.id !== styles.iconTopMobileNav && e.target !== this.searchInputDivRef.current) {\r\n                        this.closeSearchInput();\r\n                    }\r\n                }\r\n            }\r\n            if (this.state.allowClickOutsideProfileModal === false && this.profileModalRef.current && e.target !== this.profileModalRef.current) {\r\n                this.setState({\r\n                    showProfileModal: false,\r\n                    allowClickOutsideProfileModal: true\r\n                });\r\n            }\r\n        }\r\n\r\n        document.onresize = (e) => {\r\n            if (this.searchSuggestModalRef.current) {\r\n                let leftValue = this.searchInputDivRef.current.offsetLeft;\r\n                let widthValue = this.searchInputDivRef.current.offsetWidth;\r\n                this.searchSuggestModalRef.style.left = leftValue;\r\n                this.searchSuggestModalRef.style.width = widthValue;\r\n            }\r\n        }\r\n    }\r\n    componentWillUnmount() {\r\n        document.onclick = undefined;\r\n        document.onresize = undefined;\r\n    }\r\n    closeSearchInput() {\r\n        this.searchInputDivRef.current.classList.remove(styles.searchInputActive);\r\n        this.setState({\r\n            searchSuggestions: [],\r\n            showSearchSuggestion: false\r\n        });\r\n    }\r\n    handleInputChange(e) {\r\n        const { name, value } = e.target;\r\n\r\n        this.setState({\r\n            [name]: value\r\n        });\r\n\r\n        if (name === \"searchInput\") {\r\n            if (value.length == 0) {\r\n                this.setState({\r\n                    searchSuggestions: [],\r\n                    showSearchSuggestion: false\r\n                });\r\n            } else {\r\n                axios.get(window.api_prefix+\"/searchQuerySuggest?q=\"+value).then(resp=>{\r\n                    this.setState({\r\n                        searchSuggestions: resp.data,\r\n                        showSearchSuggestion: true\r\n                    });\r\n                }).catch(err=>{\r\n                    if(err.response){\r\n                        this.setState({\r\n                            searchSuggestions: [],\r\n                            showSearchSuggestion: true\r\n                        });\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n        const { t } = this.props;\r\n        let searchSuggestArray = [];\r\n        let searchSuggest;\r\n\r\n        if (this.searchInputDivRef.current && this.state.showSearchSuggestion) {\r\n            let leftValue = this.searchInputDivRef.current.offsetLeft;\r\n            let widthValue = this.searchInputDivRef.current.offsetWidth;\r\n            if ((this.state.searchSuggestions.categories.length > 0 || this.state.searchSuggestions.predefItems.length >0) && this.state.searchInput.length > 0) {\r\n                let nbCategories = this.state.searchSuggestions.categories.length;\r\n                for (let i = 0; i < this.state.searchSuggestions.predefItems.length && nbCategories+i <= 6; i++) {\r\n                    searchSuggestArray.push(\r\n                        <p onClick={()=>{this.props.history.push(\"/search?predefType=\"+this.state.searchSuggestions.predefItems[i].id); this.props.history.go();}} className={styles.searchSuggestP} key={i + \"_-1\"}>{this.state.searchSuggestions.predefItems[i].title}</p>\r\n                    );\r\n                }\r\n                for(let i = 0; i < nbCategories; i++){\r\n                    searchSuggestArray.push(\r\n                        <p onClick={()=>{this.props.history.push(\"/search?cat=\"+this.state.searchSuggestions.categories[i].id); this.props.history.go();}} className={styles.searchSuggestP} key={i + \"_-2\"}>{this.state.searchSuggestions.categories[i].name}</p>\r\n                    );\r\n                }\r\n\r\n\r\n                searchSuggest = (\r\n                    <div ref={this.searchSuggestModalRef} style={{ left: leftValue, width: widthValue }} id={styles.searchSuggestMainContainer}>\r\n                        {searchSuggestArray}\r\n                    </div>\r\n                );\r\n            } else {\r\n                searchSuggest = (\r\n                    <div ref={this.searchSuggestModalRef} style={{ left: leftValue, width: widthValue }} id={styles.searchSuggestMainContainer}>\r\n                        No results.\r\n                    </div>\r\n                );\r\n            }\r\n        }\r\n\r\n\r\n        let profileModal;\r\n        if (this.state.showProfileModal === true) {\r\n            profileModal = (\r\n                <div ref={this.profileModalRef} id={styles.profileModalMainContainer}>\r\n                    <div className={styles.arrow_example + \" \" + styles.arrow_border_example}></div>\r\n                    <div className={styles.arrow_example}></div>\r\n                    <Link to=\"/new-listing\">\r\n                        <p className={styles.profileModalText + \" regularTextMedium\"}>Create a listing</p>\r\n                    </Link>\r\n                    <Link to=\"/my-purchases\">\r\n                        <p className={styles.profileModalText + \" regularTextMedium\"}>Buying</p>\r\n                    </Link>\r\n\r\n                    <Link to=\"/my-listings\">\r\n                        <p className={styles.profileModalText + \" regularTextMedium\"}>Selling</p>\r\n                    </Link>\r\n\r\n                    <Link to=\"/account\">\r\n                        <p className={styles.profileModalText + \" regularTextMedium\"}>Edit profile</p>\r\n                    </Link>\r\n\r\n                    <Link to=\"/following\">\r\n                        <p className={styles.profileModalText + \" regularTextMedium\"}>Following</p>\r\n                    </Link>\r\n                    <p className={styles.profileModalText + \" regularTextMedium\"} onClick={this.props.logoutUser}>Logout</p>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        let profileIcon;\r\n        if (this.props.auth.isAuthenticated === true) {\r\n            profileIcon = (\r\n                <div className={styles.iconSeparator} onClick={() => {\r\n                    if (this.state.allowClickOutsideProfileModal === true) {\r\n                        this.setState({ showProfileModal: true });\r\n                        setTimeout(() => { this.setState({ allowClickOutsideProfileModal: false }); }, 100);\r\n                    } else {\r\n                        this.setState({\r\n                            showProfileModal: false,\r\n                            allowClickOutsideProfileModal: true\r\n                        });\r\n                    }\r\n\r\n                }}>\r\n                    <div className={styles.iconContainer}>\r\n                        <img src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/person.svg\" />\r\n                    </div>\r\n                </div>\r\n            );\r\n        } else {\r\n            profileIcon = (\r\n                <div className={styles.iconSeparator} onClick={() => {\r\n                    this.setState({\r\n                        isLoginModalDisplayed: true\r\n                    })\r\n                }}>\r\n                    <div className={styles.iconContainer}>\r\n                        <img src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/person.svg\" />\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n\r\n\r\n        let homeLink = \"/\";\r\n        if (this.props.auth.isAuthenticated === true) {\r\n            homeLink = \"/home\"\r\n        }\r\n        return (\r\n            <div>\r\n                <div id={styles.desktopTopNav} >\r\n                    <div id={styles.desktopTopNavInnerContainer}>\r\n                        <Link to={homeLink}>\r\n                            <img id={styles.logoDesktopTopNav} src=\"https://staticassets2020.s3.amazonaws.com/logos/logoV1orangeTransparent.png\" />\r\n                        </Link>\r\n                        <div id={styles.searchInputDiv} ref={this.searchInputDivRef}>\r\n                            <img ref={this.searchIconRef} id={styles.iconTopMobileNav} src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/search-grey.svg\" />\r\n                            <input id={styles.searchInput} ref={this.searchInputRef} value={this.state.searchInput} name=\"searchInput\" onChange={this.handleInputChange} placeholder=\"search Cambio\" className={\"regularText\"} type=\"text\"></input>\r\n                        </div>\r\n                        {searchSuggest}\r\n                        <div id={styles.desktopTopNavIconsContainer}>\r\n                            <Link to=\"/faq\">\r\n                                <div className={styles.iconSeparator}>\r\n                                    <div className={styles.textContainer}>\r\n                                        <p className=\"regularText\">FAQ</p>\r\n                                    </div>\r\n                                </div>\r\n                            </Link>\r\n                            {/* <Link to=\"/inbox\">\r\n                            <div className={styles.iconSeparator}>\r\n                                <div className={styles.iconContainer}>\r\n                                    <img src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/comment-discussion-grey.svg\" />\r\n                                </div>\r\n                                <div className={styles.textContainer}>\r\n                                    <p>Inbox</p>\r\n                                </div>\r\n                            </div>\r\n                        </Link> */}\r\n                            {/* <div className={styles.iconSeparator}>\r\n                    <div className={styles.iconContainer}>\r\n                        <img src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/tag-grey.svg\" />\r\n                    </div>\r\n                    <div className={styles.textContainer}>\r\n                        <p>Orders</p>\r\n                    </div>\r\n                </div> */}\r\n                            {/* <Link to=\"/saved\">\r\n                            <div className={styles.iconSeparator}>\r\n                                <div className={styles.iconContainer}>\r\n                                    <img src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/heart-grey.svg\" />\r\n                                </div>\r\n                                <div className={styles.textContainer}>\r\n                                    <p>Saved</p>\r\n                                </div>\r\n\r\n                            </div>\r\n                        </Link> */}\r\n                            {profileIcon}\r\n                        </div>\r\n                    </div>\r\n                    {profileModal}\r\n                </div>\r\n                <Modal closeModal={() => {\r\n                    this.setState({\r\n                        isLoginModalDisplayed: false,\r\n                    })\r\n                }} show={this.state.isLoginModalDisplayed} >\r\n                    <LoginCard {...this.props} />\r\n                </Modal>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nIndex.propTypes = {\r\n    logoutUser: PropTypes.func.isRequired,\r\n    auth: PropTypes.object.isRequired\r\n};\r\nconst mapStateToProps = state => ({\r\n    auth: state.auth\r\n});\r\nexport default connect(\r\n    mapStateToProps,\r\n    { logoutUser }\r\n)(Index);","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport styles from \"public/style/mobileBottomNav.module.css\";\r\nclass Index extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n        }\r\n\r\n    }\r\n\r\n    render() {\r\n        const { t } = this.props;\r\n\r\n        return (\r\n            <div id={styles.mainContainer}>\r\n                <Link to=\"/index\">\r\n                    <div className={styles.iconSeparator}>\r\n                        <div className={styles.iconContainer}>\r\n                            <img src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/home.svg\" />\r\n                        </div>\r\n                        <div className={styles.textContainer}>\r\n                            <p className={\"regularText\"}>Home</p>\r\n                        </div>\r\n                    </div>\r\n                </Link>\r\n\r\n                {/* <div className={styles.iconSeparator}>\r\n                    <div className={styles.iconContainer}>\r\n                        <img src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/comment-discussion-grey.svg\" />\r\n                    </div>\r\n                    <div className={styles.textContainer}>\r\n                        <p>Inbox</p>\r\n                    </div>\r\n                </div> */}\r\n\r\n\r\n                {/*<Link to=\"/activity\">*/}\r\n                {/*    <div className={styles.iconSeparator}>*/}\r\n                {/*        <div className={styles.iconContainer}>*/}\r\n                {/*            <img src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/flame.svg\" />*/}\r\n                {/*        </div>*/}\r\n                {/*        <div className={styles.textContainer}>*/}\r\n                {/*            <p className={\"regularText\"}>Activity</p>*/}\r\n                {/*        </div>*/}\r\n                {/*    </div>*/}\r\n                {/*</Link>*/}\r\n\r\n                <Link to=\"/new-listing\">\r\n                    <div className={styles.iconSeparator}>\r\n                        <div className={styles.iconContainer}>\r\n                            <img src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/diff-added.svg\" />\r\n                        </div>\r\n                        <div className={styles.textContainer}>\r\n                            <p className={\"regularText\"}>New listing</p>\r\n                        </div>\r\n                    </div>\r\n                </Link>\r\n\r\n\r\n                {/* <div className={styles.iconSeparator}>\r\n                    <div className={styles.iconContainer}>\r\n                        <img src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/tag-grey.svg\" />\r\n                    </div>\r\n                    <div className={styles.textContainer}>\r\n                        <p>Orders</p>\r\n                    </div>\r\n                </div> */}\r\n                {/* <div className={styles.iconSeparator}>\r\n                    <div className={styles.iconContainer}>\r\n                        <img src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/heart-grey.svg\" />\r\n                    </div>\r\n                    <div className={styles.textContainer}>\r\n                        <p>Saved</p>\r\n                    </div>\r\n                </div> */}\r\n                <Link to=\"/profile\">\r\n                    <div className={styles.iconSeparator}>\r\n                        <div className={styles.iconContainer}>\r\n                            <img src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/person.svg\" />\r\n                        </div>\r\n                        <div className={styles.textContainer}>\r\n                            <p className={\"regularText\"}>Account</p>\r\n                        </div>\r\n                    </div>\r\n                </Link>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default Index;\r\n","export function integerToMoneyString(intValue) {\r\n    let money = parseInt(intValue);\r\n    let decimal = money % 100;\r\n    if (decimal < 10) {\r\n        decimal = \"0\" + decimal;\r\n    }\r\n    let lhs = Math.floor(money / 100).toString();\r\n    let lhsString = \"\";\r\n    let division3Remainder = lhs.length % 3;\r\n    if (division3Remainder > 0) {\r\n        lhsString += lhs.substring(0, division3Remainder) + \",\";\r\n    }\r\n    for (let i = division3Remainder; i < lhs.length; i += 3) {\r\n        lhsString += lhs.substring(i, i + 3) + \",\";\r\n    }\r\n    lhsString = lhsString.substring(0, lhsString.length - 1);\r\n    let moneyString = \"$\" + lhsString + \".\" + decimal;\r\n    return moneyString;\r\n}\r\n\r\nexport function integerMoneyToDecimal(intValue) {\r\n    let money = parseInt(intValue);\r\n    let decimal = (money % 100) * 0.01;\r\n    let lhs = Math.floor(money / 100);\r\n    return lhs + decimal;\r\n}","import React from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { Link } from \"react-router-dom\";\r\nimport styles from \"public/style/listingCard.module.css\";\r\nimport { integerToMoneyString } from \"miscFunctions\";\r\n\r\nclass Index extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            searchInput: \"\",\r\n            displayAccountModel: false,\r\n            searchSuggestions: [],\r\n            historyEvents: [],\r\n            listing: {},\r\n            isLoading: true\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({\r\n            listing: this.props.listing,\r\n            isLoading: false\r\n        });\r\n    }\r\n\r\n\r\n    render() {\r\n        const { t } = this.props;\r\n        if (this.state.isLoading === true) {\r\n            return null;\r\n        } else {\r\n\r\n            let conditionsOptionsArray = [\r\n                {\r\n                    id: 0,\r\n                    name: \"New\",\r\n                    color:\"#ff7700\"\r\n                },\r\n                {\r\n                    id: 1,\r\n                    name: \"Like new\",\r\n                    color:\"#ff7700\"\r\n                },\r\n                {\r\n                    id: 2,\r\n                    name: \"Lightly used\",\r\n                    color:\"#ff7700\"\r\n                },\r\n                {\r\n                    id: 3,\r\n                    name: \"Used\",\r\n                    color:\"#ff7700\"\r\n                },\r\n                {\r\n                    id: 4,\r\n                    name: \"Broken\",\r\n                    color:\"#ff7700\"\r\n                },\r\n                {\r\n                    id: 5,\r\n                    name: \"For parts\",\r\n                    color:\"#ff7700\"\r\n                }\r\n            ];\r\n\r\n            let avgRating;\r\n            if (this.state.listing.avgrating == 0 || this.state.listing.avgrating == null || typeof this.state.listing.avgrating == \"undefined\") {\r\n                avgRating = \"No ratings yet.\";\r\n            }else{\r\n                avgRating = [];\r\n                let rating = this.state.listing.avgrating;\r\n                let nbFullStars = Math.floor(rating);\r\n                for(let i = 0;i<nbFullStars;i++){\r\n                    avgRating.push(\r\n                        <img src={\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/star-yellow.svg\"} />\r\n                    );\r\n                }\r\n                if(nbFullStars != rating){\r\n                    avgRating.push(\r\n                        <img src={\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/star-yellow-half.svg\"} />\r\n                    );\r\n                }\r\n            }\r\n            return (\r\n                <div id={styles.mainContainer}>\r\n                    <Link to={\"/listing?id=\" + this.state.listing.id}>\r\n                        <div className={styles.mainDivisors}>\r\n                            <div id={styles.productPicture} style={{ backgroundImage: !this.state.listing.pictures || this.state.listing.pictures.length == 0 ? \"url('https://staticassets2020.s3.amazonaws.com/octiconsSvg/image.svg')\" : \"url('\" + this.state.listing.pictures[0] + \"')\" }}>\r\n                                {/*<p className={\"regularTextMedium \"+styles.mediumBigText}>{integerToMoneyString(this.state.listing.price)}  <span style={{color:\"grey\"}} className={\"regularText\"}>{conditionsOptionsArray[this.state.listing.condition].name}</span></p>*/}\r\n                                <div id={styles.itemStateContainer} style={{backgroundColor:conditionsOptionsArray[this.state.listing.condition].color}}><p className={\"regularText\"}>{conditionsOptionsArray[this.state.listing.condition].name}</p></div>\r\n                            </div>\r\n                        </div>\r\n                        <div className={styles.mainDivisors}>\r\n                            <div id={styles.productTextContainer}>\r\n                                <div style={{minHeight:\"90px\"}}>\r\n                                    <p className={\"regularTextMedium \"+styles.listingTitle}>{this.state.listing.title}</p>\r\n                                    <p id={styles.priceP} className={\"regularTextMedium\"}>{integerToMoneyString(this.state.listing.price)}</p>\r\n                                </div>\r\n\r\n                                <div className={styles.userInfoDivisor}>\r\n                                    <div id={styles.userPicture} style={{\r\n                                        backgroundImage: !this.state.listing.sellerprofilepicture || this.state.listing.sellerprofilepicture.length == 0 ? \"url('https://staticassets2020.s3.amazonaws.com/octiconsSvg/smiley.svg')\" : \"url('\" + this.state.listing.sellerprofilepicture + \"')\"\r\n                                    }}></div>\r\n                                    <Link to={\"/user?id=\" + this.state.listing.sellerid}>\r\n                                        <div id={styles.userTextContainer}>\r\n                                            <p className={styles.noMarginP + \" regularTextMedium\"}>@{this.state.listing.sellername}</p>\r\n                                            {/*<div><p className={styles.noMarginP + \" regularText\"} id={styles.starP} style={{ color: \"#f9f9f9\" }}>{avgRating}</p></div>*/}\r\n                                        </div>\r\n                                    </Link>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </Link>\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport default withTranslation()(Index);\r\n","import React from \"react\";\r\nimport styles from \"public/style/bodyContainer.module.css\";\r\n\r\nfunction Body(props) {\r\n    return <div id={styles.mainBody}>\r\n        {props.children}\r\n    </div>\r\n}\r\n\r\nexport default Body;","import React from \"react\";\r\nimport styles from \"../public/style/mobileSearch.module.css\";\r\nimport {Link} from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\nclass MobileSearch extends React.Component{\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            categories:[],\r\n            searchInput: \"\",\r\n            searchSuggestions: [],\r\n            showSearchSuggestion: false,\r\n            categoryCurrentParentId: -1,\r\n        }\r\n\r\n        this.handleInputChange = this.handleInputChange.bind(this);\r\n\r\n        this.searchContainerRef = React.createRef();\r\n    }\r\n\r\n    componentDidMount(){\r\n        if(this.props.categories){\r\n            this.setState({\r\n                categories:this.props.categories\r\n            })\r\n        }\r\n        this.searchInputRef.focus();\r\n        document.body.style.overflow = \"hidden\";\r\n    }\r\n    componentWillUnmount(){\r\n        document.body.style.overflow = \"auto\";\r\n    }\r\n\r\n    postCatTrend(catId) {\r\n        axios.post(window.api_prefix+\"/categorySearchClick\", { catId: catId });\r\n    }\r\n\r\n    handleInputChange(e) {\r\n        const { name, value } = e.target;\r\n\r\n        this.setState({\r\n            [name]: value\r\n        });\r\n\r\n        if (name === \"searchInput\") {\r\n            if (value.length == 0) {\r\n                this.setState({\r\n                    searchSuggestions: [],\r\n                    showSearchSuggestion:false\r\n                });\r\n            } else {\r\n                axios.get(window.api_prefix+\"/searchQuerySuggest?q=\"+value).then(resp=>{\r\n                    this.setState({\r\n                        searchSuggestions: resp.data,\r\n                        showSearchSuggestion:true\r\n                    });\r\n                }).catch(err=>{\r\n                    if(err.response){\r\n                        this.setState({\r\n                            searchSuggestions: [],\r\n                            showSearchSuggestion:true\r\n                        });\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    render(){\r\n\r\n\r\n        let searchSuggestArray = [];\r\n        let searchSuggest;\r\n\r\n        if (this.state.searchInput.length > 0 && this.state.showSearchSuggestion) {\r\n            if (this.state.searchSuggestions.categories.length > 0 || this.state.searchSuggestions.predefItems.length >0) {\r\n\r\n                let nbCategories = this.state.searchSuggestions.categories.length;\r\n                for (let i = 0; i < this.state.searchSuggestions.predefItems.length && nbCategories+i <= 6; i++) {\r\n                    searchSuggestArray.push(\r\n                        <p onClick={()=>{this.props.history.push(\"/search?predefType=\"+this.state.searchSuggestions.predefItems[i].id); this.props.history.go();}} className={styles.searchSuggestP+\" regularText\"} key={i + \"_-1\"}>{this.state.searchSuggestions.predefItems[i].title}</p>\r\n                    );\r\n                }\r\n                for(let i = 0; i < nbCategories; i++){\r\n                    searchSuggestArray.push(\r\n                        <p onClick={()=>{this.props.history.push(\"/search?cat=\"+this.state.searchSuggestions.categories[i].id); this.props.history.go();}} className={styles.searchSuggestP+\" regularText\"} key={i + \"_-2\"}>{this.state.searchSuggestions.categories[i].name}</p>\r\n                    );\r\n                }\r\n\r\n\r\n                searchSuggest = (\r\n                    <div>\r\n                        <div ref={this.searchSuggestModalRef} className={styles.searchSuggestMainContainer}>\r\n                            {searchSuggestArray}\r\n                        </div>\r\n                    </div>\r\n                );\r\n            } else {\r\n                searchSuggest = (\r\n                    <div ref={this.searchSuggestModalRef} className={styles.searchSuggestMainContainer}>\r\n                        <p className={styles.searchSuggestP + \" regularText\"}>No results</p>\r\n                    </div>\r\n                );\r\n            }\r\n        } else {\r\n            let categoriesList;\r\n            if (this.state.categoryCurrentParentId == -1) {\r\n                let seeMoreDiv;\r\n                let catQtity = 0;\r\n                categoriesList = [];\r\n                for (let j = 0; j < this.state.categories.length; j++) {\r\n                    let cat = this.state.categories[j];\r\n                    catQtity++;\r\n                    if (cat.children) {\r\n                        categoriesList.push(\r\n                            <p className={styles.searchSuggestP + \" regularText\"} onClick={() => { this.setState({ categoryCurrentParentId: cat.id }) }} key={j}>{cat.name} <img className={styles.chevronImgCategories} src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/chevron-right.svg\" /></p>\r\n                        );\r\n                    } else {\r\n                        categoriesList.push(\r\n                            <p key={j} onClick={()=>{this.postCatTrend(cat.id); this.props.history.push(\"/search?cat=\" + cat.id); this.props.history.go();}} className={styles.searchSuggestP + \" regularText\"} >{cat.name}</p>\r\n                        );\r\n                    }\r\n                }\r\n                // if (2 == 2) {\r\n                //   seeMoreDiv = (\r\n                //     <div id={styles.seeMoreCats}>\r\n                //       <p className={styles.regularTextNoMargin + \" regularText\"} onClick={() => { this.setState({ isCategoriesModalDisplayed: true }); }}>See more</p>\r\n                //     </div>\r\n                //   );\r\n                // }\r\n                searchSuggest = (\r\n                    <div>\r\n                        <div ref={this.searchSuggestModalRef} className={styles.searchSuggestMainContainer}>\r\n                            <p className={styles.regularTextNoMargin + \" regularTextBold\"}>Categories</p>\r\n                            {categoriesList}\r\n                        </div>\r\n                        {seeMoreDiv}\r\n                    </div>\r\n                );\r\n            } else {\r\n                let seeMoreDiv;\r\n                for (let i = 0; i < this.state.categories.length; i++) {\r\n                    if (this.state.categories[i].id === this.state.categoryCurrentParentId) {\r\n                        let parentCategoryName = this.state.categories[i].name;\r\n                        let catQtity = 0;\r\n                        categoriesList = this.state.categories[i].children.map((cat, key) => {\r\n                            catQtity++;\r\n                            return (\r\n                                <p key={key} onClick={()=>{this.postCatTrend(cat.id); this.props.history.push(\"/search?cat=\" + cat.id); this.props.history.go();}} className={styles.searchSuggestP + \" regularText\"} >{cat.name}</p>\r\n                            );\r\n                        });\r\n                        categoriesList.push(\r\n                            <p key={\"cat_all\"} onClick={()=>{this.postCatTrend(this.state.categoryCurrentParentId); this.props.history.push(\"/search?cat=\" + this.state.categoryCurrentParentId); this.props.history.go();}} className={styles.searchSuggestP + \" regularText\"} >See all {parentCategoryName}</p>\r\n                        );\r\n                        if (catQtity * 50 > (window.innerHeight - 365)) {\r\n                            seeMoreDiv = (\r\n                                <div id={styles.seeMoreCats} onClick={() => { this.setState({ isCategoriesModalDisplayed: true }); }}>\r\n                                    <p className={styles.regularTextNoMargin + \" regularText\"}>See more</p>\r\n                                </div>\r\n                            );\r\n                        }\r\n                        searchSuggest = (\r\n                            <div>\r\n                                <div ref={this.searchSuggestModalRef} className={styles.searchSuggestMainContainer}>\r\n                                    <p className={styles.regularTextNoMargin + \" regularTextBold \" + styles.clickable} onClick={() => { this.setState({ categoryCurrentParentId: -1 }) }}><img className={styles.chevronImgCategories + \" \" + styles.bottomAlignChevron} src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/chevron-left.svg\" /> {parentCategoryName}</p>\r\n                                    {categoriesList}\r\n                                </div>\r\n                                {seeMoreDiv}\r\n                            </div>\r\n                        );\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n\r\n        return (\r\n            <div id={styles.searchTransparentContainer} className={styles.searchContainerVisible}>\r\n                <div id={styles.searchMainContainer}>\r\n                    <div id={styles.searchTopContainer}>\r\n                        <p className={styles.regularText + \" regularTextBold\"}>Search</p>\r\n                        <img onClick={() => {this.props.closeSearch()}} id={styles.searchXImg} src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/x.svg\" />\r\n                        <div id={styles.searchInputDiv}>\r\n                            <img id={styles.iconTopMobileNav} src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/search-grey.svg\" />\r\n                            <input ref={(input) => { this.searchInputRef = input; }}  id={styles.searchInput} value={this.state.searchInput} name=\"searchInput\" onChange={this.handleInputChange} placeholder=\"Search pre-owned electronics\" className={\"regularText\"} type=\"text\"></input>\r\n                        </div>\r\n                    </div>\r\n                    <div id={styles.searchSuggestScroller}>\r\n                        {searchSuggest}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default MobileSearch;\r\n\r\n","import React from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport Footer from \"microComponents/Footer.js\";\r\nimport styles from \"public/style/warzone.module.css\";\r\nimport DesktopTopNav from \"microComponents/DesktopTopNav.js\";\r\nimport MobileBottomNav from \"microComponents/MobileBottomNav.js\";\r\nimport ListingCard from \"microComponents/ListingCard.js\";\r\nimport BodyContainer from \"microComponents/BodyContainer\";\r\nimport Modal from \"microComponents/Modal\";\r\nimport MobileSearch from \"microComponents/MobileSearch\";\r\n\r\nclass Index extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n\r\n      featuredListings: [],\r\n      followedListings: [],\r\n      hotListings: [],\r\n      categories: [],\r\n      categoryCurrentParentId: -1,\r\n      isCategoriesModalDisplayed: false,\r\n\r\n      listingsIsLoaded: false,\r\n      userName: \"\",\r\n      activeSectionTitle: -1,\r\n\r\n      isMobileSearchDisplayed:false\r\n    }\r\n\r\n\r\n\r\n    this.categoriesContainerRef = React.createRef();\r\n    this.followedListingsRef = React.createRef();\r\n    this.searchSuggestModalRef = React.createRef();\r\n    this.featuredListingsRef = React.createRef();\r\n    this.hotListingsRef = React.createRef();\r\n    this.scrollTopButtonRef = React.createRef();\r\n\r\n  }\r\n\r\n  componentDidMount() {\r\n    axios.get(window.api_prefix+\"/allCategories\").then(res => {\r\n      for (let i = 0; i < res.data.length; i++) {\r\n        if (res.data[i].parentid != null) {\r\n          for (let j = 0; j < res.data.length; j++) {\r\n            if (res.data[i].parentid === res.data[j].id) {\r\n              if (res.data[j].children) {\r\n                res.data[j].children.push(res.data[i]);\r\n              } else {\r\n                res.data[j].children = [res.data[i]];\r\n              }\r\n              res.data.splice(i, 1);\r\n              i--;\r\n              break;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      this.setState({\r\n        categories: res.data\r\n      });\r\n    }).catch();\r\n    axios.get(window.api_prefix+\"/customFeed\").then(resp => {\r\n      this.setState({\r\n        listingsIsLoaded: true,\r\n        followedListings: resp.data.feed,\r\n        userName: resp.data.name\r\n      });\r\n    }).catch();\r\n\r\n\r\n    // Get the header\r\n    // var featuredListings = this.featuredListingsRef.current;\r\n    var followedListings = this.followedListingsRef.current;\r\n    // var hotListings = this.hotListingsRef.current;\r\n\r\n    let followedPosition = 2000;\r\n    let featuredPosition = 2000;\r\n    let hotPosition = 2000;\r\n    let prevScrollpos = window.pageYOffset;\r\n\r\n    let fixedPositionsRegistered = false;\r\n\r\n    window.onscroll = () => {\r\n\r\n\r\n      let vwWidth = document.documentElement.clientWidth;\r\n      let scrollY = window.pageYOffset || window.scrollY;\r\n\r\n\r\n      if (vwWidth > 780) {\r\n        if (this.categoriesContainerRef.current) {\r\n          if (scrollY >= 585) {\r\n            this.categoriesContainerRef.current.classList.add(styles.fixedCategoriesContainer);\r\n          } else {\r\n            this.categoriesContainerRef.current.classList.remove(styles.fixedCategoriesContainer)\r\n          }\r\n        }\r\n      }\r\n\r\n\r\n      if (this.state.listingsIsLoaded == true && vwWidth <= 780) {\r\n\r\n        if (fixedPositionsRegistered == false) {\r\n          // var stickyFeatured = featuredListings.getBoundingClientRect();\r\n          // var stickyFollowed = followedListings.getBoundingClientRect();\r\n          // var stickyHot = hotListings.getBoundingClientRect();\r\n          fixedPositionsRegistered = true;\r\n          // followedPosition = stickyFollowed.top + scrollY;\r\n          // featuredPosition = stickyFeatured.top + scrollY;\r\n          // hotPosition = stickyHot.top + scrollY;\r\n        } else {\r\n          // if (followedPosition <= scrollY) {\r\n          //   if (this.state.activeSectionTitle != 2) {\r\n          //     this.setState({\r\n          //       activeSectionTitle: 2\r\n          //     });\r\n          //   }\r\n          //\r\n          //   // else if (hotPosition <= scrollY) {\r\n          //   //   if (this.state.activeSectionTitle != 1) {\r\n          //   //     this.setState({\r\n          //   //       activeSectionTitle: 1\r\n          //   //     });\r\n          //   //   }\r\n          //   // } else if (featuredPosition <= scrollY) {\r\n          //   //   if (this.state.activeSectionTitle != 0) {\r\n          //   //     this.setState({\r\n          //   //       activeSectionTitle: 0\r\n          //   //     });\r\n          //   //   }\r\n          // } else {\r\n          //   if (this.state.activeSectionTitle != -1) {\r\n          //     this.setState({\r\n          //       activeSectionTitle: -1\r\n          //     });\r\n          //   }\r\n          // }\r\n          if (this.scrollTopButtonRef.current) {\r\n            if ((prevScrollpos <= scrollY) || scrollY < 200) {\r\n              this.scrollTopButtonRef.current.classList.add(styles.displayNone);\r\n            } else {\r\n              this.scrollTopButtonRef.current.classList.remove(styles.displayNone);\r\n            }\r\n          }\r\n          prevScrollpos = scrollY;\r\n        }\r\n      }\r\n    };\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.onscroll = undefined;\r\n    document.onclick = undefined;\r\n    document.body.style.overflow = \"visible\";\r\n  }\r\n\r\n\r\n\r\n\r\n  postCatTrend(catId) {\r\n    axios.post(window.api_prefix+\"/categorySearchClick\", { catId: catId });\r\n  }\r\n\r\n  render() {\r\n    const { t } = this.props;\r\n\r\n    let desktopSearchSuggest;\r\n    let desktopCategoriesList = [];\r\n    if (this.state.categoryCurrentParentId == -1) {\r\n      let seeMoreDiv;\r\n      let catQtity = 0;\r\n      for (let j = 0; j < this.state.categories.length && j <= 4; j++) {\r\n        let cat = this.state.categories[j];\r\n        catQtity++;\r\n        if (cat.children) {\r\n          desktopCategoriesList.push(\r\n            <p className={styles.searchSuggestP + \" regularText\"} onClick={() => { this.setState({ categoryCurrentParentId: cat.id }) }} key={j}>{cat.name} <img className={styles.chevronImgCategories} src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/chevron-right.svg\" /></p>\r\n          );\r\n        } else {\r\n          desktopCategoriesList.push(\r\n            <Link to={\"/search?cat=\" + cat.id} onClick={() => { this.postCatTrend(cat.id) }} key={j}>\r\n              <p className={styles.searchSuggestP + \" regularText\"} >{cat.name}</p>\r\n            </Link>\r\n          );\r\n        }\r\n      }\r\n      if (2 == 2) {\r\n        seeMoreDiv = (\r\n          <div id={styles.seeMoreCats}>\r\n            <p className={styles.regularTextNoMargin + \" regularText\"} onClick={() => { this.setState({ isCategoriesModalDisplayed: true }); }}>See more</p>\r\n          </div>\r\n        );\r\n      }\r\n      desktopSearchSuggest = (\r\n        <div>\r\n          <div ref={this.searchSuggestModalRef} className={styles.searchSuggestMainContainer}>\r\n            <p className={styles.regularTextNoMargin + \" regularTextBold\"}>Categories</p>\r\n            {desktopCategoriesList}\r\n          </div>\r\n          {seeMoreDiv}\r\n        </div>\r\n      );\r\n    } else {\r\n      let seeMoreDiv;\r\n      for (let i = 0; i < this.state.categories.length; i++) {\r\n        if (this.state.categories[i].id === this.state.categoryCurrentParentId) {\r\n          let parentCategoryName = this.state.categories[i].name;\r\n          let catQtity = 0;\r\n          desktopCategoriesList = this.state.categories[i].children.map((cat, key) => {\r\n            catQtity++;\r\n            return (\r\n              <Link to={\"/search?cat=\" + cat.id} onClick={() => { this.postCatTrend(cat.id) }} key={key}>\r\n                <p className={styles.searchSuggestP + \" regularText\"} >{cat.name}</p>\r\n              </Link>\r\n            );\r\n          });\r\n          desktopCategoriesList.push(\r\n            <Link to={\"/search?cat=\" + this.state.categoryCurrentParentId} onClick={() => { this.postCatTrend(this.state.categoryCurrentParentId) }} key={\"cat_all\"}>\r\n              <p className={styles.searchSuggestP + \" regularText\"}>See all {parentCategoryName}</p>\r\n            </Link>\r\n          );\r\n          if (catQtity * 50 > (window.innerHeight - 365)) {\r\n            seeMoreDiv = (\r\n              <div id={styles.seeMoreCats} onClick={() => { this.setState({ isCategoriesModalDisplayed: true }); }}>\r\n                <p className={styles.regularTextNoMargin + \" regularText\"}>See more</p>\r\n              </div>\r\n            );\r\n          }\r\n          desktopSearchSuggest = (\r\n            <div>\r\n              <div ref={this.searchSuggestModalRef} className={styles.searchSuggestMainContainer}>\r\n                <p className={styles.regularTextNoMargin + \" regularTextBold \" + styles.clickable} onClick={() => { this.setState({ categoryCurrentParentId: -1 }) }}><img className={styles.chevronImgCategories + \" \" + styles.bottomAlignChevron} src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/chevron-left.svg\" /> {parentCategoryName}</p>\r\n                {desktopCategoriesList}\r\n              </div>\r\n              {seeMoreDiv}\r\n            </div>\r\n          );\r\n          break;\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n\r\n    let featuredListings = <p className={styles.emptyStateMessageP}>No featured listings yet.</p>\r\n    if (this.state.featuredListings.length > 0) {\r\n      featuredListings = this.state.featuredListings.map((listing, key) => {\r\n        return (\r\n          <ListingCard key={key} listing={listing} />\r\n        );\r\n      });\r\n    }\r\n\r\n    let followedListings = <p className={styles.emptyStateMessageP}>No followed listings yet.</p>\r\n    if (this.state.followedListings.length > 0) {\r\n      followedListings = this.state.followedListings.map((listing, key) => {\r\n        return (\r\n          <ListingCard key={key} listing={listing} />\r\n        );\r\n      });\r\n    }\r\n\r\n    let hotListings = <p className={styles.emptyStateMessageP}>No hot listings yet.</p>\r\n    if (this.state.hotListings.length > 0) {\r\n      hotListings = this.state.hotListings.map((listing, key) => {\r\n        return (\r\n          <ListingCard key={key} listing={listing} />\r\n        );\r\n      });\r\n    }\r\n\r\n    let allCategoriesList = [];\r\n    for (let i = 0; i < this.state.categories.length; i++) {\r\n      allCategoriesList.push(<Link key={i} to={\"/search?cat=\" + this.state.categories[i].id} onClick={() => { this.postCatTrend(this.state.categories[i].id) }} className={\"regularTextMedium \" + styles.allCatsTitle}><p>{this.state.categories[i].name}</p></Link>);\r\n      if (this.state.categories[i].children) {\r\n        for (let j = 0; j < this.state.categories[i].children.length; j++) {\r\n          allCategoriesList.push(<Link key={i + \"_\" + j} to={\"/search?cat=\" + this.state.categories[i].children[j].id} onClick={() => { this.postCatTrend(this.state.categories[i].children[j].id) }} className={\"regularText \" + styles.allCatsText}><p>{this.state.categories[i].children[j].name}</p></Link>);\r\n        }\r\n      }\r\n    }\r\n\r\n    let mobileStickyHeader;\r\n    if (this.state.activeSectionTitle != -1) {\r\n      let stickyMobileHeaderText;\r\n      switch (this.state.activeSectionTitle) {\r\n        case 0:\r\n          stickyMobileHeaderText = \"Featured listings\";\r\n          break;\r\n        case 1:\r\n          stickyMobileHeaderText = \"Hot finds\";\r\n          break;\r\n        case 2:\r\n          stickyMobileHeaderText = \"Based on what you follow\";\r\n          break;\r\n      }\r\n      mobileStickyHeader = (\r\n        <p ref={this.hotListingsRef} className={styles.sectionTitleP + \" regularTextBold \" + styles.stickyHeader}>{stickyMobileHeaderText}</p>\r\n      );\r\n    }\r\n\r\n\r\n    let circleDesktopCategories = [];\r\n\r\n    for (let j = 0; j < this.state.categories.length && j < 7; j++) {\r\n      let cat = this.state.categories[j];\r\n      circleDesktopCategories.push(\r\n              <div className={styles.popCategoryContainer} key={j}>\r\n                <Link style={{textDecoration:\"none\", color:\"black\"}} to={\"/search?cat=\" + cat.id} onClick={() => { this.postCatTrend(cat.id) }} key={j}>\r\n                <div>\r\n                  <img src={cat.picture} />\r\n                </div>\r\n                <p className={\"regularText\"}>{cat.name}</p>\r\n                </Link>\r\n              </div>\r\n        );\r\n    }\r\n\r\n    let displayName = \"you\";\r\n    if(this.state.userName && this.state.userName.length > 0){\r\n      displayName = \"@\"+this.state.userName;\r\n    }\r\n    return (\r\n      <div>\r\n        <div id={styles.desktopMainHeader}>\r\n          <div id={styles.mainBannerDesktop}>\r\n            <div id={styles.imgLeftBanner}>\r\n              <p style={{ margin: \"0 0 10px 0\" }} className={\"regularTextMedium\"}>verified sellers  verified listings</p>\r\n              <p style={{ margin: \"0 0 70px 0\" }} className={\"mainHeadline\"}>Pre-owned electronics you can trust.</p>\r\n              <Link to=\"/new-listing\" className={\"regularTextMedium blueButton\"}>Start selling now</Link>\r\n            </div>\r\n            <div id={styles.imgRightBanner} style={{backgroundImage:\"url('https://cambio-ui.s3.amazonaws.com/bannerMainMarble.png')\"}}></div>\r\n          </div>\r\n        </div>\r\n        <BodyContainer>\r\n          {/*{mobileStickyHeader}*/}\r\n          <div className={styles.topMainContainer}>\r\n            <div className={styles.topMainContainerInnerContainer}>\r\n              <div id={styles.mobileTopNav}>\r\n                <div id={styles.mobileTopNavTopDiv}>\r\n                  <p className={\"megaTitle \" + styles.topWelcomeMessage}>  Hey {displayName}!</p>\r\n                  <div id={styles.searchIconClick} onClick={() => {\r\n                    this.setState({\r\n                      isMobileSearchDisplayed:true\r\n                    })\r\n                  }}>\r\n                    <img src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/search.svg\" />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div id={styles.mobileMainHeader}>\r\n                <p style={{ margin: \"0 0 10px 0\" }} className={\"regularTextMedium\"}>verified sellers  verified listings</p>\r\n                <p style={{ margin: \"0 0 60px 0\" }} className={\"mainHeadline\"}>Pre-owned electronics you can trust.</p>\r\n                <Link to=\"/new-listing\" className={\"regularTextMedium blueButton\"}>Start selling now</Link>\r\n              </div>\r\n\r\n              <div id={styles.mobileCategorySlideshow}>\r\n                {circleDesktopCategories}\r\n                {/*<div onClick={() => { this.setState({ isCategoriesModalDisplayed: true }); }} className={styles.popCategoryContainer}>*/}\r\n                {/*    <div>*/}\r\n                {/*      <img src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/plus.svg\" />*/}\r\n                {/*    </div>*/}\r\n                {/*    <p className={\"regularTextMedium\"}>See all</p>*/}\r\n                {/*</div>*/}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n\r\n\r\n\r\n\r\n          {/* <div className={styles.mainFeedContainers}>\r\n            <div className={styles.innerMainContainer}>\r\n              <p ref={this.featuredListingsRef} className={styles.sectionTitleP + \" title2\"}>Featured listings</p>\r\n              {featuredListings}\r\n            </div>\r\n          </div>\r\n\r\n          <div className={styles.mainFeedContainers}>\r\n            <div className={styles.innerMainContainer}>\r\n              <p ref={this.hotListingsRef} className={styles.sectionTitleP + \" title2\"}>Hot finds</p>\r\n              {hotListings}\r\n            </div>\r\n          </div> */}\r\n\r\n          <div className={styles.mainFeedContainers}>\r\n            <div className={styles.innerMainContainer}>\r\n              <p className={styles.desktopTitle+\" title2\"}>Items for you</p>\r\n              {/*<p ref={this.followedListingsRef} className={styles.sectionTitleP + \" title2\"}>Based on what you follow</p>*/}\r\n              {followedListings}\r\n            </div>\r\n          </div>\r\n        </BodyContainer>\r\n\r\n\r\n\r\n\r\n\r\n        <div id={styles.scrollTopContainer} ref={this.scrollTopButtonRef} className={styles.displayNone}>\r\n          <div id={styles.scrollTopButton}  onClick={() => {\r\n            window.scrollTo({ top: 0, behavior: 'smooth' });\r\n            // this.featuredListingsRef.current.classList.remove(styles.stickyHeader);\r\n            // this.featuredListingsRef.current.parentElement.classList.remove(styles.stickyHeaderParent);\r\n            // this.followedListingsRef.current.classList.remove(styles.stickyHeader);\r\n            // this.followedListingsRef.current.parentElement.classList.remove(styles.stickyHeaderParent);\r\n          }}>\r\n            <img src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/chevron-up.svg\" />\r\n          </div>\r\n        </div>\r\n\r\n\r\n        <Footer />\r\n        <MobileBottomNav {...this.props} />\r\n        <DesktopTopNav key={new Date().getTime()} {...this.props} />\r\n        {/*<ActivityTicker />*/}\r\n\r\n\r\n        {/*<div ref={this.categoriesContainerRef} id={styles.categoriesMainContainer}>*/}\r\n        {/*  {desktopSearchSuggest}*/}\r\n        {/*</div>*/}\r\n\r\n\r\n        {this.state.isMobileSearchDisplayed == true? <MobileSearch history={this.props.history} closeSearch = {()=>{this.setState({isMobileSearchDisplayed:false})}} categories={this.state.categories} />:null}\r\n\r\n        <Modal title=\"Categories\" closeModal={() => {\r\n          this.setState({\r\n            isCategoriesModalDisplayed: false\r\n          })\r\n        }} show={this.state.isCategoriesModalDisplayed}>\r\n          {allCategoriesList}\r\n        </Modal>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport default withTranslation()(Index);\r\n","import React from \"react\";\r\n\r\nclass Page404 extends React.Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n\r\n    }\r\n  }\r\n  render(){\r\n    return <p>404</p>\r\n  }\r\n}\r\n\r\n\r\nexport default Page404;\r\n","import React from \"react\";\r\nimport styles from 'public/style/mvpFooter.module.css';\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { Link } from \"react-router-dom\";\r\nclass Footer extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n        }\r\n    }\r\n    render() {\r\n        // const { t } = this.props;\r\n        return (\r\n            <div id={styles.footer}>\r\n                <ul>\r\n                    <Link to=\"/\">\r\n                        <li className={\"regularText \" + styles.regularText + \" \" + styles.link}>Home</li>\r\n                    </Link>\r\n                    <Link to=\"/about-us\">\r\n                        <li className={\"regularText \" + styles.regularText + \" \" + styles.link}>About us</li>\r\n                    </Link>\r\n                    <a href=\"mailto: contact@cambio.com\" style={{ textDecoration: \"none\" }}>\r\n                        <li className={\"regularText \" + styles.regularText}>contact@joincambio.com</li>\r\n                    </a>\r\n                    <li className={\"regularText \" + styles.regularText}> Copyright Cambio {new Date().getFullYear()}</li>\r\n                </ul>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withTranslation()(Footer);\r\n\r\n","import React from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport styles from \"public/style/launchLandingPage.module.css\";\r\nimport axios from \"axios\";\r\nimport Footer from \"microComponents/MvpFooter\";\r\nimport queryString from \"query-string\";\r\nimport { Helmet } from \"react-helmet\";\r\n\r\n\r\nconst emailRegex = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n\r\n\r\nclass landingPage extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            mainInput: \"\",\r\n            userHasJoined: false,\r\n            joinErrorMessage: \"\",\r\n            shareLink: \"\",\r\n            linkIsCopied: false,\r\n            refEmail: \"\"\r\n        }\r\n\r\n        this.handleInputChange = this.handleInputChange.bind(this);\r\n        this.submitButton = this.submitButton.bind(this);\r\n        this.copyReferralLink = this.copyReferralLink.bind(this);\r\n\r\n        this.linkInput = React.createRef();\r\n    }\r\n\r\n    handleInputChange(e) {\r\n        const { value, name } = e.target;\r\n        this.setState({\r\n            [name]: value\r\n        });\r\n    }\r\n\r\n    submitButton() {\r\n        this.setState({\r\n            joinErrorMessage: \"\"\r\n        });\r\n        if (this.state.mainInput.length > 0) {\r\n            if (emailRegex.test(this.state.mainInput) === true) {\r\n                let requestObj = {};\r\n                requestObj.email = this.state.mainInput;\r\n                if (queryString.parse(window.location.search).ref) {\r\n                    requestObj.refToken = queryString.parse(window.location.search).ref;\r\n                }\r\n                axios.post(window.api_prefix+'/addUserToWaitlist', requestObj).then(resp => {\r\n                    let refEmail = \"\";\r\n                    if (resp.data.referralEmail) {\r\n                        refEmail = resp.data.referralEmail;\r\n                    }\r\n                    this.setState({\r\n                        userHasJoined: true,\r\n                        joinErrorMessage: \"\",\r\n                        shareLink: \"www.joinCambio.com?ref=\" + resp.data.shareToken,\r\n                        referralEmail: refEmail\r\n                    });\r\n                }).catch(err => {\r\n                    if (err.response) {\r\n                        if (err.response.status === 403) {\r\n                            this.setState({\r\n                                joinErrorMessage: \"This email address is already on our waitlist.\",\r\n                                userHasJoined: false\r\n                            });\r\n                        } else {\r\n                            this.setState({\r\n                                joinErrorMessage: \"There has been a server error, please try again.\",\r\n                                userHasJoined: false\r\n                            });\r\n                        }\r\n                    }\r\n                });\r\n            } else {\r\n                this.setState({\r\n                    joinErrorMessage: \"Please enter a valid email address.\"\r\n                });\r\n            }\r\n        } else {\r\n            this.setState({\r\n                joinErrorMessage: \"Please fill in your email address.\"\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n    copyReferralLink() {\r\n        if (this.linkInput.current) {\r\n            let input = this.linkInput.current;\r\n            input.select();\r\n            input.setSelectionRange(0, 99999);\r\n            document.execCommand(\"copy\");\r\n            if (window.getSelection) { window.getSelection().removeAllRanges(); }\r\n            else if (document.selection) { document.selection.empty(); }\r\n            this.setState({\r\n                linkIsCopied: true\r\n            });\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        let inputs;\r\n        if (this.state.userHasJoined === false) {\r\n            let errorMessage;\r\n            if (this.state.joinErrorMessage.length > 0) {\r\n                errorMessage = <p className={\"errorText \" + styles.regularText}>{this.state.joinErrorMessage}</p>\r\n            }\r\n            inputs = (\r\n                <div>\r\n                    <p className={\"regularText \" + styles.regularText}>Join our waitlist to be in the first batch of users</p>\r\n                    <input className={\"inputText \" + styles.input} placeholder=\"Email address\" value={this.state.mainInput} name=\"mainInput\" onChange={this.handleInputChange} type=\"email\"></input>\r\n                    <button id={styles.submitButton} className={\"regularTextMedium\"} onClick={this.submitButton}>Join</button>\r\n                    <p className={\"smallText \" + styles.regularText}>Don't worry we won't spam you, promise!</p>\r\n                    {errorMessage}\r\n                </div>\r\n            );\r\n        } else {\r\n            let middleSentence;\r\n            if (this.state.referralEmail.length > 0) {\r\n                middleSentence = <p className={\"regularText \" + styles.regularText}>Thanks for joining Cambio's waitlist, one referral has been added to {this.state.referralEmail}. <span className={\"regularTextBold\"}>Refer 5 users </span>and skip the waitlist when we launch!</p>\r\n            } else {\r\n                middleSentence = <p className={\"regularText \" + styles.regularText}>Thanks for joining Cambio's waitlist. <span className={\"regularTextBold\"}>Refer 5 users </span>to skip the waitlist when we launch!</p>\r\n            }\r\n\r\n\r\n            let twitterHref = \"https://twitter.com/share?url=\" + this.state.shareLink + \"&text=Join Cambio's waitlist to purchase affordable pre-owned electronics you can trust.\";\r\n            let whatsappHref = \"https://wa.me/?text=Join Cambio's waitlist to purchase affordable pre-owned electronics you can trust. \" + this.state.shareLink;\r\n\r\n            inputs = (\r\n                <div>\r\n                    <p className={\"title2 \" + styles.regularText}>Hooray!</p>\r\n                    {middleSentence}\r\n                    <div id={styles.mainShareContainer}>\r\n                        <div id={styles.topShareContainer}>\r\n                            <input ref={this.linkInput} readOnly type=\"text\" className={\"inputText\"} value={this.state.shareLink}></input><button onClick={this.copyReferralLink} className={\"regularTextMedium\"}>{this.state.linkIsCopied == true ? \"Copied\" : \"Copy\"}</button>\r\n                        </div>\r\n                        <div id={styles.bottomShareContainer}>\r\n                            <p className={\"regularText\"}>Share on:</p>\r\n                            <a href={twitterHref} target=\"_blank\">\r\n                                <img className={styles.shareIcons} src=\"https://staticassets2020.s3.amazonaws.com/icons/twitter-white.svg\" />\r\n                            </a>\r\n                            <a href={whatsappHref} target=\"_blank\">\r\n                                <img className={styles.shareIcons} src=\"https://staticassets2020.s3.amazonaws.com/icons/whatsapp-white.svg\" />\r\n                            </a>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        return (\r\n            <div id={styles.mainContainer}>\r\n                <Helmet>\r\n                    <meta charSet=\"utf-8\" />\r\n                    <title>Cambio - Pre-owned electronics you can trust</title>\r\n                    <meta name=\"description\" content=\"Purchase affordable pre-owned electronics you can trust. No stolen devices. No sketchy transactions. Every pucharse is covered under our buyer's warranty.\" />\r\n\r\n                    <link rel=\"canonical\" href=\"http://joincambio.com\" />\r\n                </Helmet>\r\n                <div id={styles.header}>\r\n                    <a href=\"https://twitter.com/joinCambio\">\r\n                        <svg className={styles.socialIcon} xmlns=\"http://www.w3.org/2000/svg\" width=\"35\" height=\"35\" viewBox=\"0 0 72 72\" fill=\"#1da1f2\">\r\n                            <path d=\"M67.812 16.141a26.246 26.246 0 01-7.519 2.06 13.134 13.134 0 005.756-7.244 26.127 26.127 0 01-8.313 3.176A13.075 13.075 0 0048.182 10c-7.229 0-13.092 5.861-13.092 13.093 0 1.026.118 2.021.338 2.981-10.885-.548-20.528-5.757-26.987-13.679a13.048 13.048 0 00-1.771 6.581c0 4.542 2.312 8.551 5.824 10.898a13.048 13.048 0 01-5.93-1.638c-.002.055-.002.11-.002.162 0 6.345 4.513 11.638 10.504 12.84a13.177 13.177 0 01-3.449.457c-.846 0-1.667-.078-2.465-.231 1.667 5.2 6.499 8.986 12.23 9.09a26.276 26.276 0 01-16.26 5.606A26.21 26.21 0 014 55.976a37.036 37.036 0 0020.067 5.882c24.083 0 37.251-19.949 37.251-37.249 0-.566-.014-1.134-.039-1.694a26.597 26.597 0 006.533-6.774z\">\r\n                            </path>\r\n                        </svg>\r\n                    </a>\r\n                </div>\r\n                <div id={styles.mainInnerContainer}>\r\n                    <div className={styles.halfDiv}>\r\n                        <img id={styles.logo} src=\"https://staticassets2020.s3.amazonaws.com/logos/logoV1orange.png\" />\r\n                        <p className={\"title1 \" + styles.regularText}>Find affordable pre-owned electronics you can trust.</p>\r\n                        {inputs}\r\n                    </div>\r\n                    <div className={styles.halfDiv}>\r\n                        <img alt=\"mockup\" id={styles.mockupImg} src=\"https://staticassets2020.s3.amazonaws.com/landingPageAssets/mockup.png\" />\r\n                    </div>\r\n                </div>\r\n                <Footer />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withTranslation()(landingPage);","import React from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport styles from \"public/style/aboutUs.module.css\";\r\nimport Footer from \"microComponents/MvpFooter\";\r\nimport { Helmet } from \"react-helmet\";\r\nclass aboutUs extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n        }\r\n\r\n    }\r\n\r\n\r\n    render() {\r\n\r\n        return (\r\n            <div id={styles.mainContainer}>\r\n                <Helmet>\r\n                    <meta charSet=\"utf-8\" />\r\n                    <title>About Cambio - Pre-owned electronics you can trust</title>\r\n                    <link rel=\"canonical\" href=\"http://joincambio.com/about-us\" />\r\n                </Helmet>\r\n                <div id={styles.header}>\r\n                    <img id={styles.logo} src=\"https://staticassets2020.s3.amazonaws.com/logos/logoV1orange.png\" />\r\n\r\n                    <a href=\"https://twitter.com/joinCambio\">\r\n                        <svg className={styles.socialIcon} xmlns=\"http://www.w3.org/2000/svg\" width=\"35\" height=\"35\" viewBox=\"0 0 72 72\" fill=\"#1da1f2\">\r\n                            <path d=\"M67.812 16.141a26.246 26.246 0 01-7.519 2.06 13.134 13.134 0 005.756-7.244 26.127 26.127 0 01-8.313 3.176A13.075 13.075 0 0048.182 10c-7.229 0-13.092 5.861-13.092 13.093 0 1.026.118 2.021.338 2.981-10.885-.548-20.528-5.757-26.987-13.679a13.048 13.048 0 00-1.771 6.581c0 4.542 2.312 8.551 5.824 10.898a13.048 13.048 0 01-5.93-1.638c-.002.055-.002.11-.002.162 0 6.345 4.513 11.638 10.504 12.84a13.177 13.177 0 01-3.449.457c-.846 0-1.667-.078-2.465-.231 1.667 5.2 6.499 8.986 12.23 9.09a26.276 26.276 0 01-16.26 5.606A26.21 26.21 0 014 55.976a37.036 37.036 0 0020.067 5.882c24.083 0 37.251-19.949 37.251-37.249 0-.566-.014-1.134-.039-1.694a26.597 26.597 0 006.533-6.774z\">\r\n                            </path>\r\n                        </svg>\r\n                    </a>\r\n                </div>\r\n                <div id={styles.mainInnerContainer}>\r\n                    <div className={styles.halfDiv}>\r\n\r\n\r\n                        <p className={\"title1\"} id={styles.headlineText}>About Cambio</p>\r\n                        <p className={\"regularText \" + styles.regularText} id={styles.headlineText}>The team created Cambio in an effort to structure and elevate the experience of buying used tech hardware. As people who buy their devices and accessories on online forums, we couldn't believe no one had built a proper marketplace to distribute pre-owned products. <br></br><br></br>We understand trust is your biggest concern, and ours is too. We are developing a safe way to exchange items, by creating a chain of trust from seller to buyer.</p>\r\n                    </div>\r\n                </div>\r\n                <Footer />\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default withTranslation()(aboutUs);","import React from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport styles from \"public/style/aboutUs.module.css\";\r\nimport Footer from \"microComponents/MvpFooter\";\r\nclass aboutUs extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n        }\r\n\r\n    }\r\n\r\n\r\n    render() {\r\n\r\n        return (\r\n            <div id={styles.mainContainer}>\r\n\r\n                <div id={styles.header}>\r\n                    <a href=\"https://twitter.com\">\r\n                        <svg className={styles.socialIcon} xmlns=\"http://www.w3.org/2000/svg\" width=\"35\" height=\"35\" viewBox=\"0 0 72 72\" fill=\"#1da1f2\">\r\n                            <path d=\"M67.812 16.141a26.246 26.246 0 01-7.519 2.06 13.134 13.134 0 005.756-7.244 26.127 26.127 0 01-8.313 3.176A13.075 13.075 0 0048.182 10c-7.229 0-13.092 5.861-13.092 13.093 0 1.026.118 2.021.338 2.981-10.885-.548-20.528-5.757-26.987-13.679a13.048 13.048 0 00-1.771 6.581c0 4.542 2.312 8.551 5.824 10.898a13.048 13.048 0 01-5.93-1.638c-.002.055-.002.11-.002.162 0 6.345 4.513 11.638 10.504 12.84a13.177 13.177 0 01-3.449.457c-.846 0-1.667-.078-2.465-.231 1.667 5.2 6.499 8.986 12.23 9.09a26.276 26.276 0 01-16.26 5.606A26.21 26.21 0 014 55.976a37.036 37.036 0 0020.067 5.882c24.083 0 37.251-19.949 37.251-37.249 0-.566-.014-1.134-.039-1.694a26.597 26.597 0 006.533-6.774z\">\r\n                            </path>\r\n                        </svg>\r\n                    </a>\r\n                </div>\r\n                <div id={styles.mainInnerContainer}>\r\n                    <div className={styles.halfDiv}>\r\n                        <p className={\"title2\"} id={styles.headlineText}>Terms and conditions</p>\r\n                        <p className={\"regularText \" + styles.regularText} id={styles.headlineText}>terms and conditions</p>\r\n\r\n                        <p className={\"title2\"} id={styles.headlineText}>Privacy policy</p>\r\n                        <p className={\"regularText \" + styles.regularText} id={styles.headlineText}>Privacy policy</p>\r\n                    </div>\r\n                </div>\r\n                <Footer />\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default withTranslation()(aboutUs);","import React from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { Link } from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport { loginUser } from \"../reduxActions/authActions\";\r\nimport styles from \"public/style/authenticationForms.module.css\";\r\nimport Spinner from \"microComponents/LoaderAnimation\";\r\nconst emailRegex = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n\r\nclass Login extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            email: \"\",\r\n            password: \"\",\r\n            formErrorMessage: \"\",\r\n            isDataLoading: false,\r\n            serverErrorMessage: \"\"\r\n        }\r\n\r\n        this.handleInputChange = this.handleInputChange.bind(this);\r\n        this.handleFormSubmit = this.handleFormSubmit.bind(this);\r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n        // If logged in and user navigates to Register page, should redirect them to dashboard\r\n        if (this.props.auth.isAuthenticated) {\r\n            this.props.history.push(\"/home\");\r\n        }\r\n    }\r\n\r\n\r\n    static getDerivedStateFromProps(nextProps, prevState) {\r\n        if (nextProps.auth.isAuthenticated) {\r\n            nextProps.history.push(\"/home\"); // push user to dashboard when they login\r\n            return null;\r\n        } else if (nextProps.errors && nextProps.errors.message) {\r\n            return { serverErrorMessage: nextProps.errors.message, isDataLoading: false };\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    handleInputChange(e) {\r\n        const { name, value } = e.target;\r\n        this.setState({\r\n            [name]: value\r\n        });\r\n    }\r\n\r\n    handleFormSubmit() {\r\n        this.setState({\r\n            formErrorMessage: \"\"\r\n        });\r\n        if (this.state.email.length > 0 && this.state.password.length > 0) {\r\n            if (emailRegex.test(this.state.email) === true) {\r\n                this.setState({ isDataLoading: true });\r\n                let loginObj = { email: this.state.email, password: this.state.password };\r\n                this.props.loginUser(loginObj);\r\n            } else {\r\n                this.setState({\r\n                    formErrorMessage: \"Your email is not valid.\"\r\n                });\r\n            }\r\n        } else {\r\n            this.setState({\r\n                formErrorMessage: \"Please fill in all the fields.\"\r\n            });\r\n        }\r\n    }\r\n    render() {\r\n        let errorMessage;\r\n        if (this.state.formErrorMessage.length > 0) {\r\n            errorMessage = <p className={\"errorText \" + styles.regularText}>{this.state.formErrorMessage}</p>\r\n        } else if (this.state.serverErrorMessage.length > 0) {\r\n            errorMessage = <p className={\"errorText \" + styles.regularText}>{this.state.serverErrorMessage}</p>\r\n        }\r\n        return (\r\n            <div>\r\n                <div id={styles.bodyContainer}>\r\n                    <div id={styles.formCard}>\r\n                        <Link to=\"/\">\r\n                            <img alt=\"logo\" id={styles.logo} src=\"https://staticassets2020.s3.amazonaws.com/logos/logoV1orangeTransparent.png\" />\r\n                        </Link>\r\n                        <p className={\"title1 \" + styles.regularText}>Welcome back!</p>\r\n                        <input className={styles.inputText + \" inputText regularText\"} type=\"email\" name=\"email\" value={this.state.email} onChange={this.handleInputChange} placeholder=\"Email address\"></input>\r\n                        <input className={styles.inputText + \" inputText regularText\"} type=\"password\" name=\"password\" value={this.state.password} onChange={this.handleInputChange} placeholder=\"Password\"></input>\r\n                        {errorMessage}\r\n                        <p className={\"regularText \" + styles.regularText}>Don't have an account? <Link to=\"/signup\" className={styles.link + \" \" + styles.regularText}>Sign up now.</Link></p>\r\n                        <button className={styles.button + \" buttonCta regularTextMedium\"} onClick={this.handleFormSubmit}>Continue</button>\r\n                    </div>\r\n                </div>\r\n                {\r\n                    this.state.isDataLoading == true ?\r\n                        <Spinner />\r\n                        :\r\n                        null\r\n                }\r\n            </div>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nLogin.propTypes = {\r\n    loginUser: PropTypes.func.isRequired,\r\n    auth: PropTypes.object.isRequired,\r\n    errors: PropTypes.object.isRequired\r\n};\r\nconst mapStateToProps = state => ({\r\n    auth: state.auth,\r\n    errors: state.errors\r\n});\r\nexport default connect(\r\n    mapStateToProps,\r\n    { loginUser }\r\n)(withTranslation()(Login));","import React from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport { registerUser } from \"../reduxActions/authActions\";\r\nimport styles from \"public/style/authenticationForms.module.css\";\r\nimport Spinner from \"microComponents/LoaderAnimation\";\r\nimport axios from \"axios\";\r\nimport queryString from \"query-string\";\r\n\r\n\r\nconst emailRegex = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n\r\nclass Signup extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            email: \"\",\r\n            password: \"\",\r\n            username: \"\",\r\n            formErrorMessage: \"\",\r\n            isDataLoading: false,\r\n            serverErrorMessage: \"\",\r\n            usernameErrorMessage: \"\",\r\n            usernameSuccessMessage: \"\",\r\n            unameIsValid: false,\r\n            isLoading: true,\r\n            tokenValue: null,\r\n            waitlistSuccessMessage: \"\"\r\n        }\r\n\r\n        this.handleInputChange = this.handleInputChange.bind(this);\r\n        this.handleFormSubmit = this.handleFormSubmit.bind(this);\r\n        this.verifyUsername = this.verifyUsername.bind(this);\r\n        this.handleWaitlistSubmit = this.handleWaitlistSubmit.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        // If logged in and user navigates to Register page, should redirect them to dashboard\r\n        if (this.props.auth.isAuthenticated) {\r\n            this.props.history.push(\"/home\");\r\n        }\r\n        if (queryString.parse(window.location.search).token) {\r\n            let tokenValue = queryString.parse(window.location.search).token;\r\n            this.setState({\r\n                isLoading: false,\r\n                tokenValue: tokenValue\r\n            });\r\n        } else {\r\n            this.setState({\r\n                isLoading: false,\r\n            });\r\n        }\r\n    }\r\n\r\n    static getDerivedStateFromProps(nextProps, prevState) {\r\n        if (nextProps.errors && nextProps.errors.message) {\r\n            return { serverErrorMessage: nextProps.errors.message, isDataLoading: false };\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n\r\n    handleInputChange(e) {\r\n        const { name, value } = e.target;\r\n        if (name === \"username\") {\r\n            this.setState({\r\n                [name]: value,\r\n                unameIsValid: false\r\n            });\r\n        } else {\r\n            this.setState({\r\n                [name]: value\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n    verifyUsername() {\r\n        this.setState({\r\n            usernameSuccessMessage: \"\",\r\n            usernameErrorMessage: \"\"\r\n        });\r\n        if (this.state.username.length > 0) {\r\n            axios.get(window.api_prefix+\"/usernameIsValid?uname=\" + this.state.username).then(resp => {\r\n                if (parseInt(resp.data.count) > 0) {\r\n                    this.setState({\r\n                        usernameSuccessMessage: \"\",\r\n                        usernameErrorMessage: \"This username is already taken.\",\r\n                        unameIsValid: false\r\n                    });\r\n                } else {\r\n                    this.setState({\r\n                        usernameSuccessMessage: \"Congrats, this username is stil available.\",\r\n                        usernameErrorMessage: \"\",\r\n                        unameIsValid: true\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    handleWaitlistSubmit() {\r\n        this.setState({\r\n            formErrorMessage: \"\",\r\n        });\r\n        if (this.state.email.length > 0) {\r\n            if (emailRegex.test(this.state.email) === true) {\r\n                if (this.state.email.length >= 6 && this.state.email.length < 255) {\r\n                    this.setState({\r\n                        isDataLoading: true\r\n                    });\r\n                    let signupObj = { email: this.state.email };\r\n                    axios.post(window.api_prefix+\"/addUserToWaitlist\", signupObj).then(resp => {\r\n                        this.setState({\r\n                            isDataLoading: false,\r\n                            waitlistSuccessMessage: \"You have successfully been added to our waitlist! Check your emails regularly.\"\r\n                        });\r\n                    }).catch(err => {\r\n                        this.setState({\r\n                            formErrorMessage: \"There has been a server error, please try again.\"\r\n                        });\r\n                        this.setState({\r\n                            isDataLoading: false\r\n                        });\r\n                    });\r\n                } else {\r\n                    this.setState({\r\n                        formErrorMessage: \"Your email should have between 6 and 255 characters.\"\r\n                    });\r\n                    this.setState({\r\n                        isDataLoading: false\r\n                    });\r\n                }\r\n            } else {\r\n                this.setState({\r\n                    formErrorMessage: \"Your email is not valid.\"\r\n                });\r\n                this.setState({\r\n                    isDataLoading: false\r\n                });\r\n            }\r\n        } else {\r\n            this.setState({\r\n                formErrorMessage: \"Please fill in all the fields.\"\r\n            });\r\n        }\r\n    }\r\n\r\n    handleFormSubmit() {\r\n        this.setState({\r\n            formErrorMessage: \"\",\r\n        });\r\n        if (this.state.email.length > 0 && this.state.password.length > 0 && this.state.username.length > 0 && this.state.tokenValue != null) {\r\n            if (emailRegex.test(this.state.email) === true) {\r\n                if (this.state.email.length >= 6 && this.state.email.length < 255) {\r\n                    if (this.state.password.length >= 6 && this.state.password.length < 255) {\r\n                        if (this.state.username.length < 255) {\r\n                            if (this.state.unameIsValid == true) {\r\n                                this.setState({\r\n                                    isDataLoading: true\r\n                                });\r\n                                let signupObj = { token: this.state.tokenValue, email: this.state.email, password: this.state.password, username: this.state.username };\r\n                                let queryStringValues = queryString.parse(window.location.search);\r\n                                if(typeof queryStringValues.pwd != \"undefined\" && typeof queryStringValues.uid != \"undefined\"){\r\n                                    signupObj.guestUserPassword = queryStringValues.pwd;\r\n                                    signupObj.guestUserId = queryStringValues.uid;\r\n                                }\r\n\r\n\r\n                                this.props.registerUser(signupObj, this.props.history);\r\n                            } else {\r\n                                this.setState({\r\n                                    formErrorMessage: \"Please pick a valid username.\"\r\n                                });\r\n                            }\r\n                        } else {\r\n                            this.setState({\r\n                                formErrorMessage: \"Your last name should have less than 255 characters.\"\r\n                            });\r\n                        }\r\n                    } else {\r\n                        this.setState({\r\n                            formErrorMessage: \"Your password should have between 6 and 255 characters.\"\r\n                        });\r\n                    }\r\n                } else {\r\n                    this.setState({\r\n                        formErrorMessage: \"Your email should have between 6 and 255 characters.\"\r\n                    });\r\n                }\r\n            } else {\r\n                this.setState({\r\n                    formErrorMessage: \"Your email is not valid.\"\r\n                });\r\n            }\r\n        } else {\r\n            this.setState({\r\n                formErrorMessage: \"Please fill in all the fields.\"\r\n            });\r\n        }\r\n    }\r\n    render() {\r\n\r\n        let errorMessage;\r\n        if (this.state.formErrorMessage.length > 0) {\r\n            errorMessage = <p className={\"errorText \" + styles.regularText}>{this.state.formErrorMessage}</p>\r\n        } else if (this.state.serverErrorMessage.length > 0) {\r\n            errorMessage = <p className={\"errorText \" + styles.regularText}>{this.state.serverErrorMessage}</p>\r\n        }\r\n\r\n        let usernameMessage;\r\n        if (this.state.usernameErrorMessage.length > 0) {\r\n            usernameMessage = <p className={\"errorText \" + styles.regularText}>{this.state.usernameErrorMessage}</p>;\r\n        } else if (this.state.usernameSuccessMessage.length > 0) {\r\n            usernameMessage = <p className={styles.regularText} style={{ color: \"green\" }}>{this.state.usernameSuccessMessage}</p>;\r\n        }\r\n\r\n\r\n        if (this.state.isLoading == true) {\r\n            return <p>Loading...</p>\r\n        }\r\n        if (this.state.waitlistSuccessMessage.length > 0) {\r\n            return (\r\n                <div>\r\n                    <div id={styles.bodyContainer}>\r\n                        <div id={styles.formCard}>\r\n                            <Link to=\"/\">\r\n                                <img alt=\"logo\" id={styles.logo} src=\"https://staticassets2020.s3.amazonaws.com/logos/logoV1orangeTransparent.png\" />\r\n                            </Link>\r\n                            <p className={\"title1 \" + styles.regularText}>We're currently still in beta release and it looks like you weren't on our waitlist!</p>\r\n                            <p className={\"regularTextMedium \" + styles.regularText}>{this.state.waitlistSuccessMessage}</p>\r\n                        </div>\r\n                    </div>\r\n                    {\r\n                        this.state.isDataLoading == true ?\r\n                            <Spinner />\r\n                            :\r\n                            null\r\n                    }\r\n                </div>\r\n            );\r\n        }\r\n        if (this.state.tokenValue == null) {\r\n            return (\r\n                <div>\r\n                    <div id={styles.bodyContainer}>\r\n                        <div id={styles.formCard}>\r\n                            <Link to=\"/\">\r\n                                <img alt=\"logo\" id={styles.logo} src=\"https://staticassets2020.s3.amazonaws.com/logos/logoV1orangeTransparent.png\" />\r\n                            </Link>\r\n                            <p className={\"title1 \" + styles.regularText}>We're currently still in beta release and it looks like you weren't on our waitlist!</p>\r\n                            <p className={\"regularTextMedium \" + styles.regularText}>Join our waitlist now to be the next member of our community.</p>\r\n                            <input className={styles.inputText + \" inputText regularText\"} type=\"email\" name=\"email\" value={this.state.email} onChange={this.handleInputChange} placeholder=\"Email address\"></input>\r\n                            {errorMessage}\r\n                            <p className={\"regularText \" + styles.regularText}>Already have an account? <Link to=\"/login\" className={styles.link + \" \" + styles.regularText}>Sign in now.</Link></p>\r\n                            <button className={styles.button + \" buttonCta regularTextMedium\"} onClick={this.handleWaitlistSubmit}>Continue</button>\r\n                        </div>\r\n                    </div>\r\n                    {\r\n                        this.state.isDataLoading == true ?\r\n                            <Spinner />\r\n                            :\r\n                            null\r\n                    }\r\n                </div>\r\n            );\r\n        }\r\n\r\n\r\n        return (\r\n            <div>\r\n                <div id={styles.bodyContainer}>\r\n                    <div id={styles.formCard}>\r\n                        <Link to=\"/\">\r\n                            <img alt=\"logo\" id={styles.logo} src=\"https://staticassets2020.s3.amazonaws.com/logos/logoV1orangeTransparent.png\" />\r\n                        </Link>\r\n                        <p className={\"title1 \" + styles.regularText}>Let's get started!</p>\r\n                        <input className={styles.inputText + \" inputText regularText\"} type=\"text\" name=\"username\" value={this.state.username} onChange={this.handleInputChange} onBlur={this.verifyUsername} placeholder=\"Pick a username\"></input>\r\n                        {usernameMessage}\r\n                        <div id={styles.invSpace}></div>\r\n                        <input className={styles.inputText + \" inputText regularText\"} type=\"email\" name=\"email\" value={this.state.email} onChange={this.handleInputChange} placeholder=\"Email address\"></input>\r\n                        <input className={styles.inputText + \" inputText regularText\"} type=\"password\" name=\"password\" value={this.state.password} onChange={this.handleInputChange} placeholder=\"Password\"></input>\r\n                        {errorMessage}\r\n                        <p>By registering, you agree to our <Link className={styles.link + \" \" + styles.regularText}>Privacy policy</Link> and <Link className={styles.link + \" \" + styles.regularText}>Terms and conditions</Link></p>\r\n                        <p className={\"regularText \" + styles.regularText}>Already have an account? <Link to=\"/login\" className={styles.link + \" \" + styles.regularText}>Sign in now.</Link></p>\r\n                        <button className={styles.button + \" buttonCta regularTextMedium\"} onClick={this.handleFormSubmit}>Continue</button>\r\n                    </div>\r\n                </div>\r\n                {\r\n                    this.state.isDataLoading == true ?\r\n                        <Spinner />\r\n                        :\r\n                        null\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\n\r\nSignup.propTypes = {\r\n    registerUser: PropTypes.func.isRequired,\r\n    auth: PropTypes.object.isRequired,\r\n    errors: PropTypes.object.isRequired\r\n};\r\n\r\n\r\nconst mapStateToProps = state => ({\r\n    auth: state.auth,\r\n    errors: state.errors\r\n});\r\n\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    { registerUser }\r\n)(withRouter(withTranslation()(Signup)));","import React from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { Link } from \"react-router-dom\";\r\nimport styles from \"public/style/listingCardSmallCard.module.css\";\r\nimport { integerToMoneyString } from \"miscFunctions\";\r\n\r\nclass Index extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            searchInput: \"\",\r\n            displayAccountModel: false,\r\n            searchSuggestions: [],\r\n            historyEvents: [],\r\n            listing: {},\r\n            isLoading: true\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({\r\n            listing: this.props.listing,\r\n            isLoading: false\r\n        });\r\n    }\r\n\r\n\r\n    render() {\r\n        const { t } = this.props;\r\n        if (this.state.isLoading === true) {\r\n            return null;\r\n        } else {\r\n\r\n            let conditionsOptionsArray = [\r\n                {\r\n                    id: 0,\r\n                    name: \"New\"\r\n                },\r\n                {\r\n                    id: 1,\r\n                    name: \"Like new\"\r\n                },\r\n                {\r\n                    id: 2,\r\n                    name: \"Lightly used\"\r\n                },\r\n                {\r\n                    id: 3,\r\n                    name: \"Used\"\r\n                },\r\n                {\r\n                    id: 4,\r\n                    name: \"Broken\"\r\n                },\r\n                {\r\n                    id: 5,\r\n                    name: \"For parts\"\r\n                }\r\n            ];\r\n\r\n            let avgRating;\r\n            if (this.state.listing.avgrating == 0 || this.state.listing.avgrating == null || typeof this.state.listing.avgrating == \"undefined\") {\r\n                avgRating = \"No ratings yet.\";\r\n            }else{\r\n                avgRating = [];\r\n                let rating = this.state.listing.avgrating;\r\n                let nbFullStars = Math.floor(rating);\r\n                for(let i = 0;i<nbFullStars;i++){\r\n                    avgRating.push(\r\n                        <img src={\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/star-yellow.svg\"} />\r\n                    );\r\n                }\r\n                if(nbFullStars != rating){\r\n                    avgRating.push(\r\n                        <img src={\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/star-yellow-half.svg\"} />\r\n                    );\r\n                }\r\n            }\r\n\r\n            return (\r\n                <div id={styles.mainContainer}>\r\n                    <Link to={\"/listing?id=\" + this.state.listing.id}>\r\n                        <div className={styles.mainDivisors}>\r\n\r\n                            <div id={styles.productPicture} style={{ backgroundImage: !this.state.listing.pictures || this.state.listing.pictures.length == 0 ? \"url('https://staticassets2020.s3.amazonaws.com/octiconsSvg/image.svg')\" : \"url('\" + this.state.listing.pictures[0] + \"')\" }}>\r\n                                <div id={styles.itemStateContainer}><p className={\"regularText\"}>{conditionsOptionsArray[this.state.listing.condition].name}</p></div>\r\n                            </div>\r\n                        </div>\r\n                        <div className={styles.mainDivisors}>\r\n                            <div id={styles.productTextContainer}>\r\n                                <p className={\"regularTextMedium\"}>{this.state.listing.title}</p>\r\n                                <p className={\"regularTextMedium \"}>{integerToMoneyString(this.state.listing.price)}</p>\r\n                            </div>\r\n                            {/*<div className={styles.userInfoDivisor}>*/}\r\n                            {/*    <div id={styles.userPicture} style={{*/}\r\n                            {/*        backgroundImage: !this.state.listing.sellerprofilepicture || this.state.listing.sellerprofilepicture.length == 0 ? \"url('https://staticassets2020.s3.amazonaws.com/octiconsSvg/smiley.svg')\" : \"url('\" + this.state.listing.sellerprofilepicture + \"')\"*/}\r\n                            {/*    }}></div>*/}\r\n                            {/*    <Link to={\"/user?id=\" + this.state.listing.sellerid}>*/}\r\n                            {/*        <div id={styles.userTextContainer}>*/}\r\n                            {/*            <p className={styles.noMarginP + \" regularTextMedium\"}>@{this.state.listing.sellername}</p>*/}\r\n                            {/*            <div><p className={styles.noMarginP + \" regularText\"} id={styles.starP} style={{ color: \"#f9f9f9\" }}>{avgRating}</p></div>*/}\r\n                            {/*        </div>*/}\r\n                            {/*    </Link>*/}\r\n                            {/*</div>*/}\r\n                        </div>\r\n                    </Link>\r\n                </ div>\r\n            );\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport default withTranslation()(Index);\r\n","import React from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport styles from \"public/style/activityTicker.module.css\";\r\nclass Tickers extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            historyEvents: [],\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({\r\n            historyEventsy: [\r\n                {\r\n                    username: \"John Doe\",\r\n                    type: \"RECEIVED\",\r\n                    categoryName: \"iPhone X\",\r\n                    price: 329\r\n                },\r\n                {\r\n                    username: \"Ginna12e\",\r\n                    type: \"PURCHASED\",\r\n                    categoryName: \"MakerBot 3D Printer\",\r\n                    price: 1008\r\n                },\r\n                {\r\n                    username: \"John Doe\",\r\n                    type: \"RECEIVED\",\r\n                    categoryName: \"iPhone X\",\r\n                    price: 329\r\n                },\r\n                {\r\n                    username: \"Ginna12e\",\r\n                    type: \"PURCHASED\",\r\n                    categoryName: \"MakerBot 3D Printer\",\r\n                    price: 1008\r\n                },\r\n                {\r\n                    username: \"John Doe\",\r\n                    type: \"RECEIVED\",\r\n                    categoryName: \"iPhone X\",\r\n                    price: 329\r\n                },\r\n                {\r\n                    username: \"Ginna12e\",\r\n                    type: \"PURCHASED\",\r\n                    categoryName: \"MakerBot 3D Printer\",\r\n                    price: 1008\r\n                },\r\n                {\r\n                    username: \"John Doe\",\r\n                    type: \"RECEIVED\",\r\n                    categoryName: \"iPhone X\",\r\n                    price: 329\r\n                },\r\n                {\r\n                    username: \"Ginna12e\",\r\n                    type: \"PURCHASED\",\r\n                    categoryName: \"MakerBot 3D Printer\",\r\n                    price: 1008\r\n                }\r\n            ],\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const { t } = this.props;\r\n\r\n        let historyEvents;\r\n        if (this.state.historyEvents.length > 0) {\r\n            historyEvents = this.state.historyEvents.map((event, key) => {\r\n                let sentence;\r\n                if (event.type === \"RECEIVED\") {\r\n                    return null;\r\n                    sentence = <p className={styles.regularTextNoMargin + \" regularText\"}><span className={\"regularTextMedium\"}>{event.username}</span> just received <span className={\"regularTextMedium\"}>{event.categoryName}</span></p>;\r\n                } else {\r\n                    sentence = <p className={styles.regularTextNoMargin + \" regularText\"}><span className={\"regularTextMedium\"}>{event.username}</span> just bought <span className={\"regularTextMedium\"}>{event.categoryName}</span> for <span className={\"regularTextMedium\"}>{event.price}</span></p>;\r\n                }\r\n                return (\r\n                    <div className={styles.historyEventCard} key={key}>\r\n                        {sentence}\r\n                    </div>\r\n                );\r\n            });\r\n        } else {\r\n            historyEvents = <p className={\"regularText \" + styles.regularText + \" \" + styles.divTitleP}>No items for you yet.</p>\r\n        }\r\n\r\n\r\n        return (\r\n            <div id={styles.historyTabMainContainer}>\r\n                <p className={styles.divTitleP + \" regularTextBold\"}>Similar items for you</p>\r\n                {historyEvents}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default withTranslation()(Tickers);\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport axios from \"axios\";\r\nimport Footer from \"microComponents/Footer.js\";\r\nimport styles from \"public/style/profile.module.css\";\r\nimport DesktopTopNav from \"microComponents/DesktopTopNav.js\";\r\nimport MobileBottomNav from \"microComponents/MobileBottomNav.js\";\r\nimport queryString from \"query-string\";\r\nimport ListingCardSmallCard from \"../microComponents/ListingCardSmallCard\";\r\nimport ActivityTicker from \"microComponents/ActivityTicker\";\r\nimport BodyContainer from \"microComponents/BodyContainer\";\r\nimport {integerToMoneyString} from \"../miscFunctions\";\r\nlet conditionsOptionsArray = [\"New (sealed)\", \"Like new\", \"Lightly used\", \"Used\", \"Broken\", \"For parts\"];\r\nclass Profile extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            dataIsLoading: true,\r\n            id: \"\",\r\n            name: \"\",\r\n            reviews: [],\r\n            signupDate: new Date(),\r\n            avgRating: 1,\r\n            description: \"\",\r\n            picture: \"\",\r\n            activeListings: [],\r\n            recentPurchases: [],\r\n            errorMessage: \"\",\r\n            displayLoginPopup: false,\r\n            userIsFollowed: false,\r\n            isOwnProfile: false\r\n        }\r\n        this.followUser = this.followUser.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        let userId;\r\n        if (queryString.parse(window.location.search).id) {\r\n            userId = queryString.parse(window.location.search).id;\r\n        } else {\r\n            this.props.history.push(\"/\");\r\n        }\r\n\r\n        axios.get(window.api_prefix+\"/userReviewsReceived?id=\" + userId).then((resp) => {\r\n            this.setState({\r\n                reviews: resp.data,\r\n            })\r\n        });\r\n\r\n        axios.get(window.api_prefix+\"/userFromIdActiveListings?userId=\" + userId).then((resp) => {\r\n            this.setState({\r\n                activeListings: resp.data,\r\n            })\r\n        });\r\n\r\n        axios.get(window.api_prefix+\"/userFromIdPurchaseHistory?userId=\" + userId).then((resp) => {\r\n            console.log(resp);\r\n            this.setState({\r\n                recentPurchases: resp.data,\r\n            })\r\n        });\r\n\r\n        axios.get(window.api_prefix+\"/userProfile?id=\" + userId).then((res) => {\r\n            let info = res.data.userInfos;\r\n            this.setState({\r\n                id: userId,\r\n                userIsFollowed: res.data.followedInfo && res.data.followedInfo.length > 0 ? true : false,\r\n                dataIsLoading: false,\r\n                isOwnProfile: this.props.auth.user.id == userId,\r\n                signupDate: new Date(info.signupdate),\r\n                name: info.name,\r\n                avgRating: info.avgrating,\r\n                profilePicture: info.profilepicture ? info.profilepicture : \"\",\r\n                description: info.bio ? info.bio : \"\",\r\n            });\r\n        }).catch((err) => {\r\n            if (err.response) {\r\n                this.setState({\r\n                    dataIsLoading: false,\r\n                    errorMessage: err.response.data.message\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    followUser() {\r\n        if (this.props.auth.isAuthenticated === true) {\r\n            this.setState(prevState => ({\r\n                userIsFollowed: !prevState.userIsFollowed\r\n            }));\r\n            axios.post(window.api_prefix+\"/followUser\", { id: this.state.id }).then((resp) => {\r\n                this.setState({\r\n                    userIsFollowed: resp.data.isFollowing\r\n                });\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    this.setState(prevState => ({\r\n                        userIsFollowed: !prevState.userIsFollowed\r\n                    }));\r\n                }\r\n            });\r\n        } else {\r\n            this.setState({\r\n                displayLoginPopup: true\r\n            });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { t } = this.props;\r\n\r\n        let reviewsList = <p>No reviews yet.</p>;\r\n\r\n        if (this.state.reviews.length > 0) {\r\n            reviewsList = this.state.reviews.map((review, key) => {\r\n                let reviewRating = review.rating;\r\n                let reviewRatingStarArray;\r\n                if (reviewRating == 0 || reviewRating == null || typeof reviewRating == \"undefined\") {\r\n                    reviewRatingStarArray = \"No ratings yet.\";\r\n                }else{\r\n                    reviewRatingStarArray = [];\r\n                    let nbFullStars = Math.floor(reviewRating);\r\n                    for(let i = 0;i<nbFullStars;i++){\r\n                        reviewRatingStarArray.push(\r\n                            <img className={styles.starIcon} src={\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/star-yellow.svg\"} />\r\n                        );\r\n                    }\r\n                    if(nbFullStars != reviewRating){\r\n                        reviewRatingStarArray.push(\r\n                            <img className={styles.starIcon} src={\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/star-yellow-half.svg\"} />\r\n                        );\r\n                    }\r\n                }\r\n                return (\r\n                    <div key={key} className={styles.reviewCardContainer}>\r\n                        <Link to={\"/user?id=\" + review.reviewerid}>\r\n                            <div className={styles.reviewCardInnerContainer}>\r\n                                <div className={styles.profilePictureImg} style={{\r\n                                    backgroundImage: !review.profilePicture || review.profilePicture.length == 0 ? \"url('https://staticassets2020.s3.amazonaws.com/octiconsSvg/smiley.svg')\" : \"url('\" + review.profilePicture + \"')\"\r\n                                }}></div>\r\n                                < p className={\" regularText\"} > {review.name}</p>\r\n                            </div>\r\n                        </Link>\r\n                        <div className={styles.reviewCardInnerContainer}>\r\n                            <p className={styles.regularTextNoMargin + \" regularText\"}>{review.comment}</p>\r\n                        </div>\r\n                        <div className={styles.reviewCardInnerContainer}>\r\n                            <p className={styles.regularTextNoMargin + \" regularText\"}>{reviewRatingStarArray}</p>\r\n                        </div>\r\n                    </div>\r\n                );\r\n            });\r\n        }\r\n\r\n        if (this.state.dataIsLoading === true) {\r\n            return <p>Loading...</p>\r\n        } else {\r\n            if (this.state.errorMessage.length > 0) {\r\n                return <p>{this.state.errorMessage}</p>\r\n            }\r\n\r\n            let activeListings = <p>No listings.</p>;\r\n            if (this.state.activeListings.length > 0) {\r\n                activeListings = this.state.activeListings.map((listing, key) => {\r\n                    console.log(listing);\r\n                    return (\r\n                        <ListingCardSmallCard key={key} listing={listing} />\r\n                    );\r\n                });\r\n            }\r\n\r\n            let recentPurchases = <p>No recent purchases.</p>;\r\n            if (this.state.recentPurchases.length > 0) {\r\n                recentPurchases = this.state.recentPurchases.map((listing, key) => {\r\n                    return (\r\n                        <Link key={key} to={\"/listing?id=\" + listing.id}>\r\n                            <div className={styles.listingSmallCard}>\r\n                                <div className={styles.listingPicture} style={{ backgroundImage: !listing.pictures || listing.pictures.length == 0 ? \"url('/https://staticassets2020.s3.amazonaws.com/octiconsSvg/image.svg')\" : \"url('\" + listing.pictures[0] + \"')\" }}><p className={styles.listingPrice + \" regularTextBold\"}>{integerToMoneyString(listing.price)}</p></div>\r\n                                <p className={styles.regularTextHalfMargin + \" regularTextBold\"}>{listing.title}</p>\r\n                                <p className={styles.regularTextHalfMargin + \" regularText\"}>{conditionsOptionsArray[listing.condition]}</p>\r\n                            </div>\r\n                        </Link>\r\n                    );\r\n                });\r\n            }\r\n\r\n            let profilePicture;\r\n            if (this.state.profilePicture.length > 0) {\r\n                profilePicture = <div className={styles.profilePictureImg} style={{ backgroundImage: \"url('\" + this.state.profilePicture + \"')\" }}></div>;\r\n            } else {\r\n                profilePicture = <div className={styles.profilePictureImg}><img src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/smiley.svg\" /></div>\r\n            }\r\n\r\n            let followButton;\r\n            if (this.state.isOwnProfile === false && (this.props.auth.isAuthenticated == true)) {\r\n                followButton = (\r\n                    <div className={styles.followButtonMainContainer}>\r\n                        {this.state.userIsFollowed === true ? <button className={\"secondaryButton \" + styles.buttonCta} onClick={this.followUser}>Following <img src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/check-inactive.svg\"/></button> : <button className={\"secondaryButton \" + styles.buttonCta} onClick={this.followUser}>Follow <img src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/plus.svg\"/></button>}\r\n                        {/* <button className={\"buttonCta \" + styles.buttonCta}>Message</button> */}\r\n                    </div>\r\n                );\r\n            }\r\n\r\n\r\n            let avgRating = this.state.avgRating;\r\n            let sellerRatingStarArray;\r\n            if (avgRating == 0 || avgRating == null || typeof avgRating == \"undefined\") {\r\n                sellerRatingStarArray = \"No ratings yet.\";\r\n            }else{\r\n                sellerRatingStarArray = [];\r\n                let nbFullStars = Math.floor(avgRating);\r\n                for(let i = 0;i<nbFullStars;i++){\r\n                    sellerRatingStarArray.push(\r\n                        <img className={styles.starIcon} src={\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/star-yellow.svg\"} />\r\n                    );\r\n                }\r\n                if(nbFullStars != avgRating){\r\n                    sellerRatingStarArray.push(\r\n                        <img className={styles.starIcon} src={\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/star-yellow-half.svg\"} />\r\n                    );\r\n                }\r\n            }\r\n\r\n            return (\r\n                <div>\r\n                    <BodyContainer>\r\n                        <div className={styles.innerMainContainer}>\r\n                            <div className={styles.listingComponentsMainContainer}>\r\n                                {profilePicture}\r\n\r\n                                {followButton}\r\n                                <div id={styles.sellerTextMainContainer}>\r\n                                    <div>\r\n                                        <p className={\"title2 \" + styles.regularTextNoMargin}>@{this.state.name}</p>\r\n                                    </div>\r\n                                    <div>\r\n                                        <p className={styles.regularTextNoMargin + \" regularText\"}>{sellerRatingStarArray}</p>\r\n                                    </div>\r\n                                </div>\r\n                                <div style={{padding:\"20px 0 0 0\", minHeight:\"100px\"}}>\r\n                                    <p className={styles.regularTextNoMargin + \" regularTextMedium\"}>Member since {new Date(this.state.signupDate).getFullYear()}</p>\r\n                                    <p className={styles.regularTextNoMargin + \" regularText\"}>{this.state.description}</p>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className={styles.separatorLine}></div>\r\n                            <p className={styles.regularText + \" title2\"}>Active listings ({this.state.activeListings.length})</p>\r\n                            <div className={styles.listingCarousel}>\r\n                                {activeListings}\r\n                            </div>\r\n\r\n                            {/*<div className={styles.separatorLine}></div>*/}\r\n                            {/*<p className={styles.regularText + \" regularTextBold\"}>Recent purchases</p>*/}\r\n                            {/*<div className={styles.listingCarousel}>*/}\r\n                            {/*    {recentPurchases}*/}\r\n                            {/*</div>*/}\r\n\r\n\r\n                            <div className={styles.separatorLine}></div>\r\n                            <p className={styles.regularText + \" title2\"}>Reviews ({this.state.reviews.length})</p>\r\n                            {reviewsList}\r\n                        </div>\r\n                    </BodyContainer>\r\n                    <Footer />\r\n                    <MobileBottomNav {...this.props} />\r\n                    <DesktopTopNav key={new Date().getTime()} {...this.props} />\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n}\r\n\r\nProfile.propTypes = {\r\n    auth: PropTypes.object.isRequired\r\n};\r\nconst mapStateToProps = state => ({\r\n    auth: state.auth\r\n});\r\nexport default connect(mapStateToProps)(Profile);","import React, { PureComponent } from 'react';\r\nimport Styles from 'public/style/snackBar.module.css';\r\n\r\nexport default class Snackbar extends PureComponent {\r\n    message = ''\r\n\r\n    state = {\r\n        isActive: false,\r\n    }\r\n\r\n    openSnackBar = (message = 'Something went wrong...') => {\r\n        this.message = message;\r\n        this.setState({ isActive: true }, () => {\r\n            setTimeout(() => {\r\n                this.setState({ isActive: false });\r\n            }, 3000);\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const { isActive } = this.state;\r\n        return (\r\n            <div className={isActive ? [Styles.snackbar, Styles.show].join(\" \") : Styles.snackbar}>\r\n                {this.message}\r\n            </div>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport Footer from \"microComponents/Footer.js\";\r\nimport styles from \"public/style/listingPage.module.css\";\r\nimport DesktopTopNav from \"microComponents/DesktopTopNav.js\";\r\nimport MobileBottomNav from \"microComponents/MobileBottomNav.js\";\r\nimport { connect } from \"react-redux\";\r\nimport PropTypes from \"prop-types\";\r\nimport queryString from \"query-string\";\r\n// import ActivityTicker from \"microComponents/ActivityTicker\";\r\nimport BodyContainer from \"microComponents/BodyContainer\";\r\nimport Modal from \"microComponents/Modal.js\";\r\nimport Snackbar from \"microComponents/SnackBar.js\";\r\nimport Spinner from \"microComponents/LoaderAnimation\";\r\nimport { integerToMoneyString } from \"miscFunctions\";\r\nimport LoginCard from \"../microComponents/LoginCard\";\r\n\r\n\r\nlet conditionsOptionsArray = [\r\n    {\r\n        id: 0,\r\n        name: \"New (sealed)\"\r\n    },\r\n    {\r\n        id: 1,\r\n        name: \"Like new\"\r\n    },\r\n    {\r\n        id: 2,\r\n        name: \"Lightly used\"\r\n    },\r\n    {\r\n        id: 3,\r\n        name: \"Used\"\r\n    },\r\n    {\r\n        id: 4,\r\n        name: \"Broken\"\r\n    },\r\n    {\r\n        id: 5,\r\n        name: \"For parts\"\r\n    }\r\n];\r\n\r\n\r\nclass Listing extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            dataIsLoading: true,\r\n            isDoingReservation: false,\r\n            errorMessage: \"\",\r\n            id: \"\",\r\n            title: \"\",\r\n            seller: {\r\n                name: \"\",\r\n                reviews: [],\r\n                avgRating: 0,\r\n                profilePicture: \"\"\r\n            },\r\n\r\n            status: 0,\r\n            price: 0,\r\n            description: \"\",\r\n            tags: [],\r\n            isOwnListing: false,\r\n            pictures: [],\r\n            displayLoginPopup: false,\r\n            makeOfferamount: 1,\r\n            isOfferModalDisplayed: false,\r\n            isListingFound: false,\r\n            sellerReviews: [],\r\n            filters: [],\r\n            isGuestListing:true,\r\n            condition:0,\r\n\r\n            activePictureCarousel:-1,\r\n\r\n            swipeStart:0,\r\n            swipeEnd:0,\r\n            activeDesktopImgCarousel:-1,\r\n\r\n            isAnOfferMade:false,\r\n\r\n            buyType:0 //0 = buy now, 1 = offer\r\n        }\r\n        this.makeOffer = this.makeOffer.bind(this);\r\n        this.handleInputChange = this.handleInputChange.bind(this);\r\n\r\n        this.snackbarRef = React.createRef();\r\n        this.shareLinkRef = React.createRef();\r\n    }\r\n\r\n    componentDidMount() {\r\n        let listingId;\r\n        if (queryString.parse(window.location.search).id) {\r\n            listingId = queryString.parse(window.location.search).id;\r\n        } else {\r\n            this.props.history.push(\"/\");\r\n        }\r\n        axios.get(window.api_prefix+\"/listingDetails?id=\" + listingId).then((res) => {\r\n            let info = res.data.listingDetails;\r\n            if (info) {\r\n                this.setState({\r\n                    filters: res.data.filters,\r\n                    isListingFound: true,\r\n                    isGuestListing:info.isguestlisting,\r\n                    id: listingId,\r\n                    isOwnListing: this.props.auth.user.id == info.sellerid,\r\n                    title: info.title,\r\n                    price: info.price,\r\n                    pictures: info.pictures,\r\n                    status: info.status,\r\n                    seller: {\r\n                        id: info.sellerid,\r\n                        name: info.name,\r\n                        avgRating: info.avgrating,\r\n                        profilePicture: info.profilepicture ? info.profilepicture : \"\"\r\n                    },\r\n                    description: info.description,\r\n                    condition:info.condition,\r\n                    dataIsLoading: false,\r\n                    predefType:info.predeftype\r\n                });\r\n\r\n                axios.get(window.api_prefix+\"/userReviewsReceived?id=\" + info.sellerid).then((resp) => {\r\n                    this.setState({\r\n                        sellerReviews: resp.data\r\n                    })\r\n                });\r\n\r\n            } else {\r\n                this.props.history.push(\"/home\");\r\n            }\r\n\r\n        }).catch((err) => {\r\n            if (err.response) {\r\n                this.setState({\r\n                    dataIsLoading: false,\r\n                    errorMessage: err.response.data.message\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.onscroll = undefined;\r\n        document.onclick = undefined;\r\n    }\r\n\r\n    // handleTouchMove(e){\r\n    //     // console.log(e.changedTouches[0].clientX);\r\n    // }\r\n    // handleTouchStart(e){\r\n    //     this.setState({\r\n    //         swipeStart:e.changedTouches[0].clientX\r\n    //     });\r\n    // }\r\n    // handleTouchEnd(e){\r\n    //     this.setState({\r\n    //         swipeEnd:e.changedTouches[0].clientX\r\n    //     });\r\n    // }\r\n\r\n    makeOffer() {\r\n        if (this.props.auth.isAuthenticated === true) {\r\n            this.setState({\r\n                isOfferModalDisplayed: false,\r\n                makeOfferAmount: \"\",\r\n                isAnOfferMade:true\r\n            });\r\n            axios.post(window.api_prefix+\"/makeOffer\", { listingId: this.state.id, amount: this.state.makeOfferAmount }).then((resp) => {\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n\r\n                }\r\n            });\r\n        } else {\r\n            this.setState({\r\n                displayLoginPopup: true\r\n            });\r\n        }\r\n    }\r\n\r\n    handleInputChange(e) {\r\n        const { name, value } = e.target;\r\n        this.setState({\r\n            [name]: value\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const { t } = this.props;\r\n        if (this.state.dataIsLoading === true) {\r\n            return <p>Loading...</p>\r\n        }\r\n        if (this.state.errorMessage.length > 0) {\r\n            return <p>{this.state.errorMessage}</p>;\r\n        }\r\n        if (this.state.isListingFound == false) {\r\n            return <p>Listing not found</p>;\r\n        }\r\n        let smallPictures = [];\r\n        //start from second picture\r\n            for (let i = 1; i < 4 && i < this.state.pictures.length; i++) {\r\n                smallPictures.push(<div onClick={()=>{\r\n                    this.setState({\r\n                        activeDesktopImgCarousel:i\r\n                    });\r\n                }} key={i} style={{ backgroundImage: \"url('\" + this.state.pictures[i] + \"')\" }} className={styles.smallPictureImg}></div>);\r\n            }\r\n            if(this.state.pictures.length == 5){\r\n                smallPictures.push(<div onClick={()=>{\r\n                    this.setState({\r\n                        activeDesktopImgCarousel:4\r\n                    });\r\n                }} key={4} style={{ backgroundImage: \"url('\" + this.state.pictures[4] + \"')\" }} className={styles.smallPictureImg}></div>);\r\n            }else if(this.state.pictures.length > 5){\r\n                smallPictures.push(\r\n                    <div onClick={()=>{\r\n                        this.setState({\r\n                            activeDesktopImgCarousel:5\r\n                        });\r\n                    }} key={5} className={styles.smallPictureImg}>\r\n                        <p>More </p>\r\n                    </div>\r\n                );\r\n            }\r\n\r\n        let carouselDots = [];\r\n        for(let i=0;i<this.state.pictures.length;i++){\r\n            carouselDots.push(\r\n                <div className={this.state.activePictureCarousel == i?styles.carouselDot+\" \"+styles.activeCarouselDot:styles.carouselDot}></div>\r\n            );\r\n        }\r\n\r\n        let mobilePics = this.state.pictures.map((pic, key)=>{\r\n            return (\r\n                <div key={key} className={styles.mainPictureImg} style={{ backgroundImage: \"url('\" + pic + \"')\" }}></div>\r\n            );\r\n        });\r\n        let mainListingPicture;\r\n        if (this.state.pictures.length > 0) {\r\n            mainListingPicture = (\r\n                <div id={styles.mainPictureContainer}>\r\n                    <div onClick={()=>{\r\n                        this.setState({\r\n                            activeDesktopImgCarousel:0\r\n                        });\r\n                    }} className={styles.mainPictureImg} id={styles.mobileNoShow} style={{ backgroundImage: \"url('\" + this.state.pictures[0] + \"')\" }}></div>\r\n                    {mobilePics}\r\n                </div>\r\n            );\r\n        } else {\r\n            mainListingPicture = (\r\n                <div id={styles.mainPictureImg}>\r\n                    <img src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/image.svg\" />\r\n                </div>\r\n            );\r\n        }\r\n\r\n\r\n        let reviewsList;\r\n        if (this.state.sellerReviews.length > 0) {\r\n            reviewsList = this.state.sellerReviews.map((review, key) => {\r\n                let starsArray = [];\r\n                let nbFullStars = Math.floor(review.rating);\r\n                for(let i = 0;i<nbFullStars;i++){\r\n                    starsArray.push(\r\n                        <img src={\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/star-yellow.svg\"} />\r\n                    );\r\n                }\r\n                if(nbFullStars != review.rating){\r\n                    starsArray.push(\r\n                        <img src={\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/star-yellow-half.svg\"} />\r\n                    );\r\n                }\r\n                return (\r\n                    <div key={key} className={styles.reviewCardContainer}>\r\n                        <Link to={\"/user?id=\" + review.reviewerid}>\r\n                            <div className={styles.reviewCardInnerContainer}>\r\n                                <div className={styles.profilePictureImg} style={{\r\n                                    backgroundImage: !review.profilepicture || review.profilepicture.length == 0 ? \"url('https://staticassets2020.s3.amazonaws.com/octiconsSvg/smiley.svg')\" : \"url('\" + review.profilepicture + \"')\"\r\n                                }}></div>\r\n                                < p className={\" regularText\"} >@{review.name}</p>\r\n                            </div>\r\n                        </Link>\r\n                        <div className={styles.reviewCardInnerContainer}>\r\n                            <p className={styles.regularTextNoMargin + \" regularText\"}>{review.comment}</p>\r\n                        </div>\r\n                        <div className={styles.reviewCardInnerContainer}>\r\n                            {/* <p className={styles.regularTextNoMargin + \" regularText\"}>{review.rating} stars</p> */}\r\n                            <p className={styles.regularTextNoMargin + \" regularText \"+styles.starP}>{starsArray}</p>\r\n                        </div>\r\n                    </div>\r\n                );\r\n            });\r\n        } else {\r\n            reviewsList = <p>No reviews yet.</p>\r\n        }\r\n\r\n        let sellerProfilePicture;\r\n        if (this.state.seller.profilePicture.length > 0) {\r\n            sellerProfilePicture = (\r\n                sellerProfilePicture = <div className={styles.profilePictureImg} style={{ backgroundImage: \"url('\" + this.state.seller.profilePicture + \"')\" }}></div>\r\n            );\r\n        } else {\r\n            sellerProfilePicture = <div className={styles.profilePictureImg}><img src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/smiley.svg\" /></div>\r\n        }\r\n\r\n        let actionButtons;\r\n        let actionButtonsArray = [];\r\n        if(this.state.isGuestListing == false){\r\n            actionButtonsArray.push(\r\n                <button className={\"secondaryButton \" + styles.floatingButtonCta} id={styles.floatingButtonRight} onClick={() => {\r\n                    this.props.history.push(\"/pay?listingId=\"+this.state.id);\r\n                }}>Buy now</button>\r\n            );\r\n            actionButtonsArray.push(\r\n                <button className={\"secondaryButton \" + styles.floatingButtonCta} id={styles.floatingButtonLeft} onClick={() => { this.setState({ isOfferModalDisplayed: true }) }}>Make offer</button>\r\n            );\r\n        }else{\r\n            actionButtonsArray.push(\r\n                <button className={\"secondaryButton \" + styles.floatingButtonFullWidth} onClick={() => { this.setState({ isOfferModalDisplayed: true }) }}>Make offer</button>\r\n            );\r\n        }\r\n        if (this.state.isOwnListing === false && this.state.status != 1 && this.state.status != 2) {\r\n            actionButtons = (\r\n                <div className={styles.listingComponentsMainContainer}>\r\n                    {actionButtonsArray}\r\n                </div>\r\n            );\r\n        }\r\n        let listingUrl = \"https://joincambio.com/listing?id=\" + this.state.id;\r\n        let twitterShareLink = \"https://twitter.com/share?url=\" + listingUrl + \"&text=\" + this.state.title + \"... \" + this.state.description;\r\n        let fbShareLink = \"https://www.facebook.com/sharer/sharer.php?u=\" + listingUrl;\r\n\r\n\r\n        let bigImgsDesktopCarousel = [];\r\n        let carouselArrows = [];\r\n        if(this.state.activeDesktopImgCarousel != -1){\r\n            if(this.state.activeDesktopImgCarousel != 0){\r\n                //past element\r\n                bigImgsDesktopCarousel.push(\r\n                    <div id={styles.carouselLeftPic} style={{backgroundImage:\"url(\"+this.state.pictures[this.state.activeDesktopImgCarousel - 1]+\")\"}}></div>\r\n                );\r\n                carouselArrows.push(\r\n                    <div id={styles.carouselArrowLeft} onClick={()=>{this.setState(prev=>({activeDesktopImgCarousel:prev.activeDesktopImgCarousel-1}))}} style={{backgroundImage:\"url(https://staticassets2020.s3.amazonaws.com/octiconsSvg/chevron-left.svg)\"}}></div>\r\n                );\r\n            }\r\n\r\n            //current element\r\n            bigImgsDesktopCarousel.push(\r\n                <div id={styles.carouselMiddlePic} style={{backgroundImage:\"url(\"+this.state.pictures[this.state.activeDesktopImgCarousel]+\")\"}}></div>\r\n            );\r\n\r\n            //future element\r\n            if(this.state.activeDesktopImgCarousel != this.state.pictures.length-1){\r\n                bigImgsDesktopCarousel.push(\r\n                    <div id={styles.carouselRightPic} style={{backgroundImage:\"url(\"+this.state.pictures[this.state.activeDesktopImgCarousel + 1]+\")\"}}></div>\r\n                );\r\n                carouselArrows.push(\r\n                    <div id={styles.carouselArrowRight} onClick={()=>{this.setState(prev=>({activeDesktopImgCarousel:prev.activeDesktopImgCarousel+1}))}} style={{backgroundImage:\"url(https://staticassets2020.s3.amazonaws.com/octiconsSvg/chevron-right.svg)\"}}></div>\r\n                );\r\n            }\r\n        }\r\n\r\n        let avgRating = this.state.seller.avgRating;\r\n        let sellerRatingStarArray;\r\n        if (avgRating == 0 || avgRating == null || typeof avgRating == \"undefined\") {\r\n            sellerRatingStarArray = \"No ratings yet.\";\r\n        }else{\r\n            sellerRatingStarArray = [];\r\n            let nbFullStars = Math.floor(avgRating);\r\n            for(let i = 0;i<nbFullStars;i++){\r\n               sellerRatingStarArray.push(\r\n                    <img src={\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/star-yellow.svg\"} />\r\n                );\r\n            }\r\n            if(nbFullStars != avgRating){\r\n                sellerRatingStarArray.push(\r\n                    <img src={\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/star-yellow-half.svg\"} />\r\n                );\r\n            }\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                <BodyContainer>\r\n\r\n\r\n                    <div id={styles.desktopLeftSide}>\r\n                        <div id={styles.topMainContainer}>\r\n                            <div className={styles.listingComponentsMainContainer}>\r\n                                <p className={\"megaTitle \" + styles.regularTextHalfMargin}><Link to={\"/search?predefType=\"+this.state.predefType} style={{color:\"black\", textDecoration:\"underline\"}}>{this.state.title}</Link></p>\r\n                                <p className={\"title1 \" + styles.regularTextHalfMargin}>{integerToMoneyString(this.state.price)}</p>\r\n                                <p className={\"regularText \" + styles.regularTextHalfMargin} style={{color: \"grey\"}}>{conditionsOptionsArray[this.state.condition].name}</p>\r\n                                <p className={styles.regularText + \" regularText\"}>{this.state.description.length>0 ? this.state.description.length : \"No defects, problems, or missing parts.\" }</p>\r\n                                <Link to={\"/user?id=\" + this.state.seller.id} style={{ color: \"#000\", textDecoration: \"none\" }}>\r\n                                    {sellerProfilePicture}\r\n                                    <div id={styles.sellerTextMainContainer}>\r\n                                        <div>\r\n                                            <p className={styles.regularTextNoMargin + \" regularTextMedium\"}>@{this.state.seller.name}</p>\r\n                                        </div>\r\n                                        <div>\r\n                                            {/* <p className={styles.regularTextNoMargin + \" regularText\"}>{this.state.seller.avgRating} stars ({this.state.sellerReviews.length})</p> */}\r\n                                            <p className={styles.regularTextNoMargin + \" regularText \"+styles.starPSmall}>{sellerRatingStarArray}</p>\r\n                                        </div>\r\n                                    </div>\r\n                                </Link>\r\n                            </div>\r\n                            <div className={styles.innerMainContainer}>\r\n                                {mainListingPicture}\r\n                                <div className={styles.smallPicturesContainer}>\r\n                                    {smallPictures}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n\r\n                        <div className={styles.mainFeedContainers}>\r\n                            <div className={styles.innerMainContainer+\" \"+styles.sidePadding}>\r\n                                {actionButtons}\r\n                                <div id={styles.shareIconsBar}>\r\n                                    <a href={twitterShareLink} target=\"_blank\">\r\n                                        <img className={styles.shareIcons} src=\"https://staticassets2020.s3.amazonaws.com/icons/twitter-black.svg\" />\r\n                                    </a>\r\n                                    <a href={fbShareLink} target=\"_blank\">\r\n                                        <img className={styles.shareIcons} src=\"https://staticassets2020.s3.amazonaws.com/icons/fb-black.svg\" />\r\n                                    </a>\r\n                                    <img onClick={() => {\r\n                                        var copyText = this.shareLinkRef.current;\r\n\r\n                                        /* Select the text field */\r\n                                        copyText.select();\r\n                                        copyText.setSelectionRange(0, 99999); /* For mobile devices */\r\n\r\n                                        /* Copy the text inside the text field */\r\n                                        document.execCommand(\"copy\");\r\n\r\n\r\n                                        this.snackbarRef.current.openSnackBar('Listing link copied!');\r\n                                    }} src=\"https://staticassets2020.s3.amazonaws.com/icons/link-darkGrey.svg\" />\r\n                                    <input style={{ position:\"absolute\", left:\"-100%\", opacity:0, pointerEvents:\"none\" }} aria-hidden={true} readOnly ref={this.shareLinkRef} type=\"text\" value={listingUrl} />\r\n                                </div>\r\n\r\n\r\n                                <p className={styles.regularText + \" title2\"}>Seller reviews</p>\r\n                                {reviewsList}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div id={styles.desktopRightSide}>\r\n                        <div id={styles.paymentSidebarContainer}>\r\n                            {\r\n                                this.state.isGuestListing == true ?\r\n                                    <p className={\"regularTextMedium \"+styles.regularText}>Make an offer</p>\r\n                                    :\r\n                                    <div id={styles.buyTypeSelectorContainer}>\r\n                                        <div>\r\n                                            <div style={{margin:\"0 10px 0 0\"}} id={this.state.buyType == 0? styles.selectedBuyType: styles.unselectedBuyType} onClick={()=>{this.setState({buyType:0})}}>\r\n                                                <p className={\"regularText \"+styles.regularTextNoMargin}>Buy now</p>\r\n                                            </div>\r\n                                            <div id={this.state.buyType == 0? styles.unselectedBuyType: styles.selectedBuyType} onClick={()=>{this.setState({buyType:1})}}>\r\n                                                <p className={\"regularText \"+styles.regularTextNoMargin}>Make offer</p>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                            }\r\n                            {\r\n                                this.state.buyType == 0 && this.state.isGuestListing == false?\r\n                                    <div>\r\n                                        <p className={\"regularText \"+styles.regularText}>Item price: <span className={\"regularTextMedium\"} style={{float:\"right\"}}>{integerToMoneyString(this.state.price)}</span></p>\r\n                                        <p className={\"regularText \"+styles.regularText}>Shipping: <span className={\"regularTextMedium\"} style={{float:\"right\"}}>FREE</span></p>\r\n                                        <p className={\"regularText \"+styles.regularText}>Taxes: <span className={\"regularTextMedium\"} style={{float:\"right\"}}>{integerToMoneyString(this.state.price *0.15)}</span></p>\r\n                                        <p className={\"regularText \"+styles.regularText}>Total: <span className={\"regularTextMedium\"} style={{float:\"right\"}}>{integerToMoneyString(this.state.price*1.15)}</span></p>\r\n                                        <button className={\"buttonCta regularTextMedium\"} onClick={() => {\r\n                                            this.props.history.push(\"/pay?listingId=\"+this.state.id);\r\n                                        }}>Proceed to checkout</button>\r\n                                    </div>\r\n                                    :\r\n                                    this.state.isAnOfferMade == false?\r\n                                        <div>\r\n                                        <p className={\"regularText \"+styles.regularText}>Make an offer for this item. While the seller accepts your offer, the item can still be purchased by someone else.</p>\r\n                                        <input name=\"makeOfferAmount\" style={{margin:\"0 0 20px 0\"}} className={\"inputText \" + styles.inputText + \" regularText\"} value={this.state.makeOfferAmount} onChange={this.handleInputChange} type=\"number\" min=\"1\" step=\"0.01\" placeholder=\"Offer\" />\r\n                                        <button className={\"buttonCta regularTextMedium\"} onClick={this.makeOffer}>Send offer</button>\r\n                                        </div>\r\n                                    :\r\n                                        <div>\r\n                                        <p className={\"regularText \"+styles.regularText}>Thank you for making an offer. You will be able to view the offer in your buyer dashboard only when and if the seller accepts your offer.</p>\r\n                                        </div>\r\n\r\n                            }\r\n                        </div>\r\n                    </div>\r\n\r\n\r\n                    <div id={styles.topMainContainer} className={styles.hideDesktop}>\r\n                        <div className={styles.innerMainContainer}>\r\n                            {mainListingPicture}\r\n                            <div className={styles.smallPicturesContainer}>\r\n                                {smallPictures}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n                    <div className={styles.mainFeedContainers +\" \"+styles.hideDesktop}>\r\n                        <div className={styles.innerMainContainer+\" \"+styles.sidePadding}>\r\n                            <div className={styles.listingComponentsMainContainer}>\r\n                                <p className={\"title1 \" + styles.regularText}><Link to={\"/search?predefType=\"+this.state.predefType} style={{color:\"black\", textDecoration:\"underline\"}}>{this.state.title}</Link></p>\r\n                                <p className={\"title2 \" + styles.regularText}>{integerToMoneyString(this.state.price)}</p>\r\n                                <p className={\"regularText \" + styles.regularText} style={{color: \"grey\"}}>{conditionsOptionsArray[this.state.condition].name}</p>\r\n                            </div>\r\n\r\n\r\n                            <div className={styles.listingComponentsMainContainer}>\r\n                                <Link to={\"/user?id=\" + this.state.seller.id} style={{ color: \"#000\", textDecoration: \"none\" }}>\r\n                                {sellerProfilePicture}\r\n                                <div id={styles.sellerTextMainContainer}>\r\n                                    <div>\r\n                                        <p className={styles.regularTextNoMargin + \" regularTextMedium\"}>@{this.state.seller.name}</p>\r\n                                    </div>\r\n                                    <div>\r\n                                        {/* <p className={styles.regularTextNoMargin + \" regularText\"}>{this.state.seller.avgRating} stars ({this.state.sellerReviews.length})</p> */}\r\n                                        <p className={styles.regularTextNoMargin + \" regularText \"+styles.starPSmall}>{sellerRatingStarArray}</p>\r\n                                    </div>\r\n                                </div>\r\n                                </Link>\r\n                            </div>\r\n                            {actionButtons}\r\n                            <div className={styles.listingComponentsMainContainer}>\r\n                                <p className={styles.regularTextNoMargin + \" regularText\"} style={{ minHeight: \"100px\" }}>{this.state.description.length>0 ? this.state.description.length : \"No defects, problems, or missing parts.\" }</p>\r\n                            </div>\r\n\r\n                            <div className={styles.separatorLine}></div>\r\n\r\n                            <div id={styles.shareIconsBar}>\r\n                                <a href={twitterShareLink} target=\"_blank\">\r\n                                    <img className={styles.shareIcons} src=\"https://staticassets2020.s3.amazonaws.com/icons/twitter-black.svg\" />\r\n                                </a>\r\n                                <a href={fbShareLink} target=\"_blank\">\r\n                                    <img className={styles.shareIcons} src=\"https://staticassets2020.s3.amazonaws.com/icons/fb-black.svg\" />\r\n                                </a>\r\n                                <img onClick={() => {\r\n                                    var copyText = this.shareLinkRef.current;\r\n\r\n                                    /* Select the text field */\r\n                                    copyText.select();\r\n                                    copyText.setSelectionRange(0, 99999); /* For mobile devices */\r\n\r\n                                    /* Copy the text inside the text field */\r\n                                    document.execCommand(\"copy\");\r\n\r\n\r\n                                    this.snackbarRef.current.openSnackBar('Listing link copied!');\r\n                                }} src=\"https://staticassets2020.s3.amazonaws.com/icons/link-darkGrey.svg\" />\r\n                                <input style={{ position:\"absolute\", left:\"-100%\", opacity:0, pointerEvents:\"none\" }} aria-hidden={true} readOnly ref={this.shareLinkRef} type=\"text\" value={listingUrl} />\r\n                            </div>\r\n\r\n\r\n                            <div className={styles.separatorLine}></div>\r\n                            <p className={styles.regularText + \" title2\"}>Seller reviews</p>\r\n                            {reviewsList}\r\n\r\n                        </div>\r\n                    </div>\r\n                </BodyContainer>\r\n                <Footer />\r\n                <MobileBottomNav {...this.props} />\r\n                <DesktopTopNav key={new Date().getTime()} {...this.props} />\r\n                {/*<ActivityTicker />*/}\r\n\r\n                <Modal title=\"Make offer\" closeModal={() => {\r\n                    this.setState({\r\n                        isOfferModalDisplayed: false,\r\n                        makeOfferamount: 1\r\n                    })\r\n                }} show={this.state.isOfferModalDisplayed} description=\"Offer a certain amount for this product. If accepted by the seller, you will have 4 days to pay the item before your offer expires. It can still be purchased by someone else in the meantime.\">\r\n                    <input name=\"makeOfferAmount\" className={\"inputText \" + styles.inputText + \" regularText\"} value={this.state.makeOfferAmount} onChange={this.handleInputChange} type=\"number\" min=\"1\" step=\"0.01\" placeholder=\"Offer\" />\r\n                    <div className=\"modalSubmitButtonDiv\">\r\n                        <button className=\"modalSubmitButton regularTextMedium buttonCta\" onClick={this.makeOffer}>Submit</button>\r\n                    </div>\r\n                </Modal>\r\n\r\n\r\n\r\n\r\n                <div id={styles.bigImgDesktopCarouselContainer} className={this.state.activeDesktopImgCarousel == -1 ? styles.desktopCarouselIsInactive : null}>\r\n                    {bigImgsDesktopCarousel}\r\n                    {carouselArrows}\r\n                    <div onClick={()=>{this.setState({activeDesktopImgCarousel:-1})}} style={{backgroundImage:\"url(https://staticassets2020.s3.amazonaws.com/octiconsSvg/x.svg)\"}} id={styles.carouselX}>\r\n\r\n                    </div>\r\n                </div>\r\n\r\n\r\n\r\n                {\r\n                    this.state.isDoingReservation == true ?\r\n                        <Spinner />\r\n                        :\r\n                        null\r\n                }\r\n                <Modal closeModal={() => {\r\n                    this.setState({\r\n                        displayLoginPopup: false,\r\n                    })\r\n                }} show={this.state.displayLoginPopup} >\r\n                    <LoginCard {...this.props} />\r\n                </Modal>\r\n                <Snackbar ref={this.snackbarRef} />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nListing.propTypes = {\r\n    auth: PropTypes.object.isRequired\r\n};\r\nconst mapStateToProps = state => ({\r\n    auth: state.auth\r\n});\r\nexport default connect(mapStateToProps)(Listing);","import React from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport Footer from \"microComponents/Footer.js\";\r\nimport styles from \"public/style/saved.module.css\";\r\nimport DesktopTopNav from \"microComponents/DesktopTopNav.js\";\r\nimport MobileBottomNav from \"microComponents/MobileBottomNav.js\";\r\nimport ListingCard from \"microComponents/ListingCardSmallCard.js\";\r\nclass Saved extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            savedListings: []\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({\r\n            savedListings: [\r\n                {\r\n                    title: \"iPhone 8 64GB - black\",\r\n                    condition: \"Like new\",\r\n                    price: 330,\r\n                    seller: {\r\n                        username: \"John Doe\",\r\n                        rating: 3.5,\r\n                        nbRatings: 7\r\n                    }\r\n                },\r\n                {\r\n                    title: \"iPhone 8 64GB - black\",\r\n                    condition: \"Like new\",\r\n                    price: 330,\r\n                    seller: {\r\n                        username: \"John Doe\",\r\n                        rating: 3.5,\r\n                        nbRatings: 7\r\n                    }\r\n                },\r\n                {\r\n                    title: \"iPhone 8 64GB - black\",\r\n                    condition: \"Like new\",\r\n                    price: 330,\r\n                    seller: {\r\n                        username: \"John Doe\",\r\n                        rating: 3.5,\r\n                        nbRatings: 7\r\n                    }\r\n                }\r\n            ]\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const { t } = this.props;\r\n\r\n\r\n        let savedListings = <p>No listings.</p>\r\n        if (this.state.savedListings.length > 0) {\r\n            savedListings = this.state.savedListings.map((listing, key) => {\r\n                return (\r\n                    <ListingCard key={key} listing={listing} />\r\n                );\r\n            });\r\n        }\r\n\r\n\r\n        return (\r\n            <div>\r\n\r\n\r\n\r\n\r\n                <div id={styles.topMainContainer}>\r\n                    <div className={styles.innerMainContainer}>\r\n                        <p ref={this.savedListingsRef} className={styles.sectionTitleP + \" title1 \"}>Saved listings</p>\r\n                        {savedListings}\r\n                    </div>\r\n                </div>\r\n\r\n                <Footer />\r\n                <MobileBottomNav {...this.props} />\r\n                <DesktopTopNav key={new Date().getTime()} {...this.props} />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default withTranslation()(Saved);\r\n","import React from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport styles from \"public/style/specialListingCard.module.css\";\r\nimport { integerToMoneyString } from \"miscFunctions\";\r\nclass Index extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            searchInput: \"\",\r\n            displayAccountModel: false,\r\n            searchSuggestions: [],\r\n            historyEvents: [],\r\n            listing: {},\r\n            isLoading: true,\r\n            cardType: \"offer\" //offer, purchase, \r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({\r\n            listing: this.props.listing,\r\n            isLoading: false,\r\n            cardType: this.props.cardType\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const { t } = this.props;\r\n        if (this.state.isLoading === true) {\r\n            return null;\r\n        } else {\r\n            console.log(this.state.listing);\r\n            if (this.state.cardType === \"waiting-payment\") {\r\n                let fullDate = new Date(this.state.listing.timestamp);\r\n                fullDate.setDate(fullDate.getDate() + 4);\r\n                let months = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\r\n                let limitDate = months[fullDate.getMonth()] + \" \" + fullDate.getDate();\r\n                return (\r\n                    <div className={styles.historyCardContainer}>\r\n                        <div id={styles.historyTopContainer}>\r\n                            <div style={{ backgroundImage: this.state.listing.pictures[0] && this.state.listing.pictures[0].length > 0 ? \"url('\" + this.state.listing.pictures[0] + \"')\" : \"url('https://staticassets2020.s3.amazonaws.com/octiconsSvg/image.svg')\" }} className={styles.listingMainPicture}></div>\r\n                            <div className={styles.historyTitleContainer}>\r\n                                <p className={\"title2 \" + styles.regularText}>{this.state.listing.title}</p>\r\n                                <p className={\"regularText \" + styles.regularText}>Pay before {limitDate}</p>\r\n                            </div>\r\n                        </div>\r\n                        <div id={styles.historyTotalContainer}>\r\n                            <p className={\"regularText \" + styles.regularText}>Waiting for your response</p>\r\n                            <p className={\"regularTextBold \" + styles.regularText}>Accepted price: {integerToMoneyString(this.state.listing.amount)}</p>\r\n                        </div>\r\n                        <div id={styles.historyBottomContainer}>\r\n                            <button className={styles.historyHalfCta + ' regularTextMedium'} onClick={() => {\r\n                                this.props.loadSpinner();\r\n                                axios.post(window.api_prefix+\"/reserveProduct\", { listingId: this.state.listing.listingid, buyNow: false, offerId: this.state.listing.offerid }).then(resp => {\r\n                                    this.props.removeLoadSpinner();\r\n                                    this.props.history.push(\"/payment-details?tra_id=\" + resp.data.reservationId);\r\n                                }).catch(err => {\r\n                                    this.props.removeLoadSpinner();\r\n                                    this.props.showErrorSnackbar();\r\n                                });\r\n                            }}>Pay now</button>\r\n                        </div>\r\n                    </div>\r\n                );\r\n            } else if (this.state.cardType === \"offer\") {\r\n                let fullDate = new Date(this.state.listing.timestamp);\r\n                let months = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\r\n                let offerDate = months[fullDate.getMonth()] + \" \" + fullDate.getDate() + \", \" + fullDate.getFullYear();\r\n                return (\r\n                    <div className={styles.historyCardContainer}>\r\n                        <div id={styles.historyTopContainer}>\r\n                            <div style={{ backgroundImage: this.state.listing.pictures[0] && this.state.listing.pictures[0].length > 0 ? \"url('\" + this.state.listing.pictures[0] + \"')\" : \"url('https://staticassets2020.s3.amazonaws.com/octiconsSvg/image.svg')\" }} className={styles.listingMainPicture}></div>\r\n                            <div className={styles.historyTitleContainer}>\r\n                                <p className={\"title2 \" + styles.regularText}>{this.state.listing.title}</p>\r\n                                <p className={\"regularText \" + styles.regularText}>{offerDate}</p>\r\n\r\n                            </div>\r\n                        </div>\r\n                        <div id={styles.historyTotalContainer}>\r\n                            <p className={\"regularText \" + styles.regularText}>Waiting for your response</p>\r\n                            <p className={\"regularTextBold \" + styles.regularText}>Current offer: {integerToMoneyString(this.state.listing.amount)}</p>\r\n                        </div>\r\n                        <div id={styles.historyBottomContainer}>\r\n                            <div id={styles.historySellerInfoContainer}>\r\n                                <div id={styles.historySellerPicture} style={{\r\n                                    backgroundImage: !this.state.listing.profilepicture || this.state.listing.profilepicture.length == 0 ? \"url('https://staticassets2020.s3.amazonaws.com/octiconsSvg/smiley.svg')\" : \"url('\" + this.state.listing.profilepicture + \"')\"\r\n                                }}></div>\r\n                                <p className={\"regularText\"}>{this.state.listing.sendername}</p>\r\n                            </div>\r\n                            <Link>\r\n                                <button className={styles.historyHalfCta + ' regularTextMedium'} onClick={this.props.acceptOffer}>Accept</button>\r\n                                <button className={styles.historyHalfCta + ' regularTextMedium'} onClick={this.props.declineOffer}>Decline</button>\r\n                                <button className={styles.historyHalfCta + ' regularTextMedium'} onClick={this.props.counterOffer}>Counter offer</button>\r\n                            </Link>\r\n                        </div>\r\n                    </div>\r\n                );\r\n            } else if (this.state.cardType === \"offer-to-me\") {\r\n                let fullDate = new Date(this.state.listing.timestamp);\r\n                let months = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\r\n                let offerDate = months[fullDate.getMonth()] + \" \" + fullDate.getDate() + \", \" + fullDate.getFullYear();\r\n                return (\r\n                    <div className={styles.historyCardContainer}>\r\n                        <div id={styles.historyTopContainer}>\r\n                            <div style={{ backgroundImage: this.state.listing.pictures[0] && this.state.listing.pictures[0].length > 0 ? \"url('\" + this.state.listing.pictures[0] + \"')\" : \"url('https://staticassets2020.s3.amazonaws.com/octiconsSvg/image.svg')\" }} className={styles.listingMainPicture}></div>\r\n                            <div className={styles.historyTitleContainer}>\r\n                                <p className={\"title2 \" + styles.regularText}>{this.state.listing.title}</p>\r\n                                <p className={\"regularText \" + styles.regularText}>{offerDate}</p>\r\n                            </div>\r\n                        </div>\r\n                        <div id={styles.historyTotalContainer}>\r\n                            <p className={\"regularText \" + styles.regularText}>Waiting for your response</p>\r\n                            <p className={\"regularTextBold \" + styles.regularText}>Current offer: {integerToMoneyString(this.state.listing.amount)}</p>\r\n                        </div>\r\n                        <div id={styles.historyBottomContainer}>\r\n                            <div id={styles.historySellerInfoContainer}>\r\n                                <div id={styles.historySellerPicture} style={{\r\n                                    backgroundImage: !this.state.listing.profilepicture || this.state.listing.profilepicture.length == 0 ? \"url('https://staticassets2020.s3.amazonaws.com/octiconsSvg/smiley.svg')\" : \"url('\" + this.state.listing.profilepicture + \"')\"\r\n                                }}></div>\r\n                                <p className={\"regularText\"}>{this.state.listing.sendername}</p>\r\n                            </div>\r\n                            <Link>\r\n                                <button className={styles.historyHalfCta + ' regularTextMedium'}>Accept</button>\r\n                                <button className={styles.historyHalfCta + ' regularTextMedium'}>Decline</button>\r\n                            </Link>\r\n                        </div>\r\n                    </div>\r\n                );\r\n            } else if (this.state.cardType === \"purchase\") {\r\n                let fullDate = new Date(this.state.listing.timestamp);\r\n                let months = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\r\n                let purchaseDate = months[fullDate.getMonth()] + \" \" + fullDate.getDate() + \", \" + fullDate.getFullYear();\r\n                let purchasePrice = this.state.listing.buynowprice;\r\n                if (this.state.listing.offeramount) {\r\n                    purchasePrice = this.state.listing.offeramount;\r\n                }\r\n                return (\r\n                    <div className={styles.historyCardContainer}>\r\n                        <div id={styles.historyTopContainer}>\r\n                            <div style={{ backgroundImage: this.state.listing.pictures[0] && this.state.listing.pictures[0].length > 0 ? \"url('\" + this.state.listing.pictures[0] + \"')\" : \"url('https://staticassets2020.s3.amazonaws.com/octiconsSvg/image.svg')\" }} className={styles.listingMainPicture}></div>\r\n                            <div className={styles.historyTitleContainer}>\r\n                                <p className={\"title2 \" + styles.regularText}>{this.state.listing.title}</p>\r\n                                <p className={\"regularText \" + styles.regularText}>{purchaseDate}</p>\r\n                            </div>\r\n                        </div>\r\n                        <div id={styles.historyTotalContainer}>\r\n                            {/* <p className={\"regularText \" + styles.regularText}>Received</p> */}\r\n                            <p className={\"regularTextBold \" + styles.regularText}>Total: {integerToMoneyString(purchasePrice)}</p>\r\n                            <p className={\"regularText \" + styles.regularText}>Generating receipt...</p>\r\n                        </div>\r\n                        <div id={styles.historyBottomContainer}>\r\n                            <Link to={\"/user?id=\" + this.state.listing.sellerid}>\r\n                                <div id={styles.historySellerInfoContainer}>\r\n                                    <div id={styles.historySellerPicture} style={{\r\n                                        backgroundImage: !this.state.listing.profilepicture || this.state.listing.profilepicture.length == 0 ? \"url('https://staticassets2020.s3.amazonaws.com/octiconsSvg/smiley.svg')\" : \"url('\" + this.state.listing.profilepicture + \"')\"\r\n                                    }}></div>\r\n                                    <p className={\"regularText\"}>{this.state.listing.name}</p>\r\n                                </div>\r\n                            </Link>\r\n                            <Link>\r\n                                {\r\n                                    this.state.listing.issellerreviewed == true ?\r\n                                        null\r\n                                        :\r\n                                        <button className={styles.historyCta + ' regularTextMedium'} onClick={this.props.reviewSeller}>Review seller</button>\r\n                                }\r\n                            </Link>\r\n                        </div>\r\n                    </div>\r\n                );\r\n            } else {\r\n                return null;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport default withTranslation()(Index);\r\n","import React from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport styles from \"public/style/reviewsCard.module.css\";\r\n\r\n\r\nclass Index extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            comment: \"\",\r\n            rating: 1,\r\n            listingId: 0\r\n        }\r\n        this.handleInputChange = this.handleInputChange.bind(this);\r\n        this.submitReview = this.submitReview.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({\r\n            listingId: this.props.listingId\r\n        });\r\n    }\r\n\r\n    handleInputChange(e) {\r\n        const { name, value } = e.target;\r\n        this.setState({\r\n            [name]: value\r\n        });\r\n    }\r\n\r\n    submitReview() {\r\n        let comment = this.state.comment;\r\n        let rating = this.state.rating;\r\n        let listingId = this.state.listingId;\r\n        axios.post(window.api_prefix+\"/postReview\", { comment: comment, rating: rating, listingId: listingId }).then().catch();\r\n        this.props.submitReview();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <div className={styles.rating}>\r\n                    <input type=\"radio\" value=\"5\" onChange={this.handleInputChange} checked={this.state.rating == 5} name=\"rating\" id={styles.rating5} />\r\n                    <label htmlFor={styles.rating5}></label>\r\n                    <input type=\"radio\" value=\"4\" onChange={this.handleInputChange} checked={this.state.rating == 4} name=\"rating\" id={styles.rating4} />\r\n                    <label htmlFor={styles.rating4}></label>\r\n                    <input type=\"radio\" value=\"3\" onChange={this.handleInputChange} checked={this.state.rating == 3} name=\"rating\" id={styles.rating3} />\r\n                    <label htmlFor={styles.rating3}></label>\r\n                    <input type=\"radio\" value=\"2\" onChange={this.handleInputChange} checked={this.state.rating == 2} name=\"rating\" id={styles.rating2} />\r\n                    <label htmlFor={styles.rating2}></label>\r\n                    <input type=\"radio\" value=\"1\" onChange={this.handleInputChange} checked={this.state.rating == 1} name=\"rating\" id={styles.rating1} />\r\n                    <label htmlFor={styles.rating1}></label>\r\n                </div>\r\n\r\n\r\n                <textarea className={\"inputText \" + styles.textarea + \" regularText\"} placeholder=\"How was the seller?\" name=\"comment\" value={this.state.comment} onChange={this.handleInputChange}></textarea>\r\n                <div className=\"modalSubmitButtonDiv\">\r\n                    <button className=\"modalSubmitButton regularTextMedium buttonCta\" onClick={this.submitReview}>Submit</button>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default withTranslation()(Index);\r\n","import React from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport Footer from \"microComponents/Footer.js\";\r\nimport styles from \"public/style/saved.module.css\";\r\nimport DesktopTopNav from \"microComponents/DesktopTopNav.js\";\r\nimport MobileBottomNav from \"microComponents/MobileBottomNav.js\";\r\nimport SpecialCard from \"microComponents/SpecialListingCard.js\";\r\nimport BodyContainer from \"microComponents/BodyContainer\";\r\nimport Body from \"microComponents/BodyContainer\";\r\nimport Modal from \"microComponents/Modal.js\";\r\nimport ReviewsCard from \"microComponents/ReviewsCard.js\";\r\nimport Spinner from \"microComponents/LoaderAnimation\";\r\nimport Snackbar from \"microComponents/SnackBar.js\";\r\nimport { integerToMoneyString } from \"miscFunctions\";\r\nclass Saved extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            activeOffers: [],\r\n            pastPurchases: [],\r\n            waitingPurchases: [],\r\n            isCounterOfferModalDisplayed: false,\r\n            counterOfferId: -1,\r\n            counterOfferArrayIndex: -1,\r\n            counterOfferValue: 1,\r\n            reviewsListingIndex: -1,\r\n            isReviewsModalDisplayed: false,\r\n            isDoingReservation: false,\r\n            currentPage: 0,\r\n\r\n            mobileMoreOptionsActiveOffers:-1,\r\n            mobileMoreOptionsPurchaseHistory:-1,\r\n            mobileMoreOptionsAwaitingPayments:-1\r\n        }\r\n\r\n        this.handleInputChange = this.handleInputChange.bind(this);\r\n        this.submitCounterOffer = this.submitCounterOffer.bind(this);\r\n\r\n        this.snackbarRef = React.createRef();\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n        axios.get(window.api_prefix+\"/listingsAwaitingYourPayment\").then(resp => {\r\n            this.setState({\r\n                waitingPurchases: resp.data\r\n            });\r\n        }).catch();\r\n\r\n        axios.get(window.api_prefix+\"/purchaseHistory\").then(resp => {\r\n            this.setState({\r\n                pastPurchases: resp.data\r\n            });\r\n        }).catch();\r\n\r\n        axios.get(window.api_prefix+\"/offers\").then(resp => {\r\n            this.setState({\r\n                activeOffers: resp.data\r\n            });\r\n        }).catch();\r\n    }\r\n\r\n    acceptOffer(arrayIndex) {\r\n        let currentActiveOffers = this.state.activeOffers;\r\n        let currentWaitingPurchases = this.state.waitingPurchases;\r\n        let offerId = currentActiveOffers[arrayIndex].id;\r\n        let acceptedOffer = currentActiveOffers[arrayIndex];\r\n        acceptedOffer.id = acceptedOffer.listingid;\r\n        currentWaitingPurchases.push(acceptedOffer);\r\n        currentActiveOffers.splice(arrayIndex, 1);\r\n        this.setState({\r\n            activeOffers: currentActiveOffers,\r\n            waitingPurchases: currentWaitingPurchases,\r\n            mobileMoreOptionsActiveOffers:-1,\r\n            mobileMoreOptionsPurchaseHistory:-1,\r\n            mobileMoreOptionsAwaitingPayments:-1\r\n        });\r\n        axios.post(window.api_prefix+\"/acceptOffer\", { offerId: offerId }).then().catch();\r\n    }\r\n    counterOffer(arrayIndex) {\r\n        let currentActiveOffers = this.state.activeOffers;\r\n        let offerId = currentActiveOffers[arrayIndex].id;\r\n        this.setState({\r\n            counterOfferArrayIndex: arrayIndex,\r\n            counterOfferId: offerId,\r\n            isCounterOfferModalDisplayed: true,\r\n            mobileMoreOptionsActiveOffers:-1,\r\n            mobileMoreOptionsPurchaseHistory:-1,\r\n            mobileMoreOptionsAwaitingPayments:-1\r\n        });\r\n    }\r\n    declineOffer(arrayIndex) {\r\n        let currentActiveOffers = this.state.activeOffers;\r\n        let offerId = currentActiveOffers[arrayIndex].id;\r\n        currentActiveOffers.splice(arrayIndex, 1);\r\n        this.setState({\r\n            activeOffers: currentActiveOffers,\r\n            mobileMoreOptionsActiveOffers:-1,\r\n            mobileMoreOptionsPurchaseHistory:-1,\r\n            mobileMoreOptionsAwaitingPayments:-1\r\n        });\r\n        axios.post(window.api_prefix+\"/declineOffer\", { offerId: offerId }).then().catch();\r\n    }\r\n    submitCounterOffer() {\r\n        let currentActiveOffers = this.state.activeOffers;\r\n        currentActiveOffers.splice(this.state.counterOfferArrayIndex, 1);\r\n        this.setState({\r\n            activeOffers: currentActiveOffers,\r\n            counterOfferId: -1,\r\n            counterOfferArrayIndex: -1,\r\n            counterOfferValue: 1,\r\n            isCounterOfferModalDisplayed: false\r\n        });\r\n        axios.post(window.api_prefix+\"/submitCounterOffer\", { offerId: this.state.counterOfferId, offerValue: this.state.counterOfferValue }).then().catch();\r\n    }\r\n\r\n    handleInputChange(e) {\r\n        const { value, name } = e.target;\r\n        this.setState({\r\n            [name]: value\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const { t } = this.props;\r\n        let currentPage;\r\n        if (this.state.currentPage == 0) {\r\n            //payments awaiting\r\n            let waitingPurchases = <p className={styles.regularTextNoMargin + \" regularText\"}>No purchases waiting for payment.</p>;\r\n            let mobileWaitingPurchases = <p className={styles.regularTextNoMargin + \" regularText\"}>No purchases waiting for payment.</p>\r\n            if (this.state.waitingPurchases.length > 0) {\r\n                mobileWaitingPurchases = [];\r\n                waitingPurchases = this.state.waitingPurchases.map((listing, key) => {\r\n\r\n\r\n\r\n                    let fullDate = new Date(listing.timestamp);\r\n                    fullDate.setDate(fullDate.getDate() + 4);\r\n                    let months = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\r\n                    let limitDate = months[fullDate.getMonth()] + \" \" + fullDate.getDate();\r\n\r\n                    mobileWaitingPurchases.push(\r\n                        <div className={styles.mobileCardSellingBuying}>\r\n                            <div className={styles.mobileCardSellingBuyingLeftContainer}>\r\n                                <p className={styles.regularTextHalfMargin+\" regularTextMedium\"}>{listing.title}</p>\r\n                                <p className={styles.regularTextHalfMargin+\" regularText\"}>{integerToMoneyString(listing.amount)}</p>\r\n                            </div>\r\n                            <div className={styles.mobileCardSellingBuyingRightContainer}>\r\n                                <div className={styles.kebabContainer} onClick={()=>{\r\n                                    this.setState({\r\n                                        mobileMoreOptionsActiveOffers:-1,\r\n                                        mobileMoreOptionsPastPurchases:-1,\r\n                                        mobileMoreOptionsAwaitingPayments:key\r\n                                    })\r\n                                }}>\r\n                                    <img src={\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/kebab-horizontal.svg\"} />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                    );\r\n\r\n                    return (\r\n                        <tr>\r\n                            <td>\r\n                                {listing.title}\r\n                            </td>\r\n                            <td>\r\n                                {integerToMoneyString(listing.amount)}\r\n                            </td>\r\n                            <td>\r\n                                <button className={styles.buttonCta + ' regularTextMedium'} onClick={() => {\r\n                                    this.props.history.push(\"/pay?listingId=\"+listing.id+\"&offerId=\"+listing.offerid);\r\n                                    // this.setState({ isDoingReservation: true });\r\n                                    // axios.post(\"/reserveProduct\", { listingId: listing.listingid, buyNow: false, offerId: listing.offerid }).then(resp => {\r\n                                    //     this.setState({ isDoingReservation: false });\r\n                                    //     this.props.history.push(\"/payment-details?tra_id=\" + resp.data.reservationId);\r\n                                    // }).catch(err => {\r\n                                    //     this.setState({ isDoingReservation: false });\r\n                                    //     this.snackbarRef.current.openSnackBar('This item is being purchased by someone else at the moment. Please come back later.');\r\n                                    // });\r\n                                }}>Pay now</button>\r\n                            </td>\r\n                        </tr>\r\n                    );\r\n                });\r\n            }\r\n\r\n            currentPage = (\r\n                <div>\r\n                    <div id={styles.tableContainer}>\r\n                        <p className={\"title1 \"+styles.regularText+\" \"+styles.hideMobile}>Awaiting payments</p>\r\n                        <p className={styles.regularText}>Offers you have made for an item that were accepted by the seller or offers from a seller that you accepted will appear here for you to pay. Beware, other users can still purchase the item so hurry up.</p>\r\n                        <table className={styles.dataTable+\" \"+styles.hideMobile}>\r\n                            <thead className={styles.tableTHead}>\r\n                            <td className={\"regularTextMedium\"}>\r\n                                Item\r\n                            </td>\r\n                            <td className={\"regularTextMedium\"}>\r\n                                Price\r\n                            </td>\r\n                            <td className={\"regularTextMedium\"}>\r\n                                Actions\r\n                            </td>\r\n                            </thead>\r\n                            <tbody className={styles.tableTBody}>\r\n                            {waitingPurchases}\r\n                            </tbody>\r\n                        </table>\r\n                        <div className={styles.mobileCardSellingBuyingContainer}>\r\n                            {mobileWaitingPurchases}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            );\r\n        } else if (this.state.currentPage == 1) {\r\n            //active offers\r\n            let activeOffers = <p className={styles.regularTextNoMargin + \" regularText\"}>No active offers.</p>;\r\n            let mobileActiveOffers = <p className={styles.regularTextNoMargin + \" regularText\"}>No active offers.</p>;\r\n            if (this.state.activeOffers.length > 0) {\r\n                mobileActiveOffers = [];\r\n                activeOffers = this.state.activeOffers.map((offer, key) => {\r\n\r\n                    let fullDate = new Date(offer.timestamp);\r\n                    fullDate.setDate(fullDate.getDate() + 4);\r\n                    let months = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\r\n                    let limitDate = months[fullDate.getMonth()] + \" \" + fullDate.getDate();\r\n\r\n\r\n                    mobileActiveOffers.push(\r\n                        <div className={styles.mobileCardSellingBuying}>\r\n                            <div className={styles.mobileCardSellingBuyingLeftContainer}>\r\n                                <p className={styles.regularTextHalfMargin+\" regularTextMedium\"}>{offer.title}</p>\r\n                                <p className={styles.regularTextHalfMargin+\" regularText\"}>{integerToMoneyString(offer.amount)}</p>\r\n                            </div>\r\n                            <div className={styles.mobileCardSellingBuyingRightContainer}>\r\n                                <div className={styles.kebabContainer} onClick={()=>{\r\n                                    this.setState({\r\n                                        mobileMoreOptionsActiveOffers:key,\r\n                                        mobileMoreOptionsAwaitingPayments:-1,\r\n                                        mobileMoreOptionsPurchaseHistory:-1\r\n                                    })\r\n                                }}>\r\n                                    <img src={\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/kebab-horizontal.svg\"} />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    );\r\n\r\n                    return (\r\n                        <tr>\r\n                            <td>\r\n                                {offer.title}\r\n                            </td>\r\n                            <td>\r\n                                {integerToMoneyString(offer.amount)}\r\n                            </td>\r\n                            <td>\r\n                                @{offer.sendername}\r\n                            </td>\r\n                            <td>\r\n                                <button className={styles.buttonCta + \" regularTextMedium\"} onClick={() => { this.counterOffer(key) }}>Counter offer</button>\r\n                                <button className={styles.buttonCta + \" regularTextMedium\"} onClick={() => { this.acceptOffer(key) }}>Accept</button>\r\n                                <button className={styles.buttonCta + \" regularTextMedium\"} onClick={() => { this.declineOffer(key) }}>Decline</button>\r\n                            </td>\r\n                        </tr>\r\n                    );\r\n                });\r\n            }\r\n\r\n            currentPage = (\r\n                <div>\r\n                    <div id={styles.tableContainer}>\r\n                        <p className={\"title1 \"+styles.regularText+\" \"+styles.hideMobile}>Active offers</p>\r\n                        {/*<p className={styles.regularText}>Sellers having made a counter offer for a product you want to buy will appear here. You only have 24 hours to accept/decline/counter-offer or it will automatically be declined.</p>*/}\r\n                        <p className={styles.regularText}>Sellers having made a counter offer for a product you want to buy will appear here.</p>\r\n                        <table className={styles.dataTable+\" \"+styles.hideMobile}>\r\n                            <thead className={styles.tableTHead}>\r\n                            <td className={\"regularTextMedium\"}>\r\n                                Item\r\n                            </td>\r\n                            <td className={\"regularTextMedium\"}>\r\n                                Seller offer\r\n                            </td>\r\n                            <td className={\"regularTextMedium\"}>\r\n                                Seller\r\n                            </td>\r\n                            <td className={\"regularTextMedium\"}>\r\n                                Actions\r\n                            </td>\r\n                            </thead>\r\n                            <tbody className={styles.tableTBody}>\r\n                            {activeOffers}\r\n                            </tbody>\r\n                        </table>\r\n                        <div className={styles.mobileCardSellingBuyingContainer}>\r\n                            {mobileActiveOffers}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            );\r\n        } else if (this.state.currentPage == 2) {\r\n            //past purchases\r\n            let pastPurchases = <p className={styles.regularTextNoMargin + \" regularText\"}>No purchases yet.</p>;\r\n            let mobilePastPurchases = <p className={styles.regularTextNoMargin + \" regularText\"}>No purchases yet.</p>;\r\n            if (this.state.pastPurchases.length > 0) {\r\n                mobilePastPurchases = [];\r\n                pastPurchases = this.state.pastPurchases.map((listing, key) => {\r\n\r\n\r\n                    let fullDate = new Date(listing.timestamp);\r\n                    let months = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\r\n                    let purchaseDate = months[fullDate.getMonth()] + \" \" + fullDate.getDate() + \", \" + fullDate.getFullYear();\r\n                    let purchasePrice = listing.buynowprice;\r\n                    if (listing.offeramount) {\r\n                        purchasePrice = listing.offeramount;\r\n                    }\r\n                    let transactionStatus = \"\";\r\n                    if(listing.status == 0){\r\n                        transactionStatus = \"No tracking number added yet\";\r\n                    }else if(listing.status == 1){\r\n                        transactionStatus  = \"Shipped\"\r\n                    }else{\r\n                        transactionStatus = \"Delivered\"\r\n                    }\r\n\r\n\r\n                    mobilePastPurchases.push(\r\n                        <div className={styles.mobileCardSellingBuying}>\r\n                            <div className={styles.mobileCardSellingBuyingLeftContainer}>\r\n                                <p className={styles.regularTextHalfMargin+\" regularText\"}>Order# {listing.ordernb}</p>\r\n                                <p className={styles.regularTextHalfMargin+\" regularTextMedium\"}>{listing.title} ({integerToMoneyString(purchasePrice)})</p>\r\n                                <p className={styles.regularTextHalfMargin+\" regularText\"}>{transactionStatus}</p>\r\n                                <p className={styles.regularTextHalfMargin+\" regularText\"}>{purchaseDate}</p>\r\n                                {listing.receiptlink && listing.receiptlink.length>0 ? <Link to={listing.receiptlink} target=\"_blank\" className={styles.regularTextHalfMargin+\" regularText\"}>listing.receiptlink</Link> : <p className={styles.regularTextHalfMargin+\" regularText\"}>Generating receipt...</p>}\r\n                            </div>\r\n                            <div className={styles.mobileCardSellingBuyingRightContainer}>\r\n                                <div className={styles.kebabContainer} onClick={()=>{\r\n                                    this.setState({\r\n                                        mobileMoreOptionsActiveOffers:-1,\r\n                                        mobileMoreOptionsAwaitingPayments:-1,\r\n                                        mobileMoreOptionsPurchaseHistory:key\r\n                                    })\r\n                                }}>\r\n                                    <img src={\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/kebab-horizontal.svg\"} />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    );\r\n\r\n                    return (\r\n                        <tr>\r\n                            <td>\r\n                                {listing.ordernb}\r\n                            </td>\r\n                            <td>\r\n                                {listing.title}\r\n                            </td>\r\n                            <td>\r\n                                {integerToMoneyString(purchasePrice)}\r\n                            </td>\r\n                            <td>\r\n                                {transactionStatus}\r\n                            </td>\r\n                            <td>\r\n                                {purchaseDate}\r\n                            </td>\r\n                            <td>\r\n                                {listing.receiptlink && listing.receiptlink.length>0 ? <Link to={listing.receiptlink} target={\"_blank\"}>listing.receiptlink</Link> : \"Generating receipt...\"}\r\n                            </td>\r\n                            <td>\r\n                                    {\r\n                                        listing.issellerreviewed == true ?\r\n                                            null\r\n                                            :\r\n                                            <button className={styles.buttonCta + ' regularTextMedium'} onClick={()=>{\r\n                                                this.setState({\r\n                                                    reviewsListingIndex: key,\r\n                                                    isReviewsModalDisplayed: true\r\n                                                });}\r\n                                            }>Review seller</button>\r\n                                    }\r\n                            </td>\r\n                        </tr>\r\n                    );\r\n                });\r\n            }\r\n\r\n            currentPage = (\r\n                <div>\r\n                    <div id={styles.tableContainer}>\r\n                        <p className={\"title1 \"+styles.regularText +\" \"+styles.hideMobile}>Purchase history</p>\r\n                        <table className={styles.dataTable +\" \"+styles.hideMobile}>\r\n                            <thead className={styles.tableTHead}>\r\n                            <td className={\"regularTextMedium\"}>\r\n                                Order #\r\n                            </td>\r\n                            <td className={\"regularTextMedium\"}>\r\n                                Item\r\n                            </td>\r\n                            <td className={\"regularTextMedium\"}>\r\n                                Price\r\n                            </td>\r\n                            <td className={\"regularTextMedium\"}>\r\n                                Status\r\n                            </td>\r\n                            <td className={\"regularTextMedium\"}>\r\n                                Date\r\n                            </td>\r\n                            <td className={\"regularTextMedium\"}>\r\n                                Receipt\r\n                            </td>\r\n                            <td className={\"regularTextMedium\"}>\r\n                                Actions\r\n                            </td>\r\n                            </thead>\r\n                            <tbody className={styles.tableTBody}>\r\n                            {pastPurchases}\r\n                            </tbody>\r\n                        </table>\r\n                        <div className={styles.mobileCardSellingBuyingContainer}>\r\n                            {mobilePastPurchases}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n        let mobileMoreOptions = null;\r\n        let mobileMoreOptionsCta = [];\r\n        if(this.state.mobileMoreOptionsActiveOffers != -1){\r\n            mobileMoreOptionsCta = [\r\n                <button className={styles.buttonCta + \" regularTextMedium\"} onClick={() => { this.counterOffer(this.state.mobileMoreOptionsActiveOffers) }}>Counter offer</button>,\r\n                <button className={styles.buttonCta + \" regularTextMedium\"} onClick={() => { this.acceptOffer(this.state.mobileMoreOptionsActiveOffers) }}>Accept</button>,\r\n                <button className={styles.buttonCta + \" regularTextMedium\"} onClick={() => { this.declineOffer(this.state.mobileMoreOptionsActiveOffers) }}>Decline</button>\r\n            ]\r\n            mobileMoreOptions = (\r\n                <div onClick={this.handleMobileMoreOptionsOutsideClick} ref={this.handleMobileMoreOptionsRef} id={styles.mobileMoreOptionsFullPageContainer}>\r\n                    <div id={styles.mobileMoreOptionsContainer}>\r\n                        {mobileMoreOptionsCta}\r\n                    </div>\r\n                </div>\r\n            );\r\n        }else if(this.state.mobileMoreOptionsPurchaseHistory != -1){\r\n            if(this.state.pastPurchases[this.state.mobileMoreOptionsPurchaseHistory].issellerreviewed != true){\r\n                mobileMoreOptionsCta.push(\r\n                    <button className={styles.buttonCta + \" regularTextMedium\"} onClick={()=>{\r\n                        this.setState({\r\n                            reviewsListingIndex: this.state.mobileMoreOptionsPurchaseHistory,\r\n                            isReviewsModalDisplayed: true,\r\n                            mobileMoreOptionsActiveOffers:-1,\r\n                            mobileMoreOptionsPurchaseHistory:-1,\r\n                            mobileMoreOptionsAwaitingPayments:-1\r\n                        });}\r\n                    }>Review seller</button>\r\n                );\r\n            }\r\n\r\n            mobileMoreOptions = (\r\n                <div onClick={this.handleMobileMoreOptionsOutsideClick} ref={this.handleMobileMoreOptionsRef} id={styles.mobileMoreOptionsFullPageContainer}>\r\n                    <div id={styles.mobileMoreOptionsContainer}>\r\n                        {mobileMoreOptionsCta}\r\n                    </div>\r\n                </div>\r\n            );\r\n        }else if(this.state.mobileMoreOptionsAwaitingPayments != -1){\r\n            mobileMoreOptionsCta.push(\r\n                <button className={styles.buttonCta + ' regularTextMedium'} onClick={() => {\r\n                    this.props.history.push(\"/pay?listingId=\"+this.state.waitingPurchases[this.state.mobileMoreOptionsAwaitingPayments].id+\"&offerId=\"+this.state.waitingPurchases[this.state.mobileMoreOptionsAwaitingPayments].offerid);\r\n                    // this.setState({ isDoingReservation: true });\r\n                    // axios.post(\"/reserveProduct\", { listingId: listing.listingid, buyNow: false, offerId: listing.offerid }).then(resp => {\r\n                    //     this.setState({ isDoingReservation: false });\r\n                    //     this.props.history.push(\"/payment-details?tra_id=\" + resp.data.reservationId);\r\n                    // }).catch(err => {\r\n                    //     this.setState({ isDoingReservation: false });\r\n                    //     this.snackbarRef.current.openSnackBar('This item is being purchased by someone else at the moment. Please come back later.');\r\n                    // });\r\n                }}>Pay now</button>\r\n            );\r\n            mobileMoreOptions = (\r\n                <div onClick={this.handleMobileMoreOptionsOutsideClick} ref={this.handleMobileMoreOptionsRef} id={styles.mobileMoreOptionsFullPageContainer}>\r\n                    <div id={styles.mobileMoreOptionsContainer}>\r\n                        {mobileMoreOptionsCta}\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n\r\n\r\n        return (\r\n            <div>\r\n                <BodyContainer>\r\n                    <div className={styles.innerMainContainer}>\r\n                        <div id={styles.bodyLeftSeparator}>\r\n                            <p className={styles.noDisplayDesktop + \" title1 \" + styles.pageTitle}>Manage purchases</p>\r\n                            <div id={styles.categoriesMainContainer}>\r\n                                <p className={styles.regularTextNoMargin + \" regularTextBold \" + styles.noDisplayMobile}>Manage purchases</p>\r\n                                <p className={this.state.currentPage === 0 ? styles.searchSuggestP + \" \" + styles.activeLink : styles.searchSuggestP} onClick={() => { this.setState({ currentPage: 0 }); }}>Awaiting payments</p>\r\n                                <p className={this.state.currentPage === 1 ? styles.searchSuggestP + \" \" + styles.activeLink : styles.searchSuggestP} onClick={() => { this.setState({ currentPage: 1 }); }}>Active offers</p>\r\n                                <p className={this.state.currentPage === 2 ? styles.searchSuggestP + \" \" + styles.activeLink : styles.searchSuggestP} onClick={() => { this.setState({ currentPage: 2 }); }}>Purchase history</p>\r\n                            </div>\r\n                        </div>\r\n                        <div id={styles.bodyRightSeparator}>\r\n                            {currentPage}\r\n                        </div>\r\n                    </div>\r\n                </BodyContainer>\r\n\r\n                <Footer />\r\n                <MobileBottomNav {...this.props} />\r\n                <DesktopTopNav key={new Date().getTime()} {...this.props} />\r\n                <Modal title=\"Counter offer\" closeModal={() => {\r\n                    this.setState({\r\n                        isCounterOfferModalDisplayed: false,\r\n                        counterOfferArrayIndex: -1,\r\n                        counterOfferId: -1,\r\n                        counterOfferValue: 1\r\n                    })\r\n                }} show={this.state.isCounterOfferModalDisplayed} description={this.state.counterOfferId != -1 && this.state.counterOfferArrayIndex != -1 ? \"The seller currently offer is \" + integerToMoneyString((this.state.activeOffers[this.state.counterOfferArrayIndex]).amount) + \". Send your counter offer.\" : \"\"}>\r\n                    <input name=\"counterOfferValue\" value={this.state.counterOfferValue} onChange={this.handleInputChange} type=\"number\" min=\"1\" step=\"0.01\" placeholder=\"Counter offer\" />\r\n                    <div className=\"modalSubmitButtonDiv\">\r\n                        <button className=\"modalSubmitButton regularTextMedium buttonCta\" onClick={this.submitCounterOffer}>Submit</button>\r\n                    </div>\r\n                </Modal>\r\n                <Modal title=\"Review the seller\" closeModal={() => {\r\n                    this.setState({\r\n                        isReviewsModalDisplayed: false,\r\n                        reviewsListingIndex: -1\r\n                    })\r\n                }} show={this.state.isReviewsModalDisplayed}>\r\n                    <ReviewsCard listingId={this.state.reviewsListingIndex == -1 ? -1 : this.state.pastPurchases[this.state.reviewsListingIndex].id} submitReview={() => {\r\n                        let reviewListings = this.state.pastPurchases;\r\n                        reviewListings[this.state.reviewsListingIndex].issellerreviewed = true;\r\n                        this.setState({\r\n                            isReviewsModalDisplayed: false,\r\n                            reviewsListingIndex: -1,\r\n                            pastPurchases: reviewListings\r\n                        })\r\n                    }}></ReviewsCard>\r\n                </Modal>\r\n\r\n                {mobileMoreOptions}\r\n                {\r\n                    this.state.isDoingReservation == true ?\r\n                        <Spinner />\r\n                        :\r\n                        null\r\n                }\r\n                <Snackbar ref={this.snackbarRef} />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default withTranslation()(Saved);\r\n","import React from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport Footer from \"microComponents/Footer.js\";\r\nimport styles from \"public/style/saved.module.css\";\r\nimport DesktopTopNav from \"microComponents/DesktopTopNav.js\";\r\nimport MobileBottomNav from \"microComponents/MobileBottomNav.js\";\r\nimport ListingCard from \"microComponents/ListingCardSmallCard.js\";\r\nimport SpecialCard from \"microComponents/SpecialListingCard.js\";\r\nimport BodyContainer from \"microComponents/BodyContainer\";\r\nimport Modal from \"microComponents/Modal\";\r\nimport ReviewsCard from \"microComponents/ReviewsCard\";\r\nimport Spinner from \"microComponents/LoaderAnimation\";\r\nimport { integerToMoneyString } from \"miscFunctions\";\r\nimport queryString from \"query-string\";\r\nclass Saved extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            activeListings: [],\r\n            activeListingsIsLoaded: false,\r\n            soldListings: [],\r\n            soldListingsIsLoaded: false,\r\n            activeOffers: [],\r\n            activeOffersIsLoaded: false,\r\n            currentPage: 0,\r\n            loading: true,\r\n            isCounterOfferModalDisplayed: false,\r\n            isDeleteConfirmModalDisplayed: false,\r\n            isPickBuyerModalDisplayed: false,\r\n            pickBuyerListingIndex: -1,\r\n            counterOfferArrayIndex: -1,\r\n            counterOfferValue: 1,\r\n            confirmDeleteListingIndex: -1,\r\n            isReviewsModalDisplayed: false,\r\n            reviewsListingIndex: -1,\r\n            isFetchingData: false,\r\n            markAsSoldBuyersDetails: [],\r\n            isTrackingNumberModalDisplayed: false,\r\n            trackingNumberListingIndex: -1,\r\n            carrierNameValue: \"\",\r\n            trackingNumberValue: \"\",\r\n\r\n            mobileMoreOptionsActiveOffers:-1,\r\n            mobileMoreOptionsActiveListings:-1,\r\n            mobileMoreOptionsSoldItems:-1\r\n        }\r\n\r\n        this.submitCounterOffer = this.submitCounterOffer.bind(this);\r\n        this.handleInputChange = this.handleInputChange.bind(this);\r\n        this.deleteListing = this.deleteListing.bind(this);\r\n\r\n        this.handleMobileMoreOptionsRef = React.createRef();\r\n\r\n        this.handleMobileMoreOptionsOutsideClick = this.handleMobileMoreOptionsOutsideClick.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (typeof queryString.parse(window.location.search).activeTab != \"undefined\" && !isNaN(queryString.parse(window.location.search).activeTab)) {\r\n            let activeTab = parseInt(queryString.parse(window.location.search).activeTab);\r\n            if (activeTab >= 0 && activeTab <= 2) {\r\n                this.setState({\r\n                    currentPage: activeTab\r\n                });\r\n            }\r\n        }\r\n        axios.get(window.api_prefix+\"/sellingHistory\").then(res => {\r\n            this.setState({\r\n                soldListings: res.data,\r\n                soldListingsIsLoaded: true\r\n            });\r\n        }).catch();\r\n\r\n        axios.get(window.api_prefix+\"/userActiveListings\").then(res => {\r\n            this.setState({\r\n                activeListings: res.data,\r\n                activeListingsIsLoaded: true\r\n            });\r\n        }).catch();\r\n\r\n        axios.get(window.api_prefix+\"/activeListingsOffers\").then(res => {\r\n            this.setState({\r\n                activeOffers: res.data,\r\n                activeOffersIsLoaded: true\r\n            });\r\n        }).catch();\r\n    }\r\n\r\n    handleMobileMoreOptionsOutsideClick(e){\r\n        if(e.target == this.handleMobileMoreOptionsRef.current){\r\n            this.setState({\r\n                mobileMoreOptionsActiveOffers:-1,\r\n                mobileMoreOptionsActiveListings:-1,\r\n                mobileMoreOptionsSoldItems:-1\r\n            })\r\n        }\r\n    }\r\n\r\n\r\n    handleInputChange(e) {\r\n        const { name, value } = e.target;\r\n        this.setState({\r\n            [name]: value\r\n        });\r\n    }\r\n    acceptOffer(arrayIndex) {\r\n        let currentActiveOffers = this.state.activeOffers;\r\n        let offerId = currentActiveOffers[arrayIndex].id;\r\n        currentActiveOffers.splice(arrayIndex, 1);\r\n        this.setState({\r\n            activeOffers: currentActiveOffers,\r\n            mobileMoreOptionsActiveOffers:-1,\r\n            mobileMoreOptionsActiveListings:-1,\r\n            mobileMoreOptionsSoldItems:-1\r\n        });\r\n        axios.post(window.api_prefix+\"/acceptOffer\", { offerId: offerId }).then().catch();\r\n\r\n    }\r\n    counterOffer(arrayIndex) {\r\n        alert(arrayIndex);\r\n        this.setState({\r\n            counterOfferArrayIndex: arrayIndex,\r\n            isCounterOfferModalDisplayed: true\r\n        });\r\n    }\r\n    declineOffer(arrayIndex) {\r\n        let currentActiveOffers = this.state.activeOffers;\r\n        let offerId = currentActiveOffers[arrayIndex].id;\r\n        currentActiveOffers.splice(arrayIndex, 1);\r\n        this.setState({\r\n            activeOffers: currentActiveOffers,\r\n            mobileMoreOptionsActiveOffers:-1,\r\n            mobileMoreOptionsActiveListings:-1,\r\n            mobileMoreOptionsSoldItems:-1\r\n        });\r\n        axios.post(window.api_prefix+\"/declineOffer\", { offerId: offerId }).then().catch();\r\n    }\r\n    submitCounterOffer() {\r\n        let currentActiveOffers = this.state.activeOffers;\r\n        let counterOfferId = currentActiveOffers[this.state.counterOfferArrayIndex].id;\r\n        currentActiveOffers.splice(this.state.counterOfferArrayIndex, 1);\r\n        this.setState({\r\n            activeOffers: currentActiveOffers,\r\n            counterOfferArrayIndex: -1,\r\n            counterOfferValue: 1,\r\n            isCounterOfferModalDisplayed: false,\r\n            mobileMoreOptionsActiveOffers:-1,\r\n            mobileMoreOptionsActiveListings:-1,\r\n            mobileMoreOptionsSoldItems:-1\r\n        });\r\n        axios.post(window.api_prefix+\"/submitCounterOffer\", { offerId: counterOfferId, offerValue: this.state.counterOfferValue }).then().catch();\r\n    }\r\n\r\n    deleteListing() {\r\n        let activeListings = this.state.activeListings;\r\n        let listingId = this.state.activeListings[this.state.confirmDeleteListingIndex].id;\r\n        activeListings.splice(this.state.confirmDeleteListingIndex, 1);\r\n        this.setState({\r\n            activeListings: activeListings,\r\n            isDeleteConfirmModalDisplayed: false,\r\n            confirmDeleteListingIndex: -1\r\n        });\r\n        axios.post(window.api_prefix+\"/deleteListing\", { listingId: listingId });\r\n    }\r\n\r\n    render() {\r\n        const { t } = this.props;\r\n        let currentPage;\r\n        if (this.state.currentPage === 0 && this.state.activeListingsIsLoaded && this.state.activeOffersIsLoaded) {\r\n            let desktopOffersArray = <p className={styles.regularTextNoMargin + \" regularText\"}>No offers yet.</p>;\r\n            let mobileOffersArray = <p className={styles.regularTextNoMargin + \" regularText\"}>No offers yet.</p>;\r\n            if (this.state.activeOffers.length > 0 && this.state.activeListings.length > 0) {\r\n                mobileOffersArray = [];\r\n                desktopOffersArray = [];\r\n\r\n                let activeListings = [];\r\n                for (let v = 0; v < this.state.activeListings.length; v++) {\r\n                    let newObj = this.state.activeListings[v];\r\n                    newObj.offers = [];\r\n                    activeListings.push(newObj);\r\n                }\r\n\r\n\r\n                for (let i = 0; i < this.state.activeOffers.length; i++) {\r\n                    for (let j = 0; j < activeListings.length; j++) {\r\n                        if (activeListings[j].id == this.state.activeOffers[i].listingid) {\r\n                            let offer = this.state.activeOffers[i];\r\n                            offer.arrayIndex = i;\r\n                            activeListings[j].offers.push(offer);\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n\r\n                for (let i = 0; i < activeListings.length; i++) {\r\n                    if (activeListings[i].offers.length > 0) {\r\n                        for (let j = 0; j < activeListings[i].offers.length; j++) {\r\n                            desktopOffersArray.push(\r\n                                <tr key={j+\"_\"+i}>\r\n                                    <td>\r\n                                        {activeListings[i].title}\r\n                                    </td>\r\n                                    <td>\r\n                                        {integerToMoneyString(activeListings[i].offers[j].amount)}\r\n                                    </td>\r\n                                    <td>\r\n                                        {integerToMoneyString(activeListings[i].price)}\r\n                                    </td>\r\n                                    <td>\r\n                                        @{activeListings[i].offers[j].sendername}\r\n                                    </td>\r\n                                    <td>\r\n                                        <button className={styles.buttonCta + \" regularTextMedium\"} onClick={() => { this.counterOffer(activeListings[i].offers[j].arrayIndex) }}>Counter offer</button>\r\n                                        <button className={styles.buttonCta + \" regularTextMedium\"} onClick={() => { this.acceptOffer(activeListings[i].offers[j].arrayIndex) }}>Accept</button>\r\n                                        <button className={styles.buttonCta + \" regularTextMedium\"} onClick={() => { this.declineOffer(activeListings[i].offers[j].arrayIndex) }}>Decline</button>\r\n                                    </td>\r\n                                </tr>\r\n                            );\r\n\r\n                            mobileOffersArray.push(\r\n                            <div key={j+\"_\"+i+\"2\"} className={styles.mobileCardSellingBuying}>\r\n                                <div className={styles.mobileCardSellingBuyingLeftContainer}>\r\n                                    <p className={styles.regularTextHalfMargin+\" regularTextMedium\"}>{activeListings[i].title}</p>\r\n                                    <p className={styles.regularTextHalfMargin+\" regularText\"}>@{activeListings[i].offers[j].sendername}</p>\r\n                                    <p className={styles.regularTextHalfMargin+\" regularText\"}>{integerToMoneyString(activeListings[i].offers[j].amount)}</p>\r\n                                </div>\r\n                                <div className={styles.mobileCardSellingBuyingRightContainer}>\r\n                                    <div className={styles.kebabContainer} onClick={()=>{\r\n                                        this.setState({\r\n                                            mobileMoreOptionsActiveOffers:activeListings[i].offers[j].arrayIndex,\r\n                                            mobileMoreOptionsActiveListings:-1,\r\n                                            mobileMoreOptionsSoldItems:-1\r\n                                        })\r\n                                    }}>\r\n                                        <img src={\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/kebab-horizontal.svg\"} />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            );\r\n                        }\r\n                    } else {\r\n                        continue;\r\n                    }\r\n                }\r\n            }\r\n            currentPage = (\r\n                <div>\r\n                    <div id={styles.tableContainer}>\r\n                        <p className={\"title1 \"+styles.regularText +\" \"+styles.hideMobile}>Active offers</p>\r\n                        <p className={styles.regularText}>Offers or counter offers made by buyers for a product youre selling will appear here. You only have 24 hours to accept/decline/counter-offer or it will automatically be declined.</p>\r\n                        <table className={styles.dataTable+\" \"+styles.hideMobile}>\r\n                            <thead className={styles.tableTHead}>\r\n                            <tr>\r\n                                <th className={\"regularTextMedium\"}>\r\n                                    Item\r\n                                </th>\r\n                                <th className={\"regularTextMedium\"}>\r\n                                    Seller offer\r\n                                </th>\r\n                                <th className={\"regularTextMedium\"}>\r\n                                    Original price\r\n                                </th>\r\n                                <th className={\"regularTextMedium\"}>\r\n                                    Buyer\r\n                                </th>\r\n                                <th className={\"regularTextMedium\"}>\r\n                                    Actions\r\n                                </th>\r\n                            </tr>\r\n                            </thead>\r\n                            <tbody className={styles.tableTBody}>\r\n                            {desktopOffersArray}\r\n                            </tbody>\r\n                        </table>\r\n                        {/*<p className={\"title1 \"+styles.regularText}>Pending offers</p>*/}\r\n                        {/*<p className={styles.regularText}>Offers or counter offers made by buyers for a product youre selling will appear here. You only have 24 hours to accept/decline/counter-offer or it will automatically be declined.</p>*/}\r\n                        <div className={styles.mobileCardSellingBuyingContainer}>\r\n                            {mobileOffersArray}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            );\r\n        } else if (this.state.currentPage === 1 && this.state.activeListingsIsLoaded) {\r\n            let activeListings = <p className={styles.regularTextNoMargin + \" regularText\"}>No listings yet.</p>;\r\n            let mobileListingsArray = <p className={styles.regularTextNoMargin + \" regularText\"}>No listings yet.</p>;\r\n            if (this.state.activeListings.length > 0) {\r\n                mobileListingsArray = [];\r\n                activeListings = this.state.activeListings.map((listing, key) => {\r\n                    let fullDate = new Date(listing.timestamp);\r\n                    let months = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\r\n                    let listingDate = months[fullDate.getMonth()] + \" \" + fullDate.getDate() + \", \" + fullDate.getFullYear();\r\n\r\n                    let verificationStatusValues = [\"Not verified\", \"Verification in progress...\", \"Verification not approved\", \"Verification approved\"];\r\n                    let verificationStatus = verificationStatusValues[listing.verificationstatus];\r\n                    let verifyButton;\r\n\r\n                    mobileListingsArray.push(\r\n                        <div className={styles.mobileCardSellingBuying}>\r\n                            <div className={styles.mobileCardSellingBuyingLeftContainer}>\r\n                                <p className={styles.regularTextHalfMargin+\" regularTextMedium\"}>{listing.title}</p>\r\n\r\n                                <p className={styles.regularTextHalfMargin+\" regularText\"}>{verificationStatus}</p>\r\n                                <p className={styles.regularTextHalfMargin+\" regularText\"}>{listingDate}</p>\r\n                            </div>\r\n                            <div className={styles.mobileCardSellingBuyingRightContainer}>\r\n                                <div className={styles.kebabContainer} onClick={()=>{\r\n                                    this.setState({\r\n                                        mobileMoreOptionsActiveOffers:-1,\r\n                                        mobileMoreOptionsActiveListings:key,\r\n                                        mobileMoreOptionsSoldItems:-1\r\n                                    })\r\n                                }}>\r\n                                    <img src={\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/kebab-horizontal.svg\"} />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    );\r\n                    return (\r\n                        <tr key={key}>\r\n                            <td>\r\n                                {listing.title}\r\n                            </td>\r\n                            <td>\r\n                                {/*price*/}\r\n                            </td>\r\n                            <td>\r\n                                {listingDate}\r\n                            </td>\r\n                            <td>\r\n                                {verificationStatus}\r\n                            </td>\r\n                            <td>\r\n                                <Link to={\"/new-listing?listingid=\" + listing.id + \"&listingmode=1\"}>\r\n                                    <button className={styles.buttonCta + \" regularTextMedium\"}>Edit</button>\r\n                                </Link>\r\n                                <button className={styles.buttonCta + \" regularTextMedium\"} onClick={() => { this.setState({ isDeleteConfirmModalDisplayed: true, confirmDeleteListingIndex: key }) }}>Delete</button>\r\n\r\n                                {verifyButton}\r\n                            </td>\r\n                        </tr>\r\n                    );\r\n                });\r\n            }\r\n            currentPage = (\r\n                <div>\r\n                    <div id={styles.tableContainer}>\r\n                        <p className={\"title1 \"+styles.regularText+\" \"+styles.hideMobile}>Active listings</p>\r\n                        <table className={styles.dataTable+\" \"+styles.hideMobile}>\r\n                            <thead className={styles.tableTHead}>\r\n                            <tr>\r\n                                <th className={\"regularTextMedium\"}>\r\n                                    Item\r\n                                </th>\r\n                                <th className={\"regularTextMedium\"}>\r\n                                    Price\r\n                                </th>\r\n                                <th className={\"regularTextMedium\"}>\r\n                                    Date\r\n                                </th>\r\n                                <th className={\"regularTextMedium\"}>\r\n                                    Status\r\n                                </th>\r\n                                <th className={\"regularTextMedium\"}>\r\n                                    Actions\r\n                                </th>\r\n                            </tr>\r\n                            </thead>\r\n                            <tbody className={styles.tableTBody}>\r\n                            {activeListings}\r\n                            </tbody>\r\n                        </table>\r\n                        <div className={styles.mobileCardSellingBuyingContainer}>\r\n                            {mobileListingsArray}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n            );\r\n        } else if (this.state.soldListingsIsLoaded) {\r\n            let soldListings = <p className={styles.regularText + \" regularText\"}>No sold items yet.</p>\r\n            let mobileSoldArray = <p className={styles.regularTextNoMargin + \" regularText\"}>No listings yet.</p>;\r\n            if (this.state.soldListings.length > 0) {\r\n                mobileSoldArray = [];\r\n                soldListings = this.state.soldListings.map((listing, key) => {\r\n                    let fullDate = new Date(listing.timestamp);\r\n                    let months = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\r\n                    let listingDate = months[fullDate.getMonth()] + \" \" + fullDate.getDate() + \", \" + fullDate.getFullYear();\r\n\r\n                    let transactionStatus = \"\";\r\n                    if(listing.status == 0){\r\n                        transactionStatus = \"No tracking number added yet\";\r\n                    }else if(listing.status == 1){\r\n                        transactionStatus  = \"Shipped\"\r\n                    }else{\r\n                        transactionStatus = \"Delivered\"\r\n                    }\r\n\r\n                    mobileSoldArray.push(\r\n                         <div className={styles.mobileCardSellingBuying}>\r\n                            <div className={styles.mobileCardSellingBuyingLeftContainer}>\r\n                                <p className={styles.regularTextHalfMargin+\" regularText\"}>Order #{listing.ordernb}</p>\r\n                                <p className={styles.regularTextHalfMargin+\" regularTextMedium\"}>{listing.title}</p>\r\n                                <p className={styles.regularTextHalfMargin+\" regularText\"}>{transactionStatus}</p>\r\n                                <p className={styles.regularTextHalfMargin+\" regularText\"}>{listingDate}</p>\r\n                                {listing.sellerreceiptlink && listing.sellerreceiptlink.length>0 ? <Link>{listing.sellerreceiptlink}</Link> : <p>Generating receipt...</p>}\r\n                            </div>\r\n                            <div className={styles.mobileCardSellingBuyingRightContainer}>\r\n                                <div className={styles.kebabContainer} onClick={()=>{\r\n                                    this.setState({\r\n                                        mobileMoreOptionsActiveOffers:-1,\r\n                                        mobileMoreOptionsActiveListings:-1,\r\n                                        mobileMoreOptionsSoldItems:key\r\n                                    })\r\n                                }}>\r\n                                    <img src={\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/kebab-horizontal.svg\"} />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    );\r\n                    return (\r\n                            <tr key={key}>\r\n                                <td>\r\n                                    {listing.ordernb}\r\n                                </td>\r\n                                <td>\r\n                                    {listing.title}\r\n                                </td>\r\n                                {/*<td>*/}\r\n                                {/*    /!*price*!/*/}\r\n                                {/*</td>*/}\r\n                                <td>\r\n                                    {transactionStatus}\r\n                                </td>\r\n                                <td>\r\n                                    {listingDate}\r\n                                </td>\r\n                                <td>\r\n                                    {listing.sellerreceiptlink && listing.sellerreceiptlink.length>0 ? <Link>listing.sellerreceiptlink</Link> : \"Generating receipt...\"}\r\n\r\n                                </td>\r\n                                <td>\r\n                                    {\r\n                                        listing.isbuyerreviewed == true ?\r\n                                            null\r\n                                            :\r\n                                            <button className={styles.buttonCta + \" regularTextMedium\"} onClick={() => { this.setState({ isReviewsModalDisplayed: true, reviewsListingIndex: key }) }}>Review buyer</button>\r\n                                    }\r\n                                    {\r\n                                        listing.trackingnumber ?\r\n                                            null\r\n                                            :\r\n                                            <button className={styles.buttonCta + \" regularTextMedium\"} onClick={() => { this.setState({ isTrackingNumberModalDisplayed: true, trackingNumberListingIndex: key }) }}>Add tracking number</button>\r\n                                    }\r\n                                </td>\r\n                            </tr>\r\n                    );\r\n                });\r\n            }\r\n            currentPage = (\r\n                <div>\r\n                    <div id={styles.tableContainer}>\r\n                        <p className={\"title1 \"+styles.regularText+\" \"+styles.hideMobile}>Sold items</p>\r\n                        <table className={styles.dataTable +\" \"+styles.hideMobile}>\r\n                            <thead className={styles.tableTHead}>\r\n                                <tr>\r\n                                    <th className={\"regularTextMedium\"}>\r\n                                        Order #\r\n                                    </th>\r\n                                    <th className={\"regularTextMedium\"}>\r\n                                        Item\r\n                                    </th>\r\n                                    {/*<th className={\"regularTextMedium\"}>*/}\r\n                                    {/*    Price*/}\r\n                                    {/*</th>*/}\r\n                                    <th className={\"regularTextMedium\"}>\r\n                                        Status\r\n                                    </th>\r\n                                    <th className={\"regularTextMedium\"}>\r\n                                        Date\r\n                                    </th>\r\n                                    <th className={\"regularTextMedium\"}>\r\n                                        Receipt\r\n                                    </th>\r\n                                    <th className={\"regularTextMedium\"}>\r\n                                        Actions\r\n                                    </th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody className={styles.tableTBody}>\r\n                            {soldListings}\r\n                            </tbody>\r\n                        </table>\r\n                        <div className={styles.mobileCardSellingBuyingContainer}>\r\n                            {mobileSoldArray}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            );\r\n        } else {\r\n            return null;\r\n        }\r\n\r\n        let buyersListDetails = [];\r\n        if (this.state.markAsSoldBuyersDetails.length > 0 && this.state.isPickBuyerModalDisplayed == true) {\r\n            buyersListDetails = this.state.markAsSoldBuyersDetails.map((buyer, key) => {\r\n\r\n                let price = \" paying the original buy now price.\"\r\n                if (buyer.offeramount != null) {\r\n                    price = \" paying \" + integerToMoneyString(buyer.offeramount);\r\n                }\r\n                return (\r\n                    <div key={key} className={styles.buyersListRow} onClick={() => {\r\n                        this.setState({\r\n                            isFetchingData: true\r\n                        });\r\n                        axios.post(window.api_prefix+\"/markListingAsSold\", { reservationId: buyer.reservationid, buyerId: buyer.buyerid, listingId: this.state.activeListings[this.state.pickBuyerListingIndex].id }).then(resp => {\r\n                            let listingArrayIndex = this.state.pickBuyerListingIndex;\r\n                            let currentListings = this.state.activeListings;\r\n                            let soldListing = currentListings[listingArrayIndex];\r\n                            currentListings.splice(currentListings, 1);\r\n                            let currentSoldListings = this.state.soldListings;\r\n                            currentSoldListings.push(soldListing);\r\n                            this.setState({\r\n                                isFetchingData: false,\r\n                                isPickBuyerModalDisplayed: false,\r\n                                pickBuyerListingIndex: -1,\r\n                                activeListings: currentListings,\r\n                                soldListings: currentSoldListings\r\n                            });\r\n                        }).catch(err => {\r\n                            this.setState({\r\n                                isFetchingData: false,\r\n                                isPickBuyerModalDisplayed: false,\r\n                                pickBuyerListingIndex: -1\r\n                            });\r\n                        });\r\n                    }}>\r\n                        <p>@{buyer.buyername + price}</p>\r\n                    </div>\r\n                );\r\n            });\r\n        }\r\n\r\n        let mobileMoreOptions = null;\r\n        let mobileMoreOptionsCta = [];\r\n        if(this.state.mobileMoreOptionsActiveOffers != -1){\r\n            mobileMoreOptionsCta = [\r\n                <button className={styles.buttonCta + \" regularTextMedium\"} onClick={() => { this.counterOffer(this.state.mobileMoreOptionsActiveOffers) }}>Counter offer</button>,\r\n                <button className={styles.buttonCta + \" regularTextMedium\"} onClick={() => { this.acceptOffer(this.state.mobileMoreOptionsActiveOffers) }}>Accept</button>,\r\n                <button className={styles.buttonCta + \" regularTextMedium\"} onClick={() => { this.declineOffer(this.state.mobileMoreOptionsActiveOffers) }}>Decline</button>\r\n            ]\r\n            mobileMoreOptions = (\r\n                <div onClick={this.handleMobileMoreOptionsOutsideClick} ref={this.handleMobileMoreOptionsRef} id={styles.mobileMoreOptionsFullPageContainer}>\r\n                    <div id={styles.mobileMoreOptionsContainer}>\r\n                        {mobileMoreOptionsCta}\r\n                    </div>\r\n                </div>\r\n            );\r\n        }else if(this.state.mobileMoreOptionsActiveListings != -1){\r\n            mobileMoreOptionsCta.push(\r\n                <Link style={{textDecoration:\"none\"}} to={\"/new-listing?listingid=\" + this.state.activeListings[this.state.mobileMoreOptionsActiveListings].id + \"&listingmode=1\"}>\r\n                    <button className={styles.buttonCta + \" regularTextMedium\"}>Edit</button>\r\n                </Link>,\r\n                <button className={styles.buttonCta + \" regularTextMedium\"} onClick={() => { this.setState({ isDeleteConfirmModalDisplayed: true, confirmDeleteListingIndex: this.state.mobileMoreOptionsActiveListings, mobileMoreOptionsActiveOffers:-1, mobileMoreOptionsActiveListings:-1, mobileMoreOptionsSoldItems:-1 }) }}>Delete</button>\r\n            );\r\n            if (this.state.activeListings[this.state.mobileMoreOptionsActiveListings].verificationstatus == 0 || this.state.activeListings[this.state.mobileMoreOptionsActiveListings].verificationstatus == 2) {\r\n                    mobileMoreOptionsCta.push(\r\n                        <Link style={{textDecoration:\"none\"}} to={\"/verifyListing?id=\" + this.state.activeListings[this.state.mobileMoreOptionsActiveListings].id}>\r\n                            <button className={styles.buttonCta + \" regularTextMedium\"}>Verify now</button>\r\n                        </Link>\r\n                    );\r\n            }\r\n            mobileMoreOptions = (\r\n                <div onClick={this.handleMobileMoreOptionsOutsideClick} ref={this.handleMobileMoreOptionsRef} id={styles.mobileMoreOptionsFullPageContainer}>\r\n                    <div id={styles.mobileMoreOptionsContainer}>\r\n                        {mobileMoreOptionsCta}\r\n                    </div>\r\n                </div>\r\n            );\r\n        }else if(this.state.mobileMoreOptionsSoldItems != -1){\r\n            if(this.state.soldListings[this.state.mobileMoreOptionsSoldItems].isbuyerreviewed != true){\r\n                mobileMoreOptionsCta.push(<button className={styles.buttonCta + \" regularTextMedium\"} onClick={() => {\r\n                    this.setState({\r\n                        isReviewsModalDisplayed: true,\r\n                        reviewsListingIndex: this.state.mobileMoreOptionsSoldItems,\r\n                        mobileMoreOptionsActiveOffers:-1,\r\n                        mobileMoreOptionsActiveListings:-1,\r\n                        mobileMoreOptionsSoldItems:-1\r\n                    })\r\n                }}>Review buyer</button>)\r\n            }\r\n            if(!this.state.soldListings[this.state.mobileMoreOptionsSoldItems].trackingnumber || this.state.soldListings[this.state.mobileMoreOptionsSoldItems].trackingnumber.length==0){\r\n                mobileMoreOptionsCta.push(<button className={styles.buttonCta + \" regularTextMedium\"} onClick={() => {\r\n                    this.setState({\r\n                        isTrackingNumberModalDisplayed: true,\r\n                        trackingNumberListingIndex: this.state.mobileMoreOptionsSoldItems,\r\n                        mobileMoreOptionsActiveOffers:-1,\r\n                        mobileMoreOptionsActiveListings:-1,\r\n                        mobileMoreOptionsSoldItems:-1\r\n                    })\r\n                }}>Add tracking number</button>);\r\n            }\r\n            mobileMoreOptions = (\r\n                <div onClick={this.handleMobileMoreOptionsOutsideClick} ref={this.handleMobileMoreOptionsRef} id={styles.mobileMoreOptionsFullPageContainer}>\r\n                    <div id={styles.mobileMoreOptionsContainer}>\r\n                        {mobileMoreOptionsCta}\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                <BodyContainer>\r\n                    <div className={styles.innerMainContainer}>\r\n\r\n                        <div id={styles.bodyLeftSeparator}>\r\n                            <p className={styles.noDisplayDesktop + \" title1 \" + styles.pageTitle}>Selling</p>\r\n                            <div id={styles.categoriesMainContainer}>\r\n                                <p className={styles.regularTextNoMargin + \" regularTextBold \" + styles.noDisplayMobile}>Selling</p>\r\n                                <p className={this.state.currentPage === 0 ? styles.searchSuggestP + \" \" + styles.activeLink : styles.searchSuggestP} onClick={() => { this.setState({ currentPage: 0 }); }}>Active offers</p>\r\n                                <p className={this.state.currentPage === 1 ? styles.searchSuggestP + \" \" + styles.activeLink : styles.searchSuggestP} onClick={() => { this.setState({ currentPage: 1 }); }}>Active listings</p>\r\n                                <p className={this.state.currentPage === 2 ? styles.searchSuggestP + \" \" + styles.activeLink : styles.searchSuggestP} onClick={() => { this.setState({ currentPage: 2 }); }}>Sold items</p>\r\n                            </div>\r\n                        </div>\r\n                        <div id={styles.bodyRightSeparator}>\r\n                            {currentPage}\r\n                        </div>\r\n                    </div>\r\n                </BodyContainer>\r\n\r\n                <Footer />\r\n                <MobileBottomNav {...this.props} />\r\n                <DesktopTopNav key={new Date().getTime()} {...this.props} />\r\n                <Modal title=\"Counter offer\" closeModal={() => {\r\n                    this.setState({\r\n                        isCounterOfferModalDisplayed: false,\r\n                        counterOfferArrayIndex: -1,\r\n                        counterOfferValue: 1\r\n                    })\r\n                }} show={this.state.isCounterOfferModalDisplayed} description={this.state.counterOfferArrayIndex != -1 ? \"The buyer offered \" + integerToMoneyString(this.state.activeOffers[this.state.counterOfferArrayIndex].amount) + \". Send your counter offer.\" : \"\"}>\r\n                    <input name=\"counterOfferValue\" value={this.state.counterOfferValue} onChange={this.handleInputChange} type=\"number\" min=\"1\" step=\"0.01\" placeholder=\"Counter offer\" />\r\n                    <div className=\"modalSubmitButtonDiv\">\r\n                        <button className=\"modalSubmitButton regularTextMedium buttonCta\" onClick={this.submitCounterOffer}>Submit offer</button>\r\n                    </div>\r\n                </Modal>\r\n\r\n\r\n\r\n                <Modal title=\"Confirm listing's deletion\" closeModal={() => {\r\n                    this.setState({\r\n                        isDeleteConfirmModalDisplayed: false,\r\n                        confirmDeleteListingIndex: -1\r\n                    })\r\n                }} show={this.state.isDeleteConfirmModalDisplayed} description=\"Do you really want to delete this listing?\">\r\n                    <div className=\"modalSubmitButtonDiv\">\r\n                        <button className=\"modalCancelButton regularText\" onClick={() => { this.setState({ isDeleteConfirmModalDisplayed: false, confirmDeleteListingIndex: -1 }) }}>Cancel</button>\r\n                        <button className=\"modalSubmitButton regularTextMedium buttonCta\" onClick={this.deleteListing}>Confirm</button>\r\n                    </div>\r\n                </Modal>\r\n\r\n                <Modal title=\"Who bought your item?\" closeModal={() => {\r\n                    this.setState({\r\n                        isPickBuyerModalDisplayed: false,\r\n                        pickBuyerListingIndex: -1\r\n                    })\r\n                }} show={this.state.isPickBuyerModalDisplayed && this.state.markAsSoldBuyersDetails.length > 0}>\r\n                    <div>\r\n                        {buyersListDetails}\r\n                    </div>\r\n                    <div className=\"modalSubmitButtonDiv\">\r\n                        <button className=\"modalCancelButton regularText\" onClick={() => { this.setState({ isPickBuyerModalDisplayed: false, pickBuyerListingIndex: -1 }) }}>Cancel</button>\r\n                    </div>\r\n                </Modal>\r\n\r\n                <Modal title=\"Review the buyer\" closeModal={() => {\r\n                    this.setState({\r\n                        isReviewsModalDisplayed: false,\r\n                        reviewsListingIndex: -1\r\n                    })\r\n                }} show={this.state.isReviewsModalDisplayed}>\r\n                    <ReviewsCard listingId={this.state.reviewsListingIndex == -1 ? -1 : this.state.soldListings[this.state.reviewsListingIndex].id} submitReview={() => {\r\n                        let reviewListings = this.state.soldListings;\r\n                        reviewListings[this.state.reviewsListingIndex].isbuyerreviewed = true;\r\n                        this.setState({\r\n                            isReviewsModalDisplayed: false,\r\n                            reviewsListingIndex: -1,\r\n                            soldListings: reviewListings\r\n                        })\r\n                    }}></ReviewsCard>\r\n                </Modal>\r\n\r\n                <Modal title=\"Add a tracking number\" closeModal={() => {\r\n                    this.setState({\r\n                        isTrackingNumberModalDisplayed: false,\r\n                        trackingNumberListingIndex: -1\r\n                    })\r\n                }} show={this.state.isTrackingNumberModalDisplayed} description={\"Add the parcel's shipping carrier and tracking number so us and the buyer can track it.\"}>\r\n                    <input name=\"carrierNameValue\" value={this.state.carrierNameValue} onChange={this.handleInputChange} type=\"text\" placeholder=\"Shipping carrier name\" />\r\n                    <input name=\"trackingNumberValue\" value={this.state.trackingNumberValue} onChange={this.handleInputChange} type=\"text\" placeholder=\"Tracking  number\" />\r\n                    <div className=\"modalSubmitButtonDiv\">\r\n                        <button className=\"modalCancelButton regularText\" onClick={() => { this.setState({ isTrackingNumberModalDisplayed: false, trackingNumberListingIndex: -1 }) }}>Cancel</button>\r\n                        <button className=\"modalSubmitButton regularTextMedium buttonCta\" onClick={() => {\r\n                            axios.post(window.api_prefix+\"/addTrackingNumber\", { carrierName: this.state.carrierNameValue, trackingNumber: this.state.trackingNumberValue, listingId: this.state.soldListings[this.state.trackingNumberListingIndex].id });\r\n                            let currentSoldListings = this.state.soldListings;\r\n                            currentSoldListings[this.state.trackingNumberListingIndex].trackingnumber = \"222\";\r\n                            this.setState({\r\n                                isTrackingNumberModalDisplayed: false,\r\n                                trackingNumberListingIndex: -1,\r\n                                soldListings: currentSoldListings\r\n                            });\r\n                        }}>Confirm</button>\r\n                    </div>\r\n                </Modal>\r\n                {mobileMoreOptions}\r\n                {\r\n                    this.state.isFetchingData == true ?\r\n                        <Spinner />\r\n                        :\r\n                        null\r\n                }\r\n            </div>\r\n        );\r\n\r\n    }\r\n}\r\n\r\n\r\nexport default withTranslation()(Saved);\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport PropTypes from \"prop-types\";\r\nconst PrivateRoute = ({ component: Component, auth, ...rest }) => (\r\n    <Route\r\n        {...rest}\r\n        render={props =>\r\n            auth.isAuthenticated === false ? (\r\n                <Component {...props} />\r\n            ) : (\r\n                    <Redirect to=\"/home\" />\r\n                )\r\n        }\r\n    />\r\n);\r\nPrivateRoute.propTypes = {\r\n    auth: PropTypes.object.isRequired\r\n};\r\nconst mapStateToProps = state => ({\r\n    auth: state.auth\r\n});\r\nexport default connect(mapStateToProps)(PrivateRoute);","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport PropTypes from \"prop-types\";\r\nconst PrivateRoute = ({ component: Component, auth, ...rest }) => (\r\n    <Route\r\n        {...rest}\r\n        render={props =>\r\n            auth.isAuthenticated === true ? (\r\n                <Component {...props} />\r\n            ) : (\r\n                    <Redirect to=\"/login\" />\r\n                )\r\n        }\r\n    />\r\n);\r\nPrivateRoute.propTypes = {\r\n    auth: PropTypes.object.isRequired\r\n};\r\nconst mapStateToProps = state => ({\r\n    auth: state.auth\r\n});\r\nexport default connect(mapStateToProps)(PrivateRoute);","import React from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { Link } from \"react-router-dom\";\r\nimport styles from \"../style/employeeStyle.module.css\";\r\nimport axios from \"axios\";\r\nclass Index extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            posts: [],\r\n            errorMessage: \"\"\r\n        }\r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n        axios.get(window.api_prefix+\"/allBlogPosts\").then(resp => {\r\n            this.setState({\r\n                posts: resp.data\r\n            });\r\n        });\r\n    }\r\n\r\n    deleteBlogPost(postId, key) {\r\n        this.setState({\r\n            errorMessage: \"\"\r\n        });\r\n        axios.post(window.api_prefix+\"/deleteBlogPost\", { postId: postId, token: this.props.token }).then(resp => {\r\n            let currentPosts = this.state.posts;\r\n            currentPosts.splice(key, 1);\r\n            this.setState({\r\n                posts: currentPosts\r\n            });\r\n        }).catch(err => {\r\n            if (err.response) {\r\n                this.setState({\r\n                    errorMessage: err.response.data.message\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const { t } = this.props;\r\n\r\n        let posts = <p>There are no posts for the moment.</p>\r\n        if (this.state.posts.length > 0) {\r\n            posts = this.state.posts.map((post, key) => {\r\n                return (\r\n                    <div style={{ border: \"1px solid #000\", padding: \"20px\", marginBottom: \"50px\" }} key={key} className={styles.postCard}>\r\n                        <p className={\"title2 \" + styles.regularText}>{post.title}</p>\r\n                        <p className={\"regularText \" + styles.regularText}>{post.summary}</p>\r\n                        <button style={{ margin: \"0 20px 0 0\" }} onClick={() => { this.props.editSpecificBlogPost(post.id) }} className={styles.linkP + \" \" + styles.regularTextNoMargin}>Edit</button>\r\n                        <button onClick={() => { this.deleteBlogPost(post.id, key) }} className={styles.linkP + \" \" + styles.regularTextNoMargin}>Delete</button>\r\n                    </div>\r\n                );\r\n            });\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                <div id={styles.articleContainer}>\r\n                    <p className={\"title1 \" + styles.regularText}>All posts</p>\r\n                    {this.state.errorMessage.length > 0 ? this.state.errorMessage : null}\r\n                    <button className={styles.button} onClick={this.props.newBlogPost}>NEW BLOG POST</button>\r\n                    {posts}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default withTranslation()(Index);\r\n","import React from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport styles from \"../style/employeeStyle.module.css\";\r\nimport axios from \"axios\";\r\nclass Index extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            isDataLoading: true,\r\n            post: [],\r\n            title: \"\",\r\n            summary: \"\",\r\n            createPost: false,\r\n            postId: -1\r\n        }\r\n        this.handleInputChange = this.handleInputChange.bind(this);\r\n        this.handleNameInputChange = this.handleNameInputChange.bind(this);\r\n        this.savePost = this.savePost.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.props.createPost) {\r\n            this.setState({\r\n                createPost: true,\r\n                isDataLoading: false\r\n            });\r\n        } else if (this.props.postId) {\r\n            let postId = this.props.postId;\r\n            axios.get(window.api_prefix+\"/blogPost?id=\" + postId).then(resp => {\r\n                let bodyStringSplit = resp.data.body.split(\"<%b%>\");\r\n                let postInputs = bodyStringSplit.map((parag, key) => {\r\n                    if (parag.substring(0, 4) == \"<p%>\") {\r\n                        return {\r\n                            content: parag.substring(4, parag.length),\r\n                            type: \"p\"\r\n                        }\r\n                    } else if (parag.substring(0, 4) == \"<t%>\") {\r\n                        return {\r\n                            content: parag.substring(4, parag.length),\r\n                            type: \"t\"\r\n                        }\r\n                    } else {\r\n                        return null;\r\n                    }\r\n                });\r\n                this.setState({\r\n                    post: postInputs,\r\n                    isDataLoading: false,\r\n                    title: resp.data.title,\r\n                    summary: resp.data.summary\r\n                });\r\n            });\r\n        }\r\n    }\r\n    handleNameInputChange(event) {\r\n        const { name, value } = event.target;\r\n        this.setState({\r\n            [name]: value\r\n        });\r\n    }\r\n\r\n    handleInputChange(key, event) {\r\n        let currentPosts = this.state.post;\r\n        currentPosts[key].content = event.target.value;\r\n        this.setState({\r\n            post: currentPosts\r\n        });\r\n    }\r\n\r\n    handleRemoveSection(key, event) {\r\n        let currentPosts = this.state.post;\r\n        currentPosts.splice(key, 1);\r\n        this.setState({\r\n            post: currentPosts\r\n        });\r\n    }\r\n\r\n    addSection(type) {\r\n        let currentPosts = this.state.post;\r\n        if (type == \"t\") {\r\n            currentPosts.push({ content: \"\", type: type });\r\n        } else if (type = \"p\") {\r\n            currentPosts.push({ content: \"\", type: type });\r\n        }\r\n        this.setState({\r\n            post: currentPosts\r\n        });\r\n    }\r\n\r\n    savePost() {\r\n        let reqObj = { title: this.state.title, summary: this.state.summary, postId: this.props.postId };\r\n        let bodyString = \"\";\r\n        for (let i = 0; i < this.state.post.length; i++) {\r\n            let post = this.state.post[i];\r\n            if (post.type == \"t\") {\r\n                bodyString += \"<t%>\" + post.content + \"<%b%>\"\r\n            } else {\r\n                bodyString += \"<p%>\" + post.content + \"<%b%>\"\r\n            }\r\n        }\r\n        bodyString = bodyString.substring(0, bodyString.length - 5);\r\n        reqObj.body = bodyString;\r\n        if (this.state.createPost == true) {\r\n            axios.post(window.api_prefix+\"/createBlogPost\", { token: this.props.token, post: reqObj }).then(resp => {\r\n                this.props.returnDashboard();\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    this.setState({\r\n                        errorMessage: err.response.data.message\r\n                    });\r\n                }\r\n            });\r\n        } else {\r\n            axios.post(window.api_prefix+\"/updateBlogPost\", { token: this.props.token, post: reqObj }).then(resp => {\r\n                this.props.returnDashboard();\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    this.setState({\r\n                        errorMessage: err.response.data.message\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { t } = this.props;\r\n        if (this.state.isDataLoading == true) {\r\n            return <p>Loading...</p>;\r\n        }\r\n        let paragraphs = this.state.post.map((parag, key) => {\r\n            if (parag.type == \"p\") {\r\n                return (\r\n                    <div>\r\n                        <p className={styles.regularText + \" title2\"}>Section text</p>\r\n                        <textarea className={styles.textareaNoMargin} key={key} type=\"text\" onChange={this.handleInputChange.bind(this, key)} value={parag.content} />\r\n                        <button className={styles.button} onClick={this.handleRemoveSection.bind(this, key)} > Remove</button>\r\n                    </div>\r\n\r\n                );\r\n            } else if (parag.type == \"t\") {\r\n                return (\r\n                    <div>\r\n                        <p className={styles.regularText + \" title2\"}>Section title</p>\r\n                        <textarea className={styles.textareaNoMargin} key={key} type=\"text\" onChange={this.handleInputChange.bind(this, key)} value={parag.content} />\r\n                        <br />\r\n                        <button className={styles.button} onClick={this.handleRemoveSection.bind(this, key)}>Remove</button>\r\n                    </div>\r\n                );\r\n            } else {\r\n                return null;\r\n            }\r\n        });\r\n        return (\r\n            <div>\r\n                <div id={styles.articleContainer}>\r\n                    <p className={styles.regularText + \" title2\"}>Post title</p>\r\n                    <textarea className={styles.textarea} type=\"text\" name=\"title\" value={this.state.title} onChange={this.handleNameInputChange} />\r\n                    <p className={styles.regularText + \" title2\"}>Post summary</p>\r\n                    <textarea className={styles.textarea} type=\"text\" name=\"summary\" value={this.state.summary} onChange={this.handleNameInputChange} />\r\n                    {paragraphs}\r\n                    <button className={styles.inlineButton} onClick={() => { this.addSection(\"t\") }}>Add section title</button>\r\n                    <button className={styles.inlineButton} onClick={() => { this.addSection(\"p\") }}>Add section text</button>\r\n                    <br />\r\n                    <button className={styles.button} onClick={this.savePost}>Save post</button>\r\n                </div>\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default withTranslation()(Index);\r\n","import React from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport styles from \"../style/employeeStyle.module.css\";\r\nimport axios from \"axios\";\r\nclass Index extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            isDataLoading: true,\r\n            listings: [],\r\n            errorMessage: \"\"\r\n        }\r\n        this.verifyListing = this.verifyListing.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        axios.get(window.api_prefix+\"/allListingsToVerify\").then(resp => {\r\n            this.setState({\r\n                listings: resp.data,\r\n                isDataLoading: false\r\n            });\r\n        });\r\n    }\r\n\r\n    verifyListing(key, listingId, decision) {\r\n        axios.post(window.api_prefix+\"/verifyListing\", { update: { decision: decision, listingId: listingId }, token: this.props.token }).then(resp => {\r\n            let currentListings = this.state.listings;\r\n            currentListings.splice(key, 1);\r\n            this.setState({\r\n                listings: currentListings\r\n            });\r\n        }).catch(err => {\r\n            if (err.response) {\r\n                this.setState({\r\n                    errorMessage: err.response.data.message\r\n                });\r\n            }\r\n        });\r\n    }\r\n    render() {\r\n        const { t } = this.props;\r\n\r\n        if (this.state.isDataLoading == true) {\r\n            return <p>Loading...</p>;\r\n        }\r\n        let listings = <p>No listings to verify</p>;\r\n        if (this.state.listings.length > 0) {\r\n            listings = this.state.listings.map((listing, key) => {\r\n                return (\r\n                    <div key={key} style={{ marginBottom: \"50px\", border: \"1px solid #000\", padding: \"20px\" }}>\r\n                        <img style={{ height: \"200px\" }} src={listing.verificationpicture} />\r\n                        <p>Listing id: {listing.id}</p>\r\n                        <p>Type: {listing.title}</p>\r\n                        <p>Paper must contain @{listing.sellerusername} and token {listing.verificationtimestamp}</p>\r\n                        <button onClick={() => { this.verifyListing(key, listing.id, 3) }}>Accept</button>\r\n                        <button onClick={() => { this.verifyListing(key, listing.id, 2) }}>Decline</button>\r\n                    </div>\r\n                );\r\n            });\r\n        }\r\n        return (\r\n            <div>\r\n                <div id={styles.articleContainer}>\r\n                    <p className={\"megaTitle\"}>Verify listings</p>\r\n                    {listings}\r\n                </div>\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default withTranslation()(Index);\r\n","import React from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { Link } from \"react-router-dom\";\r\nimport styles from \"../style/employeeStyle.module.css\";\r\nimport axios from \"axios\";\r\nclass Index extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            userName:\"\",\r\n            signupSource:0,\r\n            email:\"\",\r\n            errorMessage:\"\",\r\n            description:\"\",\r\n            signupSourceValues:[\"organic\",\"guest_fake_supply\"],\r\n            allGuestUsers:[],\r\n            guestUserSelect:0\r\n        }\r\n        this.createUser = this.createUser.bind(this);\r\n        this.handleChange = this.handleChange.bind(this);\r\n    }\r\n    componentDidMount() {\r\n        axios.get(window.api_prefix+\"/getAllGuestUsers\").then(resp=>{\r\n            this.setState({\r\n                allGuestUsers:resp.data\r\n            });\r\n        }).catch(err=>{\r\n            if(err.response){\r\n                alert(\"Error retrieving guest users\");\r\n            }\r\n        });\r\n    }\r\n\r\n    handleChange(e){\r\n        const {name, value} = e.target;\r\n        this.setState({\r\n            [name]:value\r\n        })\r\n    }\r\n\r\n    createUser() {\r\n        this.setState({\r\n            errorMessage: \"\"\r\n        });\r\n        if(this.state.userName.length==0 || this.state.description.length==0){\r\n            return this.setState({\r\n                errorMessage:\"Please fill in all fields.\"\r\n            });\r\n        }\r\n        axios.post(window.api_prefix+\"/createGuestUser\", { email:this.state.email, username:this.state.userName, description:this.state.description }).then(resp => {\r\n           alert(\"SUCCESS!\");\r\n        }).catch(err => {\r\n            if (err.response) {\r\n                this.setState({\r\n                    errorMessage: err.response.data.message\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    render() {\r\n        let allGuestUsers = this.state.allGuestUsers.map((user, key)=>{\r\n            return (\r\n                <option key={key} value={key}>{user.name}</option>\r\n            );\r\n        });\r\n        let guestUserLinkValue = \"\";\r\n        if(allGuestUsers.length>0){\r\n            guestUserLinkValue = \"https://joincambio.com/signup?token=50&pwd=\"+this.state.allGuestUsers[this.state.guestUserSelect].password+\"&uid=\"+this.state.allGuestUsers[this.state.guestUserSelect].id;\r\n        }\r\n        return (\r\n            <div>\r\n                <div id={styles.articleContainer}>\r\n                    <p className={\"regularText \" + styles.regularText}>username</p>\r\n                    <input type={\"text\"} value={this.state.userName} onChange={this.handleChange} name={\"userName\"} />\r\n                    <p className={\"regularText \" + styles.regularText}>email</p>\r\n                    <input type={\"text\"} value={this.state.email} onChange={this.handleChange} name={\"email\"} />\r\n                    <p className={\"regularText \" + styles.regularText}>description</p>\r\n                    <textarea value={this.state.description} name={\"description\"} onChange={this.handleChange}></textarea>\r\n                    {this.state.errorMessage.length > 0 ? this.state.errorMessage : null}\r\n                    <button className={styles.button} onClick={this.createUser}>Create user</button>\r\n                    <p className={\"title2\"}>Guest user signup link generator</p>\r\n                    <select name=\"guestUserSelect\" value={this.state.guestUserSelect} onChange={this.handleChange}>\r\n                        {allGuestUsers}\r\n                    </select>\r\n                    <input type={\"text\"} value={guestUserLinkValue} />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default withTranslation()(Index);\r\n","import React from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport axios from \"axios\";\r\nimport styles from \"public/style/newListing.module.css\";\r\nimport queryString from \"query-string\";\r\nimport {integerMoneyToDecimal, integerToMoneyString} from \"miscFunctions\";\r\nimport Spinner from \"microComponents/LoaderAnimation\";\r\n\r\n\r\nclass NewListing extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            title: \"\",\r\n            category: 1,\r\n            price: 1,\r\n            description: \"\",\r\n            pictures: [],\r\n            condition: 0,\r\n            categoryOptions: [],\r\n            filterTypes: [],\r\n            listingId: 0,\r\n            listingMode: 0, //0 = new listing, 1 = edit listing, 2 = draft mode\r\n            formError: \"\",\r\n            isDataLoading: false,\r\n            currentPage:0,\r\n\r\n\r\n            predefItemSearch:\"\",\r\n            isUnlistedItemModalDisplayed:false,\r\n            recommendItemInput:\"\",\r\n            blockAutofillDiv:false,\r\n            predefItemsSearchResult:[],\r\n            predefItemId:-1,\r\n            predefItemName:\"\",\r\n            allGuestUsers:[],\r\n\r\n            guestUserSelect:0\r\n        }\r\n\r\n        this.pictureInputRef = React.createRef();\r\n        this.predefItemAutofillRef = React.createRef();\r\n        this.predefItemInputRef = React.createRef();\r\n\r\n        this.handleInputChange = this.handleInputChange.bind(this);\r\n        this.handleImageUpload = this.handleImageUpload.bind(this);\r\n        this.removePicture = this.removePicture.bind(this);\r\n        this.handleFilterValueChange = this.handleFilterValueChange.bind(this);\r\n        this.postListing = this.postListing.bind(this);\r\n        // this.fetchFilters = this.fetchFilters.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        let listingId;\r\n        let listingMode;\r\n        if (queryString.parse(window.location.search).listingid && queryString.parse(window.location.search).listingmode) {\r\n            listingId = queryString.parse(window.location.search).listingid;\r\n            listingMode = queryString.parse(window.location.search).listingmode;\r\n            if (listingMode == 1 || listingMode == 2) {\r\n                axios.get(window.api_prefix+\"/listingDetails?id=\" + listingId).then(resp => {\r\n                    let listingDetails = resp.data.listingDetails;\r\n                    let filters = resp.data.filters;\r\n                    if (listingDetails) {\r\n                        this.setState({\r\n                            title: listingDetails.title,\r\n                            price: integerMoneyToDecimal(listingDetails.price),\r\n                            condition: listingDetails.condition,\r\n                            description: listingDetails.description,\r\n                            pictures: listingDetails.pictures,\r\n                            category: listingDetails.categoryid,\r\n                            listingMode: 1,\r\n                            currentPage:1,\r\n                            listingId: listingId\r\n                        });\r\n                    } else {\r\n                        this.setState({\r\n                            listingMode: 0\r\n                        });\r\n                    }\r\n                });\r\n            } else {\r\n                axios.get(window.api_prefix+\"/getAllGuestUsers\").then(resp=>{\r\n                    this.setState({\r\n                        allGuestUsers:resp.data\r\n                    });\r\n                }).catch(err=>{\r\n                    if(err.response){\r\n                      alert(\"Error retrieving guest users\");\r\n                    }\r\n                });\r\n                this.setState({\r\n                    listingMode: 0\r\n                });\r\n            }\r\n        } else {\r\n            axios.get(window.api_prefix+\"/getAllGuestUsers\").then(resp=>{\r\n                this.setState({\r\n                    allGuestUsers:resp.data\r\n                });\r\n            }).catch(err=>{\r\n                if(err.response){\r\n                    alert(\"Error retrieving guest users\");\r\n                }\r\n            });\r\n            this.setState({\r\n                listingMode: 0\r\n            });\r\n        }\r\n        axios.get(window.api_prefix+\"/allLeafCategories\").then(resp => {\r\n            this.setState({\r\n                categoryOptions: resp.data\r\n            });\r\n        }).catch();\r\n\r\n\r\n        document.addEventListener(\"click\", (e) => {\r\n            if (this.predefItemAutofillRef.current) {\r\n                //search suggest is active\r\n                if (e.target !== this.predefItemAutofillRef.current && !e.target.classList.contains(styles.predefItemAutoFillInnerContainer)) {\r\n                    this.setState({\r\n                        blockAutofillDiv:true\r\n                    })\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    handleInputChange(e) {\r\n        const {name, value} = e.target;\r\n        if (name == \"category\") {\r\n            // this.fetchFilters(value);\r\n            this.setState({\r\n                [name]: value\r\n            });\r\n        } else if(name == \"predefItemSearch\"){\r\n            this.setState({\r\n                [name]: value,\r\n                blockAutofillDiv:false,\r\n                predefItemsSearchResult:[]\r\n            });\r\n            if(value.length>0){\r\n                axios.get(window.api_prefix+\"/searchPredefItemsByName?search=\"+value).then(resp=>{\r\n                    this.setState({\r\n                        predefItemsSearchResult:resp.data\r\n                    })\r\n                }).catch();\r\n            }\r\n        }else{\r\n            this.setState({\r\n                [name]: value\r\n            });\r\n        }\r\n    }\r\n\r\n    handleFilterValueChange(arrayIndex, event) {\r\n        let allFilters = this.state.filterTypes;\r\n        let currentFilter = allFilters[arrayIndex];\r\n        if (currentFilter.type == 0) {\r\n            currentFilter.userSelection = event.target.value;\r\n        } else if (currentFilter.type == 1) {\r\n            currentFilter.userSelection = event.target.value;\r\n            currentFilter.searchValue = \"\";\r\n        } else if (currentFilter.type == 2) {\r\n            currentFilter.userSelection = event.target.value;\r\n        }\r\n        allFilters[arrayIndex] = currentFilter;\r\n        this.setState({\r\n            filterTypes: allFilters\r\n        });\r\n    }\r\n\r\n    handleCustomFilterValueChange(arrayIndex, event) {\r\n        let allFilters = this.state.filterTypes;\r\n        let currentFilter = allFilters[arrayIndex];\r\n        currentFilter.searchValue = event.target.value;\r\n        allFilters[arrayIndex] = currentFilter;\r\n        this.setState({\r\n            filterTypes: allFilters\r\n        });\r\n    }\r\n\r\n    removePicture(index) {\r\n        let currentPictures = this.state.pictures;\r\n        currentPictures.splice(index, 1);\r\n        // axios.post(window.api_prefix+\"/removeListingPicture\").then(resp => {\r\n\r\n        // }).catch(err => {\r\n\r\n        // });\r\n        this.setState({\r\n            pictures: currentPictures\r\n        });\r\n    }\r\n\r\n    handleImageUpload(e) {\r\n        let file = e.target.files;\r\n        try {\r\n            if (!file) {\r\n                throw new Error('Select a file first!');\r\n            }\r\n            let availableNbPictures = 5 - this.state.pictures.length;\r\n            let nbPicturesCompleted = 0;\r\n            this.setState({\r\n                isDataLoading: true\r\n            });\r\n            let nbFiles = file.length;\r\n            for (let i = 0; i < nbFiles; i++) {\r\n                if (i >= availableNbPictures) {\r\n                    this.setState({\r\n                        isDataLoading: false,\r\n                        formError: \"You have uploaded the maximum number of pictures. Only \" + availableNbPictures + \" pictures were uploaded.\"\r\n                    });\r\n                    return;\r\n                }\r\n                let fileName = file[i].name;\r\n                const formData = new FormData();\r\n                formData.append('file', file[i]);\r\n                axios.post(window.api_prefix+`/uploadListingPicture`, formData, {\r\n                    headers: {\r\n                        'Content-Type': 'multipart/form-data',\r\n                    },\r\n                }).then(resp => {\r\n                    nbPicturesCompleted++;\r\n                    if (nbPicturesCompleted == nbFiles) {\r\n                        this.setState({\r\n                            isDataLoading: false\r\n                        });\r\n                    }\r\n                    let currentPictures = this.state.pictures;\r\n                    currentPictures.push(resp.data.Location);\r\n                    this.setState({\r\n                        pictures: currentPictures\r\n                    });\r\n                }).catch(err => {\r\n                    if (err.response) {\r\n                        this.setState({\r\n                            isDataLoading: false,\r\n                            formError: \"Your file \" + fileName + \" could not be uploaded, please try again.\"\r\n                        });\r\n                    }\r\n                });\r\n            }\r\n            this.pictureInputRef.current.value = null;\r\n        } catch (error) {\r\n            // handle error\r\n            this.setState({\r\n                isDataLoading: false\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n    postListing() {\r\n        // let filters = this.state.filterTypes;\r\n        // let title = this.state.title;\r\n        // let cat = this.state.category;\r\n        let price = this.state.price;\r\n        let description = this.state.description;\r\n        let condition = this.state.condition;\r\n        let predefType = this.state.predefItemId;\r\n        let predefTypeName = this.state.predefItemName;\r\n\r\n        let pictures = this.state.pictures;\r\n\r\n        let sellerId = this.state.allGuestUsers[this.state.guestUserSelect].id;\r\n\r\n        if(predefType != -1 && predefTypeName.length>0){\r\n            if (price.toString().length > 0 && price.toString().length < 255) {\r\n                if (description.length < 255) {\r\n                    if (pictures.length > 0) {\r\n                        if (pictures.length < 6) {\r\n                            let reqObj = { listingId: this.state.listingId, predefTypeName:predefTypeName, price: price, description: description, sellerId:sellerId ,condition: condition, pictures: pictures, predefType:predefType};\r\n                            if (this.state.listingMode == 1) {\r\n                                axios.post(window.api_prefix+\"/editGuestListing\", reqObj).then((resp) => {\r\n                                   alert(\"SUCCESS!!\");\r\n                                }).catch(err=>{\r\n                                    if(err.response){\r\n                                        alert(\"ERROR!\");\r\n                                    }\r\n                                });\r\n                            } else {\r\n                                axios.post(window.api_prefix+\"/postGuestListing\", reqObj).then(resp => {\r\n                                    alert(\"SUCCESS!!\");\r\n                                }).catch(err=>{\r\n                                    if(err.response){\r\n                                        alert(\"ERROR!\");\r\n                                    }\r\n                                });\r\n                            }\r\n                        } else {\r\n                            this.setState({\r\n                                formError: \"You have exceeded the amount of authorized pictures. Please remove at least 1 picture.\"\r\n                            });\r\n                        }\r\n                    } else {\r\n                        this.setState({\r\n                            formError: \"Please upload at least 1 picture.\"\r\n                        });\r\n                    }\r\n                } else {\r\n                    this.setState({\r\n                        formError: \"Your listing description should be between 1 and 255 characters.\"\r\n                    });\r\n                }\r\n            } else {\r\n                this.setState({\r\n                    formError: \"Please fill in a listing price.\"\r\n                });\r\n            }\r\n        }else{\r\n            this.setState({\r\n                formError: \"Please select an item type that we accept.\"\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n        const { t } = this.props;\r\n        let smallPictures = [];\r\n        //start from second picture\r\n        if (this.state.pictures.length > 1) {\r\n            for (let i = 1; i < this.state.pictures.length; i++) {\r\n                smallPictures.push(<div key={i} style={{ backgroundImage: \"url('/assets/landingPage/stockPic3.jpg')\" }} className={styles.smallPictureImg}></div>);\r\n            }\r\n        }\r\n\r\n\r\n\r\n\r\n        let conditionsOptionsArray = [\r\n            {\r\n                id: 0,\r\n                name: \"New (sealed)\"\r\n            },\r\n            {\r\n                id: 1,\r\n                name: \"Like new\"\r\n            },\r\n            {\r\n                id: 2,\r\n                name: \"Lightly used\"\r\n            },\r\n            {\r\n                id: 3,\r\n                name: \"Used\"\r\n            },\r\n            {\r\n                id: 4,\r\n                name: \"Broken\"\r\n            },\r\n            {\r\n                id: 5,\r\n                name: \"For parts\"\r\n            }\r\n        ];\r\n\r\n        let conditionsOptions = conditionsOptionsArray.map((cond, key) => {\r\n            return (\r\n                <option key={key} value={cond.id}>{cond.name}</option>\r\n            );\r\n        });\r\n\r\n        let pageTitle = \"New listing\";\r\n\r\n        if (this.state.listingMode == 1) {\r\n            pageTitle = \"Edit listing\";\r\n        } else if (this.state.listingMode == 2) {\r\n            pageTitle = \"Publish draft listing\";\r\n        }else if(this.state.listingMode == 0 && this.state.predefItemName.length>0){\r\n            pageTitle = \"Selling \"+this.state.predefItemName;\r\n        }\r\n\r\n        let picturePreviews = this.state.pictures.map((pics, key) => {\r\n            return (\r\n                <div key={key} className={styles.pictureSquare} onClick={() => this.removePicture(key)} style={{ backgroundImage: \"url('\" + pics + \"')\" }}>\r\n                    <div>\r\n                        <img src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/x.svg\" />\r\n                    </div>\r\n                </div>\r\n            );\r\n        });\r\n\r\n        let predefItemAutofill = null;\r\n        if(this.predefItemInputRef.current){\r\n            let autofillInputPos = this.predefItemInputRef.current.getBoundingClientRect();\r\n            if(this.state.currentPage != 1 && this.state.predefItemSearch.length > 0 && this.state.blockAutofillDiv == false){\r\n                predefItemAutofill = (\r\n                    <div id={styles.predefItemAutofillContainer} style={{left:autofillInputPos.left, top:autofillInputPos.top+50, width:this.predefItemInputRef.current.offsetWidth}} ref={this.predefItemAutofillRef}>\r\n                        {this.state.predefItemsSearchResult.length == 0 ?\r\n                            <p>No result</p>\r\n                            :\r\n                            this.state.predefItemsSearchResult.map((item, key)=>{\r\n                                return (\r\n                                    <div className={styles.predefItemAutofillInnerContainer} key={key} onClick={()=>{\r\n                                        this.setState(prevState=>({\r\n                                            currentPage:1,\r\n                                            predefItemId:prevState.predefItemsSearchResult[key].id,\r\n                                            predefItemName:prevState.predefItemsSearchResult[key].title\r\n                                        }));\r\n                                    }}>\r\n                                        <p>{item.title}</p>\r\n                                    </div>\r\n                                )\r\n                            })\r\n                        }\r\n                    </div>\r\n                );\r\n            }\r\n        }\r\n\r\n        let currentPage;\r\n\r\n        let guestUserOptions = this.state.allGuestUsers.map((user, key)=>{\r\n            return (\r\n                <option value={key} key={key}>@{user.name}</option>\r\n            );\r\n        });\r\n        if(this.state.currentPage == 1){\r\n            currentPage = (\r\n                <div id={styles.formContainer}>\r\n                    <p className={styles.regularText + \" title1\"}>{pageTitle}</p>\r\n                    <p className={styles.regularTextHalfMargin + \" regularTextMedium\"}>Seller user name</p>\r\n                    <select value={this.state.guestUserSelect} onChange={this.handleInputChange} className={styles.selectInput + \" regularText\"} name=\"guestUserSelect\">\r\n                        {guestUserOptions}\r\n                    </select>\r\n                    <p className={styles.regularTextHalfMargin + \" regularTextMedium\"}>In what condition is the item?</p>\r\n                    <select value={this.state.condition} onChange={this.handleInputChange} className={styles.selectInput + \" regularText\"} name=\"condition\">\r\n                        {conditionsOptions}\r\n                    </select>\r\n                    <p className={styles.regularTextHalfMargin + \" regularTextMedium\"}>At what price will your item be listed?</p>\r\n                    <input min=\"1\" step=\"0.05\" className={styles.textInput + \" regularText\"} name=\"price\" value={this.state.price} onChange={this.handleInputChange} type=\"number\"></input>\r\n\r\n                    <p className={styles.regularTextHalfMargin + \" regularTextMedium\"}>List all defects, errors, missing parts your item might have</p>\r\n                    <textarea id={styles.descriptionTextarea} name=\"description\" value={this.state.description} onChange={this.handleInputChange}></textarea>\r\n                    <p className={styles.regularTextHalfMargin + \" regularTextMedium\"}>Pictures</p>\r\n                    {picturePreviews}\r\n                    {\r\n                        this.state.pictures.length < 5 ?\r\n                            <label id={styles.fileInputLabel} htmlFor={styles.fileInput}>\r\n                                <div>\r\n                                    <img src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/plus.svg\" />\r\n                                </div>\r\n                            </label>\r\n                            :\r\n                            null\r\n                    }\r\n                    <input id={styles.fileInput} onChange={this.handleImageUpload} ref={this.pictureInputRef} type=\"file\" accept=\".jpg, .jpeg, .png, .svg\" multiple></input>\r\n                    <p>{this.state.formError}</p>\r\n                    <button className={\"buttonCta regularTextMedium \" + styles.ctaButton} onClick={this.postListing}>List now</button>\r\n                </div>\r\n            );\r\n        }else{\r\n            currentPage = (\r\n                <div id={styles.formContainer}>\r\n                    <p className={styles.regularText + \" title1\"}>{pageTitle}</p>\r\n                    <p className={styles.regularTextHalfMargin + \" regularTextMedium\"}>What item are you selling?</p>\r\n                    <input ref={this.predefItemInputRef} className={styles.textInput + \" regularText\"} placeholder={\"search for brand, model, color, storage\"} name=\"predefItemSearch\" value={this.state.predefItemSearch} onChange={this.handleInputChange} type=\"text\"></input>\r\n                    <p>{this.state.formError}</p>\r\n                </div>\r\n            );\r\n        }\r\n        return (\r\n            <div>\r\n                <div id={styles.topMainContainer}>\r\n                    {currentPage}\r\n                </div>\r\n                {predefItemAutofill}\r\n                {\r\n                    this.state.isDataLoading == true ?\r\n                        <Spinner />\r\n                        :\r\n                        null\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default withTranslation()(NewListing);\r\n","import React from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport axios from \"axios\";\r\nimport styles from \"public/style/newListing.module.css\";\r\nimport queryString from \"query-string\";\r\nimport Spinner from \"microComponents/LoaderAnimation\";\r\n\r\n\r\nclass NewListing extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            title: \"\",\r\n            category: 1,\r\n            categoryOptions: [],\r\n            filterTypes: [],\r\n            listingId: 0,\r\n            listingMode: 0, //0 = new listing, 1 = edit listing, 2 = draft mode\r\n            formError: \"\",\r\n            isDataLoading: false\r\n        }\r\n\r\n\r\n        this.handleInputChange = this.handleInputChange.bind(this);\r\n        this.handleFilterValueChange = this.handleFilterValueChange.bind(this);\r\n        this.postListing = this.postListing.bind(this);\r\n        this.fetchFilters = this.fetchFilters.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        let listingId;\r\n        let listingMode;\r\n        if (queryString.parse(window.location.search).listingid && queryString.parse(window.location.search).listingmode) {\r\n            listingId = queryString.parse(window.location.search).listingid;\r\n            listingMode = queryString.parse(window.location.search).listingmode;\r\n            if (listingMode == 1 || listingMode == 2) {\r\n                axios.get(window.api_prefix+\"/listingDetails?id=\" + listingId).then(resp => {\r\n                    let listingDetails = resp.data.listingDetails;\r\n                    let filters = resp.data.filters;\r\n                    if (listingDetails) {\r\n                        this.setState({\r\n                            title: listingDetails.title,\r\n                            category: listingDetails.categoryid,\r\n                            listingMode: 1,\r\n                            listingId: listingId\r\n                        });\r\n                        this.fetchFilters(listingDetails.categoryid, () => {\r\n                            let currentFilters = this.state.filterTypes;\r\n                            for (let i = 0; i < currentFilters.length; i++) {\r\n                                for (let j = 0; j < filters.length; j++) {\r\n                                    if (currentFilters[i].id == filters[j].filtertypeid) {\r\n                                        if (currentFilters[i].type == 0) {\r\n                                            currentFilters[i].userSelection = filters[j].value;\r\n                                        } else if (currentFilters[i].type == 1) {\r\n                                            if (filters[j].value == -1) {\r\n                                                currentFilters[i].searchValue = filters[j].textvalue;\r\n                                            } else {\r\n                                                currentFilters[i].searchValue = \"\";\r\n                                                let optionIndex = 0;\r\n                                                for (let k = 0; k < currentFilters[i].options.length; k++) {\r\n                                                    if (currentFilters[i].options[k].value == filters[j].value) {\r\n                                                        optionIndex = k;\r\n                                                        break;\r\n                                                    }\r\n                                                }\r\n                                                currentFilters[i].searchValue = optionIndex;\r\n                                            }\r\n                                        } else if (currentFilters[i].type == 2) {\r\n                                            currentFilters[i].userSelection = filters[j].value;\r\n                                        }\r\n                                        filters.splice(j, 1);\r\n                                        break;\r\n                                    }\r\n                                }\r\n                            }\r\n                            this.setState({\r\n                                filterTypes: currentFilters\r\n                            });\r\n                        });\r\n                    } else {\r\n                        this.setState({\r\n                            listingMode: 0\r\n                        });\r\n                    }\r\n                });\r\n            } else {\r\n                this.fetchFilters(1, null);\r\n                this.setState({\r\n                    listingMode: 0\r\n                });\r\n            }\r\n        } else {\r\n            this.fetchFilters(1, null);\r\n            this.setState({\r\n                listingMode: 0\r\n            });\r\n        }\r\n        axios.get(window.api_prefix+\"/allLeafCategories\").then(resp => {\r\n            this.setState({\r\n                categoryOptions: resp.data\r\n            });\r\n        }).catch();\r\n    }\r\n\r\n    fetchFilters(value, cb) {\r\n        axios.get(window.api_prefix+\"/getFiltersFromCategoryIdForPredefinedItem?id=\" + value).then(resp => {\r\n            if (resp.data.filterValues && resp.data.filterTypes && resp.data.filterValues.length > 0 && resp.data.filterTypes.length > 0) {\r\n                let filterTypes = resp.data.filterTypes;\r\n                let filterValues = resp.data.filterValues;\r\n                for (let i = 0; i < filterTypes.length; i++) {\r\n                    filterTypes[i].options = [];\r\n                    if (filterTypes[i].type == 0) {\r\n                        filterTypes[i].userSelection = 0;\r\n                    } else if (filterTypes[i].type == 1) {\r\n                        filterTypes[i].searchValue = \"\";\r\n                        filterTypes[i].userSelection = -1;\r\n                    } if (filterTypes[i].type == 2) {\r\n                        filterTypes[i].userSelection = 0;\r\n                    }\r\n                }\r\n                for (let i = 0; i < filterValues.length; i++) {\r\n                    for (let j = 0; j < filterTypes.length; j++) {\r\n                        if (filterValues[i].filtertypeid == filterTypes[j].id) {\r\n                            if (filterTypes[j].type == 1) {\r\n                                filterTypes[j].options.push(filterValues[i]);\r\n                                filterTypes[j].userSelection = filterTypes[j].options.length - 1;\r\n                            }\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n                this.setState({\r\n                    filterTypes: filterTypes,\r\n                }, cb);\r\n            } else {\r\n                this.setState({\r\n                    filterTypes: [],\r\n                }, cb);\r\n            }\r\n        }).catch();\r\n    }\r\n\r\n    handleInputChange(e) {\r\n        const { name, value } = e.target;\r\n        if (name == \"category\") {\r\n            // this.fetchFilters(value);\r\n            this.setState({\r\n                [name]: value\r\n            });\r\n        } else {\r\n            this.setState({\r\n                [name]: value\r\n            });\r\n        }\r\n    }\r\n\r\n    handleFilterValueChange(arrayIndex, event) {\r\n        let allFilters = this.state.filterTypes;\r\n        let currentFilter = allFilters[arrayIndex];\r\n        if (currentFilter.type == 0) {\r\n            currentFilter.userSelection = event.target.value;\r\n        } else if (currentFilter.type == 1) {\r\n            currentFilter.userSelection = event.target.value;\r\n            currentFilter.searchValue = \"\";\r\n        } else if (currentFilter.type == 2) {\r\n            currentFilter.userSelection = event.target.value;\r\n        }\r\n        allFilters[arrayIndex] = currentFilter;\r\n        this.setState({\r\n            filterTypes: allFilters\r\n        });\r\n    }\r\n\r\n    handleCustomFilterValueChange(arrayIndex, event) {\r\n        let allFilters = this.state.filterTypes;\r\n        let currentFilter = allFilters[arrayIndex];\r\n        currentFilter.searchValue = event.target.value;\r\n        allFilters[arrayIndex] = currentFilter;\r\n        this.setState({\r\n            filterTypes: allFilters\r\n        });\r\n    }\r\n\r\n\r\n    postListing() {\r\n        let filters = this.state.filterTypes;\r\n        let title = this.state.title;\r\n        let cat = this.state.category;\r\n\r\n        let filtersType0 = [];\r\n        let filtersType1Custom = [];\r\n        let filtersType1Predefined = [];\r\n        let filtersType2 = [];\r\n        for (let i = 0; i < filters.length; i++) {\r\n            if (filters[i].type == 0) {\r\n                filtersType0.push({ id: filters[i].id, value: filters[i].userSelection });\r\n            } else if (filters[i].type == 1) {\r\n                if (filters[i].userSelection == -1 || filters[i].searchValue.length > 0) {\r\n                    filtersType1Custom.push({ id: filters[i].id, searchValue: filters[i].searchValue });\r\n                } else {\r\n                    let value = filters[i].options[filters[i].userSelection].id;\r\n                    filtersType1Predefined.push({ id: filters[i].id, value: value });\r\n                }\r\n            } else if (filters[i].type == 2) {\r\n                filtersType2.push({ id: filters[i].id, value: filters[i].userSelection });\r\n            }\r\n        }\r\n\r\n        if (title.length > 0 && title.length < 255) {\r\n            for (let i = 0; i < filters.length; i++) {\r\n                console.log(filters[i]);\r\n            }\r\n\r\n            let reqObj = { listingId: this.state.listingId, title: title, cat: cat, filtersType0: filtersType0, filtersType1Custom: filtersType1Custom, filtersType1Predefined: filtersType1Predefined, filtersType2 };\r\n            if (this.state.listingMode == 1) {\r\n                axios.post(window.api_prefix+\"/editPredefItem\", reqObj).then((resp) => {\r\n                    alert(\"POSTED!\");\r\n                });\r\n            } else {\r\n                axios.post(window.api_prefix+\"/postPredefItem\", reqObj).then(resp => {\r\n                    alert(\"POSTED!\");\r\n                });\r\n            }\r\n        } else {\r\n            this.setState({\r\n                formError: \"Your listing title should be between 1 and 255 characters.\"\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n        const { t } = this.props;\r\n\r\n\r\n\r\n        let categoriesOptions = this.state.categoryOptions.map((cat, key) => {\r\n            return (\r\n                <option key={key} value={cat.id}>{cat.name}</option>\r\n            );\r\n        });\r\n\r\n\r\n        let filtersList;\r\n        if (this.state.filterTypes.length > 0) {\r\n            filtersList = this.state.filterTypes.map((filter, key) => {\r\n\r\n                if (filter.type == 0) {\r\n                    return (\r\n                        <div key={key}>\r\n                            <p className={styles.regularTextHalfMargin + \" regularTextMedium\"}>{filter.name}?</p>\r\n                            <select value={filter.userSelection} onChange={this.handleFilterValueChange.bind(this, key)} className={styles.selectInput + \" regularText\"}>\r\n                                <option value=\"0\">No</option>\r\n                                <option value=\"1\">Yes</option>\r\n                            </select>\r\n                            <button onClick={() => {\r\n                                let currentFilters = this.state.filterTypes;\r\n                                currentFilters.splice(key, 1);\r\n                                this.setState({\r\n                                    filterTypes: currentFilters\r\n                                });\r\n                            }}>Remove</button>\r\n                        </div>\r\n                    );\r\n                } else if (filter.type == 1) {\r\n                    let options = filter.options.map((option, key) => {\r\n                        return (\r\n                            <option value={key} key={key}>{option.textvalue}</option>\r\n                        );\r\n                    });\r\n                    let inputValue = \"\";\r\n                    if (filter.searchValue.length > 0 || filter.options.length == 0) {\r\n                        inputValue = filter.searchValue;\r\n                    } else {\r\n                        inputValue = filter.options[filter.userSelection].textvalue;\r\n                    }\r\n                    return (\r\n                        <div key={key}>\r\n                            <p className={styles.regularTextHalfMargin + \" regularTextMedium\"}>{filter.name}</p>\r\n                            <input type=\"text\" className={styles.textInput + \" regularText\"} value={inputValue} onChange={this.handleCustomFilterValueChange.bind(this, key)} ></input>\r\n                            {\r\n                                filter.options.length > 0 ?\r\n                                    <select value={filter.userSelection} onChange={this.handleFilterValueChange.bind(this, key)} className={styles.selectInput + \" regularText\"}>\r\n                                        {options}\r\n                                    </select>\r\n                                    :\r\n                                    null\r\n                            }\r\n                            <button onClick={() => {\r\n                                let currentFilters = this.state.filterTypes;\r\n                                currentFilters.splice(key, 1);\r\n                                this.setState({\r\n                                    filterTypes: currentFilters\r\n                                });\r\n                            }}>Remove</button>\r\n                        </div>\r\n                    );\r\n                } else if (filter.type == 2) {\r\n                    return (\r\n                        <div key={key}>\r\n                            <p className={styles.regularTextHalfMargin + \" regularTextMedium\"}># {filter.name}</p>\r\n                            <input type=\"number\" className={styles.textInput + \" regularText\"} step=\"1\" min=\"0\" max=\"1000\" value={filter.userSelection} onChange={this.handleFilterValueChange.bind(this, key)} ></input>\r\n                            <button onClick={() => {\r\n                                let currentFilters = this.state.filterTypes;\r\n                                currentFilters.splice(key, 1);\r\n                                this.setState({\r\n                                    filterTypes: currentFilters\r\n                                });\r\n                            }}>Remove</button>\r\n                        </div>\r\n                    );\r\n                }\r\n            });\r\n        } else {\r\n            filtersList = null;\r\n        }\r\n        let pageTitle = \"New listing\";\r\n\r\n        if (this.state.listingMode == 1) {\r\n            pageTitle = \"Edit listing\";\r\n        } else if (this.state.listingMode == 2) {\r\n            pageTitle = \"Publish draft listing\";\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                <div id={styles.topMainContainer}>\r\n                    <div id={styles.formContainer}>\r\n                        <p className={styles.regularText + \" title1\"}>{pageTitle}</p>\r\n                        <p className={styles.regularTextHalfMargin + \" regularTextMedium\"}>Title</p>\r\n                        <input className={styles.textInput + \" regularText\"} name=\"title\" value={this.state.title} onChange={this.handleInputChange} type=\"text\"></input>\r\n                        <p className={styles.regularTextHalfMargin + \" regularTextMedium\"}>Category</p>\r\n                        <select value={this.state.category} onChange={this.handleInputChange} className={styles.selectInput + \" regularText\"} name=\"category\">\r\n                            {categoriesOptions}\r\n                        </select>\r\n                        {filtersList}\r\n                        <p>{this.state.formError}</p>\r\n                        <button className={\"buttonCta regularTextMedium \" + styles.ctaButton} onClick={this.postListing}>List now</button>\r\n                    </div>\r\n                </div>\r\n\r\n                {\r\n                    this.state.isDataLoading == true ?\r\n                        <Spinner />\r\n                        :\r\n                        null\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default withTranslation()(NewListing);\r\n","import React from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport styles from \"../style/employeeStyle.module.css\";\r\nimport axios from \"axios\";\r\nimport {integerToMoneyString} from \"../../miscFunctions\";\r\nclass Index extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            isDataLoading: true,\r\n            listings: [],\r\n            offers:[],\r\n            errorMessage: \"\"\r\n        }\r\n        this.deleteListing = this.deleteListing.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        axios.get(window.api_prefix+\"/getAllGuestListings\").then(resp => {\r\n            this.setState({\r\n                listings: resp.data,\r\n                isDataLoading: false\r\n            });\r\n        });\r\n\r\n        axios.get(window.api_prefix+\"/getGuestOffers\").then(resp => {\r\n            this.setState({\r\n                offers: resp.data,\r\n                isDataLoading: false\r\n            });\r\n        });\r\n    }\r\n\r\n    deleteListing(key, listingId) {\r\n        axios.post(window.api_prefix+\"/deleteGuestListing\", { id:  listingId, token: this.props.token }).then(resp => {\r\n            let currentListings = this.state.listings;\r\n            currentListings.splice(key, 1);\r\n            this.setState({\r\n                listings: currentListings\r\n            });\r\n        }).catch(err => {\r\n            if (err.response) {\r\n                this.setState({\r\n                    errorMessage: err.response.data.message\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    acceptOffer(key, offerId) {\r\n        axios.post(window.api_prefix+\"/declineGuestOffer\", { id:  offerId, token: this.props.token }).then(resp => {\r\n            let currentOffers = this.state.offers;\r\n            currentOffers.splice(key, 1);\r\n            this.setState({\r\n                offers: currentOffers\r\n            });\r\n        }).catch(err => {\r\n            if (err.response) {\r\n                this.setState({\r\n                    errorMessage: err.response.data.message\r\n                });\r\n            }\r\n        });\r\n    }\r\n    declineOffer(key, offerId) {\r\n        axios.post(window.api_prefix+\"/acceptGuestOffer\", { id:  offerId, token: this.props.token }).then(resp => {\r\n            let currentOffers = this.state.offers;\r\n            currentOffers.splice(key, 1);\r\n            this.setState({\r\n                offers: currentOffers\r\n            });\r\n        }).catch(err => {\r\n            if (err.response) {\r\n                this.setState({\r\n                    errorMessage: err.response.data.message\r\n                });\r\n            }\r\n        });\r\n    }\r\n    render() {\r\n        const { t } = this.props;\r\n\r\n        if (this.state.isDataLoading == true) {\r\n            return <p>Loading...</p>;\r\n        }\r\n        let listings = <p>No listings to verify</p>;\r\n        if (this.state.listings.length > 0) {\r\n            listings = this.state.listings.map((listing, key) => {\r\n                return (\r\n                    <div key={key} style={{ marginBottom: \"50px\", border: \"1px solid #000\", padding: \"20px\" }}>\r\n                        <p>Listing id: {listing.id}</p>\r\n                        <p>Seller: @{listing.sellername}</p>\r\n                        <p>Type: {listing.title}</p>\r\n                        <button onClick={() => { this.deleteListing(key, listing.id) }}>Delete</button>\r\n                    </div>\r\n                );\r\n            });\r\n        }\r\n\r\n        let offers = <p>No offers to accept</p>\r\n        if (this.state.offers.length > 0) {\r\n            offers = this.state.offers.map((offer, key) => {\r\n                return (\r\n                    <div key={key} style={{ marginBottom: \"50px\", border: \"1px solid #000\", padding: \"20px\" }}>\r\n                        <p>offer id: {offer.id}</p>\r\n                        <p>Amount: {integerToMoneyString(offer.amount)}</p>\r\n                        <p>Seller description:</p>\r\n                        <p>@{offer.sellername}</p>\r\n                        <p>{offer.sellerdescription}</p>\r\n                        <button onClick={() => { this.acceptOffer(key, offer.id) }}>Accept</button>\r\n                        <button onClick={() => { this.declineOffer(key, offer.id) }}>Decline</button>\r\n                    </div>\r\n                );\r\n            });\r\n        }\r\n        return (\r\n            <div>\r\n                <div id={styles.articleContainer}>\r\n                    <p className={\"megaTitle\"}>Guest listings</p>\r\n                    {listings}\r\n                    <p className={\"megaTitle\"}>Guest listings offers</p>\r\n                    {offers}\r\n                </div>\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default withTranslation()(Index);\r\n","import React from \"react\";\r\nimport styles from \"../../public/style/authenticationForms.module.css\";\r\nimport styles2 from \"../style/employeeStyle.module.css\";\r\n\r\nimport Spinner from \"../../microComponents/LoaderAnimation\";\r\nimport axios from \"axios\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport AllBlogPosts from \"./BlogPosts\";\r\nimport EditBlogPost from \"./EditBlogPost\";\r\nimport AllListings from \"./Listings\";\r\nimport NewGuestUser from \"./NewGuestUsers\";\r\nimport NewGuestListing from \"./NewGuestListing\";\r\n\r\n\r\nimport PredefinedItems from \"./PredefinedItems\";\r\nimport NewGuestUsers from \"./NewGuestUsers\";\r\nimport ExistingGuestListings from \"./ExistingGuestListings\";\r\n\r\nconst emailRegex = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n\r\nclass Dashboard extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            activePage: 0, //0 = login, 1 = dashboard, 2 = all blog posts, 3 = specifc blog post, 4 = all listings to verify, 5 = new blog post, 6 = new guest user\r\n            email: \"\",\r\n            password: \"\",\r\n            loginErrorMessage: \"\",\r\n            isDataLoading: false,\r\n            token: \"\",\r\n            userName: \"\",\r\n            editPostId: -1\r\n        }\r\n        this.handleInputChange = this.handleInputChange.bind(this);\r\n        this.editSpecificBlogPost = this.editSpecificBlogPost.bind(this);\r\n        this.handleLoginSubmit = this.handleLoginSubmit.bind(this);\r\n    }\r\n\r\n    handleInputChange(e) {\r\n        const { name, value } = e.target;\r\n        this.setState({\r\n            [name]: value\r\n        });\r\n    }\r\n\r\n    handleLoginSubmit() {\r\n        this.setState({\r\n            loginErrorMessage: \"\"\r\n        });\r\n        if (this.state.email.length > 0 && this.state.password.length > 0) {\r\n            if (emailRegex.test(this.state.email) === true) {\r\n                this.setState({ isDataLoading: true });\r\n                let loginObj = { email: this.state.email, password: this.state.password };\r\n                axios.post(window.api_prefix+\"/loginEmployee\", loginObj).then((resp) => {\r\n                    this.setState({\r\n                        activePage: 1,\r\n                        employeeName: resp.data.name,\r\n                        token: resp.data.token\r\n                    });\r\n                }).catch(err => {\r\n                    if (err.response) {\r\n                        this.setState({\r\n                            loginErrorMessage: err.response.data.message,\r\n                            isDataLoading: false\r\n                        });\r\n                    }\r\n                });\r\n            } else {\r\n                this.setState({\r\n                    loginErrorMessage: \"Your email is not valid.\",\r\n                    isDataLoading: false\r\n                });\r\n            }\r\n        } else {\r\n            this.setState({\r\n                loginErrorMessage: \"Please fill in all the fields.\",\r\n                isDataLoading: false\r\n            });\r\n        }\r\n    }\r\n\r\n    editSpecificBlogPost(postId) {\r\n        this.setState({\r\n            activePage: 3,\r\n            editPostId: postId\r\n        });\r\n    }\r\n\r\n\r\n    render() {\r\n        if (this.state.activePage == 0) {\r\n            //login\r\n            let errorMessage;\r\n            if (this.state.loginErrorMessage.length > 0) {\r\n                errorMessage = <p className={\"errorText \" + styles.regularText}>{this.state.loginErrorMessage}</p>\r\n            }\r\n            return (\r\n                <div>\r\n                    <div id={styles.bodyContainer}>\r\n                        <div id={styles.formCard}>\r\n                            <Link to=\"/\">\r\n                                <img alt=\"logo\" id={styles.logo} src=\"https://staticassets2020.s3.amazonaws.com/logos/logoV1orangeTransparent.png\" />\r\n                            </Link>\r\n                            <p className={\"title1 \" + styles.regularText}>Employee portal</p>\r\n                            <input className={styles.inputText + \" inputText regularText\"} type=\"email\" name=\"email\" value={this.state.email} onChange={this.handleInputChange} placeholder=\"Email address\"></input>\r\n                            <input className={styles.inputText + \" inputText regularText\"} type=\"password\" name=\"password\" value={this.state.password} onChange={this.handleInputChange} placeholder=\"Password\"></input>\r\n                            {errorMessage}\r\n                            {/* <p className={\"regularText \" + styles.regularText}>Don't have an account? <Link to=\"/signup\" className={styles.link + \" \" + styles.regularText}>Sign up now.</Link></p> */}\r\n                            <button className={styles.button + \" buttonCta regularTextMedium\"} onClick={this.handleLoginSubmit}>Continue</button>\r\n                        </div>\r\n                    </div>\r\n                    {\r\n                        this.state.isDataLoading == true ?\r\n                            <Spinner />\r\n                            :\r\n                            null\r\n                    }\r\n                </div>\r\n\r\n            )\r\n        }\r\n        let content;\r\n        if (this.state.activePage == 1) {\r\n            //dashboard\r\n            content = <p>Welcome {this.state.employeeName}</p>\r\n        } else if (this.state.activePage == 2) {\r\n            //all blog posts\r\n            content = (\r\n                <AllBlogPosts newBlogPost={() => { this.setState({ activePage: 5 }); }} editSpecificBlogPost={this.editSpecificBlogPost} token={this.state.token} />\r\n            );\r\n        } else if (this.state.activePage == 3) {\r\n            //specific blog posts\r\n            content = (\r\n                <EditBlogPost token={this.state.token} returnDashboard={() => { this.setState({ activePage: 1 }); }} postId={this.state.editPostId} />\r\n            );\r\n        } else if (this.state.activePage == 4) {\r\n            //all listings to verify\r\n            content = (\r\n                <AllListings token={this.state.token} />\r\n            );\r\n        } else if(this.state.activePage == 5){\r\n            //new blog post\r\n            content = (\r\n                <PredefinedItems token={this.state.token} />\r\n            );\r\n        }else if(this.state.activePage == 6){\r\n            //new guest user\r\n            content = (\r\n                <NewGuestUser token={this.state.token} />\r\n            );\r\n        }else if(this.state.activePage == 7){\r\n            //new guest listing\r\n            content = (\r\n                <NewGuestListing token={this.state.token} />\r\n            );\r\n        }else if(this.state.activePage == 8){\r\n            content = (\r\n                <ExistingGuestListings token={this.state.token} />\r\n            );\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                <div id={styles2.nav}>\r\n                    <Link to=\"/\" className={\"regularTextBold\"}>Cambio</Link>\r\n                    <p className={\"regularTextBold\"} onClick={() => { this.setState({ activePage: 1 }); }}>Dashboard</p>\r\n                    <p className={\"regularTextBold\"} onClick={() => { this.setState({ activePage: 2 }); }}>Blog posts</p>\r\n                    <p className={\"regularTextBold\"} onClick={() => { this.setState({ activePage: 4 }); }}>Listings to verify</p>\r\n                    <p className={\"regularTextBold\"} onClick={() => { this.setState({ activePage: 5 }); }}>Predefined items</p>\r\n                    <p className={\"regularTextBold\"} onClick={() => { this.setState({ activePage: 6 }); }}>New guest user</p>\r\n                    <p className={\"regularTextBold\"} onClick={() => { this.setState({ activePage: 7 }); }}>New guest listing</p>\r\n                    <p className={\"regularTextBold\"} onClick={() => { this.setState({ activePage: 8 }); }}>Guest listings & offers</p>\r\n                </div>\r\n                <div>\r\n                    {content}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Dashboard;","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport styles from \"public/style/profileLinks.module.css\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport { logoutUser } from \"../reduxActions/authActions\";\r\nimport MobileBottomNav from \"microComponents/MobileBottomNav.js\";\r\nclass Activity extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div id={styles.pageBody}>\r\n                <div id={styles.topBar}>\r\n                    <p className={\"title2\"}>Activity</p>\r\n                </div>\r\n                <div id={styles.mainBody}>\r\n                    <p className={styles.emptyStateMessageP + \" regularTextMedium\"}>No transactions activity yet.</p>\r\n                </div>\r\n                <MobileBottomNav {...this.props} />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default Activity;","import React from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport Footer from \"microComponents/Footer.js\";\r\nimport styles from \"public/style/articlePage.module.css\";\r\nimport DesktopTopNav from \"microComponents/DesktopTopNav.js\";\r\nimport MobileBottomNav from \"microComponents/MobileBottomNav.js\";\r\nimport axios from \"axios\";\r\nclass Index extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            isDataLoading: true,\r\n            post: {}\r\n        }\r\n        this.searchTopContainer = React.createRef();\r\n        this.categoriesContainerRef = React.createRef();\r\n        this.searchInputRef = React.createRef();\r\n        this.followedListingsRef = React.createRef();\r\n        this.searchSuggestModalRef = React.createRef();\r\n        this.featuredListingsRef = React.createRef();\r\n        this.hotListingsRef = React.createRef();\r\n        this.scrollTopButtonRef = React.createRef();\r\n        this.searchContainerRef = React.createRef();\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.props.match.params.id) {\r\n            let postId = this.props.match.params.id;\r\n            axios.get(window.api_prefix+\"/blogPost?id=\" + postId).then(resp => {\r\n                this.setState({\r\n                    post: resp.data,\r\n                    isDataLoading: false\r\n                });\r\n            });\r\n        } else {\r\n            this.props.history.push(\"/community\");\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.onscroll = undefined;\r\n        document.onclick = undefined;\r\n    }\r\n\r\n    render() {\r\n        const { t } = this.props;\r\n\r\n        if (this.state.isDataLoading == true) {\r\n            return <p>Loading...</p>;\r\n        }\r\n        let bodyStringSplit = this.state.post.body.split(\"<%b%>\");\r\n        console.log(bodyStringSplit);\r\n        let paragraphs = bodyStringSplit.map((parag, key) => {\r\n            if (parag.substring(0, 4) == \"<p%>\") {\r\n                return (\r\n                    <p key={key} className={\"regularText \" + styles.regularText}>{parag.substring(4, parag.length)}</p>\r\n                );\r\n            } else if (parag.substring(0, 4) == \"<t%>\") {\r\n                return (\r\n                    <p key={key} className={\"title2 \" + styles.regularText}>{parag.substring(4, parag.length)}</p>\r\n                );\r\n            } else {\r\n                return null;\r\n            }\r\n        });\r\n        console.log(paragraphs);\r\n        return (\r\n            <div>\r\n                <div id={styles.articleContainer}>\r\n                    <p className={\"title1 \" + styles.regularText}>{this.state.post.title}</p>\r\n                    {paragraphs}\r\n                </div>\r\n                <Footer />\r\n                <MobileBottomNav {...this.props} />\r\n                <DesktopTopNav key={new Date().getTime()} {...this.props} />\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default withTranslation()(Index);\r\n","import React from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Footer from \"microComponents/Footer.js\";\r\nimport styles from \"public/style/community.module.css\";\r\nimport DesktopTopNav from \"microComponents/DesktopTopNav.js\";\r\nimport MobileBottomNav from \"microComponents/MobileBottomNav.js\";\r\nimport BodyContainer from \"microComponents/BodyContainer\";\r\nimport Modal from \"microComponents/Modal\";\r\nimport axios from \"axios\";\r\nclass Index extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            searchInput: \"\",\r\n            displayAccountModel: false,\r\n            categories: [],\r\n            categoryCurrentParentId: -1,\r\n            isCategoriesModalDisplayed: false,\r\n            posts: [],\r\n        }\r\n        this.searchTopContainer = React.createRef();\r\n        this.categoriesContainerRef = React.createRef();\r\n        this.searchInputRef = React.createRef();\r\n        this.followedListingsRef = React.createRef();\r\n        this.searchSuggestModalRef = React.createRef();\r\n        this.featuredListingsRef = React.createRef();\r\n        this.hotListingsRef = React.createRef();\r\n        this.scrollTopButtonRef = React.createRef();\r\n        this.searchContainerRef = React.createRef();\r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n        axios.get(window.api_prefix+\"/allBlogPosts\").then(resp => {\r\n            this.setState({\r\n                posts: resp.data\r\n            });\r\n        });\r\n    }\r\n    componentWillUnmount() {\r\n        window.onscroll = undefined;\r\n        document.onclick = undefined;\r\n    }\r\n\r\n    render() {\r\n        const { t } = this.props;\r\n\r\n        let posts = <p>There are no posts for the moment.</p>\r\n        if (this.state.posts.length > 0) {\r\n            posts = this.state.posts.map((post, key) => {\r\n                return (\r\n                    <div className={styles.postCard}>\r\n                        <Link key={key} to={\"/blog-post/\" + post.id} >\r\n                        <p className={\"title2 \" + styles.regularText}>{post.title}</p>\r\n                        <p className={\"regularText \" + styles.regularText}>{post.summary}</p>\r\n                        <p className={styles.linkP + \" \" + styles.regularTextNoMargin}>read more</p>\r\n                        </Link>\r\n                    </div>\r\n                );\r\n            });\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                <BodyContainer>\r\n                    <div className={styles.topMainContainer}>\r\n                        <div className={styles.topMainContainerInnerContainer}>\r\n                            {/* <div id={styles.mobileTopNav}>\r\n                                <img id={styles.logoMobileTopNav} src=\"https://staticassets2020.s3.amazonaws.com/logos/logoV1orangeTransparent.png\" />\r\n                                <img id={styles.searchIconClick} onClick={() => {\r\n                                    this.searchContainerRef.current.classList.add(styles.searchContainerVisible);\r\n                                    this.searchInputRef.current.focus();\r\n                                    document.body.style.overflow = \"hidden\";\r\n                                }} src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/search-grey.svg\" />\r\n                            </div> */}\r\n\r\n                            <div id={styles.headerImgDiv}>\r\n                                <p className={\"megaTitle \" + styles.regularText + \" \" + styles.headlineP}>How Cambio works</p>\r\n                                <p className={\"regularText \" + styles.regularText + \" \" + styles.headlineP}>Cambio is not just another marketplace. Its a community of tech enthusiasts looking to exchange on todays tech and buy trustable pre-owned devices.</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n\r\n                    <div className={styles.communitySectionContainer}>\r\n                        <div className={styles.topMainContainerInnerContainer}>\r\n                            {/*<p className={\"title1 \" + styles.regularText}>Recent posts</p>*/}\r\n                            {posts}\r\n                        </div>\r\n                    </div>\r\n\r\n                </BodyContainer>\r\n\r\n\r\n\r\n                <div id={styles.scrollTopButton} className={styles.displayNone} ref={this.scrollTopButtonRef} onClick={() => {\r\n                    window.scrollTo({ top: 0, behavior: 'smooth' });\r\n                    this.featuredListingsRef.current.classList.remove(styles.stickyHeader);\r\n                    this.featuredListingsRef.current.parentElement.classList.remove(styles.stickyHeaderParent);\r\n                    this.followedListingsRef.current.classList.remove(styles.stickyHeader);\r\n                    this.followedListingsRef.current.parentElement.classList.remove(styles.stickyHeaderParent);\r\n                }}>\r\n                    <img src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/chevron-up.svg\" />\r\n                </div>\r\n\r\n                <Footer />\r\n                <MobileBottomNav {...this.props} />\r\n                <DesktopTopNav key={new Date().getTime()} {...this.props} />\r\n\r\n\r\n                <Modal title=\"Categories\" closeModal={() => {\r\n                    this.setState({\r\n                        isCategoriesModalDisplayed: false\r\n                    })\r\n                }} show={this.state.isCategoriesModalDisplayed}>\r\n                </Modal>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default withTranslation()(Index);\r\n","import axios from \"axios\";\r\nimport React from \"react\";\r\nimport styles from \"public/style/accountSetup.module.css\";\r\nimport Spinner from \"microComponents/LoaderAnimation\";\r\n\r\n\r\nclass Setup extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            lname: \"\",\r\n            fname: \"\",\r\n            countryCode: \"CA\",\r\n            type0ErrorMessage: \"\",\r\n            currentFormType: 0,\r\n            type1ErrorMessage: \"\",\r\n            categories: [],\r\n            followedCategories: [],\r\n            isDataLoading: false,\r\n        }\r\n        this.handleInputChange = this.handleInputChange.bind(this);\r\n        this.submitForm = this.submitForm.bind(this);\r\n        this.followTopic = this.followTopic.bind(this);\r\n        this.unfollowTopic = this.unfollowTopic.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        if ((localStorage.getItem(\"setupVerif\") == \"true\")) {\r\n            this.props.history.push(\"/home\");\r\n        }else{\r\n            axios.get(window.api_prefix+\"/allParentCategories\").then(resp => {\r\n                this.setState({\r\n                    categories: resp.data\r\n                });\r\n            });\r\n        }\r\n    }\r\n\r\n    followTopic(key) {\r\n        let currentUnfollowedTopics = this.state.categories;\r\n        let swithTopic = currentUnfollowedTopics[key];\r\n        currentUnfollowedTopics.splice(key, 1);\r\n        let currentFollowedTopics = this.state.followedCategories;\r\n        currentFollowedTopics.push(swithTopic);\r\n        this.setState({\r\n            followedCategories: currentFollowedTopics,\r\n            categories: currentUnfollowedTopics\r\n        });\r\n    }\r\n    unfollowTopic(key) {\r\n        let currentUnfollowedTopics = this.state.categories;\r\n        let currentFollowedTopics = this.state.followedCategories;\r\n        let swithTopic = currentFollowedTopics[key];\r\n        currentFollowedTopics.splice(key, 1);\r\n        currentUnfollowedTopics.push(swithTopic);\r\n        this.setState({\r\n            followedCategories: currentFollowedTopics,\r\n            categories: currentUnfollowedTopics\r\n        });\r\n    }\r\n\r\n    handleInputChange(e) {\r\n        const { name, value } = e.target;\r\n        this.setState({\r\n            [name]: value\r\n        });\r\n    }\r\n\r\n    submitForm() {\r\n        this.setState({\r\n            type1ErrorMessage: \"\",\r\n            type0ErrorMessage: \"\"\r\n        });\r\n        if (this.state.followedCategories.length >= 3) {\r\n            if (this.state.fname.length > 0) {\r\n                if (this.state.lname.length > 0) {\r\n                    this.setState({\r\n                        isDataLoading: true\r\n                    });\r\n                    let reqObj = { lname: this.state.lname, fname: this.state.fname, followedCategories: this.state.followedCategories, countryCode: this.state.countryCode };\r\n                    axios.post(window.api_prefix+\"/accountSetup\", reqObj).then(resp => {\r\n                        localStorage.setItem(\"setupVerif\", true);\r\n                        this.props.history.push(\"/home\");\r\n                    }).catch(err => {\r\n                        if (err.response) {\r\n                            this.setState({\r\n                                type0ErrorMessage: err.response.data.message,\r\n                                currentFormType: 0,\r\n                                isDataLoading: false\r\n                            });\r\n                        }\r\n                    });\r\n                } else {\r\n                    this.setState({\r\n                        type0ErrorMessage: \"Please fill in your last name.\",\r\n                        currentFormType: 0\r\n                    });\r\n                }\r\n            } else {\r\n                this.setState({\r\n                    type0ErrorMessage: \"Please fill in your first name.\",\r\n                    currentFormType: 0\r\n                });\r\n            }\r\n        } else {\r\n            this.setState({\r\n                type1ErrorMessage: \"Please pick at least 3 topics.\",\r\n                currentFormType: 1\r\n            });\r\n        }\r\n    }\r\n    render() {\r\n        let type0ErrorMessage;\r\n        if (this.state.type0ErrorMessage.length > 0) {\r\n            type0ErrorMessage = <p className={\"errorText \" + styles.regularText}>{this.state.type0ErrorMessage}</p>\r\n        }\r\n\r\n        let type1ErrorMessage;\r\n        if (this.state.type1ErrorMessage.length > 0) {\r\n            type1ErrorMessage = <p className={\"errorText \" + styles.regularText}>{this.state.type1ErrorMessage}</p>\r\n        }\r\n\r\n        let notFollowedCategories = this.state.categories.map((topic, key) => {\r\n            return (\r\n                <div key={key} className={styles.topicContainer}>\r\n                    <p className={\"regularText \" + styles.regularTextNoMargin}>{topic.name}</p><img onClick={() => { this.followTopic(key) }} src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/plus.svg\" />\r\n                </div>\r\n            );\r\n        });\r\n        let followedCategories = <p className={\"regularText \" + styles.regularText}>Please pick at least 3 topics</p>;\r\n        if (this.state.followedCategories.length > 0) {\r\n            followedCategories = this.state.followedCategories.map((topic, key) => {\r\n                return (\r\n                    <div key={key} className={styles.topicContainer}>\r\n                        <p className={\"regularText \" + styles.regularTextNoMargin}>{topic.name}</p><img onClick={() => { this.unfollowTopic(key) }} src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/x.svg\" />\r\n                    </div>\r\n                );\r\n            });\r\n        }\r\n\r\n        return (\r\n            <div id={styles.bodyContainer}>\r\n                <div className={this.state.currentFormType == 0 ? styles.formCard + \" \" + styles.activeForm : styles.formCard}>\r\n                    <p className={\"title1 \" + styles.regularText}>Account setup (1/2)</p>\r\n                    <p className={\"title2 \" + styles.regularText}>Please fill in some more details</p>\r\n                    <input className={styles.inputText + \" inputText regularText\"} name=\"fname\" type={\"text\"} value={this.state.fname} placeholder=\"First Name\" onChange={this.handleInputChange}></input>\r\n                    <input className={styles.inputText + \" inputText regularText\"} name=\"lname\" type={\"text\"} value={this.state.lname} placeholder=\"Last Name\" onChange={this.handleInputChange}></input>\r\n                    <select className={styles.inputText + \" inputText regularText\"} onChange={this.handleInputChange} name=\"countryCode\" value={this.state.countryCode}>\r\n                        <option value=\"CA\">Canada</option>\r\n                        <option value=\"US\">United States</option>\r\n                        <option value=\"MX\">Mexico</option>\r\n                    </select>\r\n                    {type0ErrorMessage}\r\n                    <button className={styles.button + \" buttonCta regularTextMedium\"} onClick={() => {\r\n                        if (this.state.lname.length > 0) {\r\n                            if (this.state.fname.length > 0) {\r\n                                this.setState({\r\n                                    currentFormType: 1\r\n                                });\r\n                            } else {\r\n                                this.setState({\r\n                                    type0ErrorMessage: \"Please fill in your first name.\",\r\n                                    currentFormType: 0\r\n                                });\r\n                            }\r\n                        } else {\r\n                            this.setState({\r\n                                type0ErrorMessage: \"Please fill in your last name.\",\r\n                                currentFormType: 0\r\n                            });\r\n                        }\r\n                    }}>Continue</button>\r\n                </div>\r\n                <div className={this.state.currentFormType == 1 ? styles.formCard + \" \" + styles.activeForm : styles.formCard}>\r\n                    <p className={\"title1 \" + styles.regularText}>Account setup (2/2)</p>\r\n                    <p className={\"title2 \" + styles.regularText}>Which topics do you like? (pick at least 3)</p>\r\n                    {notFollowedCategories}\r\n                    <p className={\"title2 \" + styles.regularText}>Followed topics</p>\r\n                    {followedCategories}\r\n                    {type1ErrorMessage}\r\n                    <button className={styles.button + \" buttonCta regularTextMedium\"} onClick={this.submitForm}>Continue</button>\r\n                </div>\r\n                {\r\n                    this.state.isDataLoading == true ?\r\n                        <Spinner />\r\n                        :\r\n                        null\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Setup;","import React from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport axios from \"axios\";\r\nimport Footer from \"microComponents/Footer.js\";\r\nimport styles from \"public/style/saved.module.css\";\r\nimport DesktopTopNav from \"microComponents/DesktopTopNav.js\";\r\nimport MobileBottomNav from \"microComponents/MobileBottomNav.js\";\r\nimport queryString from \"query-string\";\r\nimport BodyContainer from \"microComponents/BodyContainer\";\r\nimport Body from \"microComponents/BodyContainer\";\r\nimport { integerToMoneyString } from \"miscFunctions\";\r\n\r\n\r\nlet monthNames = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\r\n\r\nclass Instructions extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            reservationDetails: {},\r\n            dataIsLoading: true,\r\n            sellerEmail: \"\"\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        let reservationId;\r\n        if (queryString.parse(window.location.search).tra_id) {\r\n            reservationId = queryString.parse(window.location.search).tra_id;\r\n            axios.get(window.api_prefix+\"/reservationDetails?id=\" + reservationId).then(resp => {\r\n\r\n                for (let i = 0; i < resp.data.otherDetails.length; i++) {\r\n                    if (resp.data.otherDetails[i].rows[0].price) {\r\n                        resp.data.details.buynowprice = resp.data.otherDetails[i].rows[0].price;\r\n                    }\r\n                    if (resp.data.otherDetails[i].rows[0].selleremail) {\r\n                        resp.data.details.selleremail = resp.data.otherDetails[i].rows[0].selleremail;\r\n                    }\r\n                }\r\n                console.log(resp.data);\r\n                this.setState({\r\n                    dataIsLoading: false,\r\n                    reservationDetails: resp.data.details,\r\n                    sellerEmail: resp.data.sellerEmail,\r\n                });\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    this.props.history.push(\"/\");\r\n                }\r\n            });\r\n        } else {\r\n            this.props.history.push(\"/\");\r\n        }\r\n    }\r\n\r\n    render() {\r\n        if (this.state.dataIsLoading === true) {\r\n            return (<p>Loading...</p>);\r\n        }\r\n        let endTimeStamp = new Date(this.state.reservationDetails.timestamp);\r\n        endTimeStamp.setMinutes(endTimeStamp.getMinutes() + 20);\r\n        let niceMinutes = endTimeStamp.getMinutes();\r\n        if (niceMinutes < 10) {\r\n            niceMinutes = \"0\" + niceMinutes;\r\n        }\r\n        let niceHours = endTimeStamp.getHours();\r\n        if (niceHours < 10) {\r\n            niceHours = \"0\" + niceHours;\r\n        }\r\n\r\n        let amount = this.state.reservationDetails.amount;\r\n        if (amount == null) {\r\n            amount = integerToMoneyString(this.state.reservationDetails.buynowprice);\r\n        } else {\r\n            amount = integerToMoneyString(amount);\r\n        }\r\n        let niceDateString = monthNames[endTimeStamp.getMonth()] + \" \" + endTimeStamp.getDate() + \", \" + endTimeStamp.getFullYear() + \" at \" + niceHours + \":\" + niceMinutes;\r\n        return (\r\n            <div>\r\n                <BodyContainer>\r\n                    <div id={styles.topMainContainer}>\r\n                        <div className={styles.innerMainContainer}>\r\n                            <p ref={this.savedListingsRef} className={styles.sectionTitleP + \" title1\"}>Payment instructions</p>\r\n                            <p className={styles.sectionTitleP + \" regularText\"}>Your purchase is not yet confirmed! Kindly send a payment of {amount} through Paypal to {this.state.reservationDetails.selleremail} before {niceDateString}. Otherwise after that time, the listing will be put back for sale and you won't be able to re-purchase it.</p>\r\n                        </div>\r\n                    </div>\r\n                </BodyContainer>\r\n                <Footer />\r\n                <MobileBottomNav {...this.props} />\r\n                <DesktopTopNav key={new Date().getTime()} {...this.props} />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default withTranslation()(Instructions);\r\n","import React from \"react\";\r\nimport axios from \"axios\";\r\nimport queryString from \"query-string\";\r\nimport Spinner from \"microComponents/LoaderAnimation\";\r\nimport styles from \"public/style/stripePayment.module.css\";\r\nimport { integerToMoneyString } from \"miscFunctions\";\r\nimport Footer from \"microComponents/Footer.js\";\r\nimport DesktopTopNav from \"microComponents/DesktopTopNav.js\";\r\nimport MobileBottomNav from \"microComponents/MobileBottomNav.js\";\r\nimport { CardElement, ElementsConsumer } from '@stripe/react-stripe-js';\r\n\r\n\r\nconst CARD_ELEMENT_OPTIONS = {\r\n    style: {\r\n        base: {\r\n            color: \"#32325d\",\r\n            fontFamily: '\"Larsseit\", arial, sans-serif',\r\n            fontSmoothing: \"antialiased\",\r\n            fontSize: \"16px\",\r\n            \"::placeholder\": {\r\n                color: \"#aab7c4\",\r\n            },\r\n        },\r\n        invalid: {\r\n            color: \"#fa755a\",\r\n            iconColor: \"#fa755a\",\r\n        },\r\n    },\r\n};\r\n\r\nclass CheckoutForm extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            isFormDisabled: true,\r\n            isDataLoading: true,\r\n            stripeErrorMessage: \"\",\r\n            buyNowPrice: 0,\r\n            offerAmount: null,\r\n            offerId: -1,\r\n            listingId: -1,\r\n            isTransactionSuccess: false,\r\n            shippingAddress:\"\",\r\n            shippingAddressInput:\"\"\r\n        }\r\n\r\n        this.handleInput = this.handleInput.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        axios.get(window.api_prefix+\"/getShippingAddress\").then(resp=>{\r\n            this.setState({\r\n                shippingAddress:resp.data\r\n            })\r\n        }).catch();\r\n        let listingId;\r\n        let offerId;\r\n        if (queryString.parse(window.location.search).listingId && queryString.parse(window.location.search).offerId) {\r\n            listingId = queryString.parse(window.location.search).listingId;\r\n            offerId = queryString.parse(window.location.search).offerId;\r\n            if (offerId == -1) {\r\n                //buy now price\r\n                axios.get(window.api_prefix+\"/listingPrice?listingId=\" + listingId).then(resp => {\r\n                    this.setState({\r\n                        buyNowPrice: resp.data.listingPrice,\r\n                        offerId: -1,\r\n                        isFormDisabled: false,\r\n                        isDataLoading: false,\r\n                        listingId: listingId\r\n                    });\r\n                }).catch(err => {\r\n                    if (err.response) {\r\n                        this.props.history.push(\"/\");\r\n                    }\r\n                });\r\n            } else {\r\n                //get offer amount\r\n                axios.get(window.api_prefix+\"/offerDetails?offerId=\" + offerId).then(resp => {\r\n                    this.setState({\r\n                        offerAmount: resp.data.offerDetails.amount,\r\n                        isFormDisabled: false,\r\n                        isDataLoading: false,\r\n                        offerId: offerId,\r\n                        listingId: listingId\r\n                    });\r\n                }).catch(err => {\r\n                    if (err.response) {\r\n                        this.props.history.push(\"/\");\r\n                    }\r\n                });\r\n            }\r\n        } else if (queryString.parse(window.location.search).listingId){\r\n            //buy now price\r\n            listingId = queryString.parse(window.location.search).listingId;\r\n            axios.get(window.api_prefix+\"/listingPrice?listingId=\" + listingId).then(resp => {\r\n                this.setState({\r\n                    buyNowPrice: resp.data.listingPrice,\r\n                    offerId: -1,\r\n                    isFormDisabled: false,\r\n                    isDataLoading: false,\r\n                    listingId: listingId\r\n                });\r\n            }).catch(err => {\r\n                if (err.response) {\r\n                    this.props.history.push(\"/\");\r\n                }\r\n            });\r\n        }else{\r\n            alert(\"YO\");\r\n            this.props.history.push(\"/\");\r\n        }\r\n    }\r\n\r\n    handleInput(e){\r\n        const {name, value} = e.target;\r\n        this.setState({\r\n           [name]:value\r\n        });\r\n    }\r\n\r\n    handleSubmit = (event) => {\r\n        event.preventDefault();\r\n        const { stripe, elements } = this.props;\r\n        if (!stripe || !elements) {\r\n            return;\r\n        }\r\n        this.setState({\r\n            isFormDisabled: true,\r\n            isDataLoading: true,\r\n            stripeErrorMessage: \"\"\r\n        });\r\n\r\n        let shippingAddress = \"\";\r\n        if(this.state.shippingAddressInput.length>0){\r\n            shippingAddress = this.state.shippingAddressInput;\r\n        }else if(this.state.shippingAddress.length>0){\r\n            shippingAddress = this.state.shippingAddress;\r\n        }else{\r\n            this.setState({\r\n                isFormDisabled: true,\r\n                isDataLoading: true,\r\n                stripeErrorMessage: \"Please fill in your shipping address\"\r\n            });\r\n            return;\r\n        }\r\n\r\n\r\n        axios.post(window.api_prefix+\"/paymentIntent\", { listingId: this.state.listingId, shippingAddress: shippingAddress, offerId: this.state.offerId == -1 ? null : this.state.offerId }).then(async resp => {\r\n            console.log(resp.data.clientSecret);\r\n            const cardElement = elements.getElement(CardElement);\r\n\r\n            const result = await stripe.confirmCardPayment(resp.data.clientSecret, {\r\n                payment_method: {\r\n                    card: elements.getElement(CardElement),\r\n                    billing_details: {\r\n                        name: 'Jenny Rosen',\r\n                    },\r\n                },\r\n                setup_future_usage: 'off_session'\r\n            });\r\n            if (result.error) {\r\n\r\n                this.setState({\r\n                    isFormDisabled: false,\r\n                    isDataLoading: false,\r\n                    stripeErrorMessage: result.error.message\r\n                });\r\n            } else {\r\n                // The payment has been processed!\r\n                if (result.paymentIntent.status === 'succeeded') {\r\n                    this.setState({\r\n                        isFormDisabled: false,\r\n                        isDataLoading: false,\r\n                        stripeErrorMessage: \"\",\r\n                        isTransactionSuccess: true\r\n                    });\r\n                }\r\n            }\r\n        }).catch(err => {\r\n            if (err.response) {\r\n                this.setState({\r\n                    isFormDisabled: false,\r\n                    isDataLoading: false,\r\n                    stripeErrorMessage: err.response.data.message\r\n                });\r\n            }\r\n        });\r\n    };\r\n\r\n    render() {\r\n        const { stripe } = this.props;\r\n        let amount = this.state.offerAmount;\r\n        if (amount == null) {\r\n            amount = integerToMoneyString(this.state.buyNowPrice);\r\n        } else {\r\n            amount = integerToMoneyString(amount);\r\n        }\r\n\r\n        let content;\r\n        if (this.state.isTransactionSuccess == true) {\r\n            content = (\r\n                <div id={styles.formCard}>\r\n                    <p className={\"title1 \" + styles.regularText}>Purchase successful!</p>\r\n                    <p className={\"regularText \" + styles.regularText}>Thank you for your purchase. We'll now send you a purchase receipt by email. Hope you like your item.</p>\r\n                    <p className={\"regularTextBold \" + styles.regularText}>Total: {amount}</p>\r\n                </div>\r\n            );\r\n        } else {\r\n            content = (\r\n                <div id={styles.formCard}>\r\n                    <p className={\"title1 \" + styles.regularText}>Payment method</p>\r\n                    <p className={\"regularText \" + styles.regularText}>Once the item purchased, the seller has 3 days to ship your item and upload a tracking number.</p>\r\n                    <form onSubmit={this.handleSubmit}>\r\n                        <div id={styles.formRow}>\r\n                            <CardElement options={CARD_ELEMENT_OPTIONS} />\r\n                        </div>\r\n                        <input className={\"regularText\"} type={\"text\"} id={styles.textInput} name={\"shippingAddressInput\"} onChange={this.handleInput} value={this.state.shippingAddressInput} placeholder={this.state.shippingAddress.length>0? this.state.shippingAddress: \"Fill in your full shipping address\"}/>\r\n                        <button className={\"buttonCta \" + styles.button} type=\"submit\" disabled={!stripe && this.state.isFormDisabled}>Pay now</button>\r\n                        {this.state.stripeErrorMessage.length > 0 ? <p>{this.state.stripeErrorMessage}</p> : null}\r\n                    </form>\r\n                    <p className={\"regularText \" + styles.regularTextHalfMargin}>Subtotal: {amount}</p>\r\n                    <p className={\"regularText \" + styles.regularTextHalfMargin}>Shipping: $0.00</p>\r\n                    <p className={\"regularText \" + styles.regularTextHalfMargin}>Taxes: !!!!</p>\r\n                    <p className={\"regularTextBold \" + styles.regularTextHalfMargin}>Total: {amount}</p>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                {content}\r\n                {\r\n                    this.state.isDataLoading == true ?\r\n                        <Spinner />\r\n                        :\r\n                        null\r\n                }\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nconst InjectedCheckoutForm = (props) => {\r\n    return (\r\n        <div>\r\n            <div id={styles.bodyContainer}>\r\n                <ElementsConsumer>\r\n                    {({ elements, stripe }) => (\r\n                        <CheckoutForm history={props.history} elements={elements} stripe={stripe} />\r\n                    )}\r\n                </ElementsConsumer>\r\n            </div>\r\n            <Footer />\r\n            <MobileBottomNav {...props} />\r\n            <DesktopTopNav key={new Date().getTime()} {...props} />\r\n        </div>\r\n\r\n    );\r\n};\r\n\r\nexport default InjectedCheckoutForm;","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport styles from \"public/style/profileLinks.module.css\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport { logoutUser } from \"../reduxActions/authActions\";\r\nimport MobileBottomNav from \"microComponents/MobileBottomNav.js\";\r\nclass ProfileLinks extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            userName: \"\",\r\n            profilePicture: \"\"\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        axios.get(window.api_prefix+\"/loggedInUserProfile\").then(resp => {\r\n            this.setState({\r\n                userName: resp.data.name,\r\n                profilePicture: resp.data.profilepicture\r\n            });\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div id={styles.pageBody}>\r\n                <div id={styles.topBar}>\r\n                    <div style={{\r\n                        backgroundImage: !this.state.profilePicture || this.state.profilePicture.length == 0 ? \"url('https://staticassets2020.s3.amazonaws.com/octiconsSvg/smiley.svg')\" : \"url('\" + this.state.profilePicture + \"')\"\r\n                    }}></div>\r\n                    <p className={\"regularTextMedium\"}>@{this.state.userName}</p>\r\n                </div>\r\n                <div id={styles.mainBody}>\r\n                    <Link to=\"/new-listing\">\r\n                        <p className={\"regularTextMedium\"}><img src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/diff-added.svg\" />Create a listing</p>\r\n                    </Link>\r\n                    <Link to=\"/my-purchases\">\r\n                        <p className={\"regularTextMedium\"}><img src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/tag.svg\" />Buying</p>\r\n                    </Link>\r\n                    <Link to=\"/my-listings\">\r\n                        <p className={\"regularTextMedium\"}><img src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/list-unordered.svg\" />Selling</p>\r\n                    </Link>\r\n                    <Link to=\"/account\">\r\n                        <p className={\"regularTextMedium\"}><img src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/person.svg\" />Edit profile</p>\r\n                    </Link>\r\n                    <Link to=\"/following\">\r\n                        <p className={\"regularTextMedium\"}><img src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/people.svg\" />Following</p>\r\n                    </Link>\r\n                    <Link to=\"/faq\">\r\n                        <p className={\"regularTextMedium\"}><img src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/unverified.svg\" />FAQ</p>\r\n                    </Link>\r\n                    <p className={\"regularText\"}>About</p>\r\n                    <p className={\"regularText\"}>Contact: contact@joincambio.com</p>\r\n                </div>\r\n                <div id={styles.bottomBar} onClick={this.props.logoutUser}>\r\n                    <p className={\"regularText\"} >Logout</p>\r\n                </div>\r\n                <MobileBottomNav {...this.props} />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nProfileLinks.propTypes = {\r\n    logoutUser: PropTypes.func.isRequired,\r\n    auth: PropTypes.object.isRequired\r\n};\r\nconst mapStateToProps = state => ({\r\n    auth: state.auth\r\n});\r\nexport default connect(\r\n    mapStateToProps,\r\n    { logoutUser }\r\n)(ProfileLinks);","import React from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport Footer from \"microComponents/Footer.js\";\r\nimport styles from \"public/style/account.module.css\";\r\nimport DesktopTopNav from \"microComponents/DesktopTopNav.js\";\r\nimport MobileBottomNav from \"microComponents/MobileBottomNav.js\";\r\n\r\nclass Profile extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            username:\"\",\r\n            bio: \"\",\r\n            profilePicture: null,\r\n            bioInput: \"\",\r\n            profilePictureInput: null,\r\n            profilePicturePreview: \"\",\r\n            shippingAddress:\"\",\r\n            shippingInput:\"\"\r\n        }\r\n        this.pictureInputRef = React.createRef();\r\n\r\n        this.handleInputChange = this.handleInputChange.bind(this);\r\n        this.handleImageUpload = this.handleImageUpload.bind(this);\r\n        this.removePicture = this.removePicture.bind(this);\r\n        this.saveChanges = this.saveChanges.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        axios.get(window.api_prefix+\"/loggedInUserProfile\").then((res) => {\r\n            let info = res.data;\r\n            let profilePic = info.profilepicture ? info.profilepicture : null;\r\n            this.setState({\r\n                username:info.name,\r\n                profilePicture: profilePic,\r\n                bio: info.bio ? info.bio : \"\",\r\n                profilePictureInput: profilePic,\r\n                profilePicturePreview: profilePic,\r\n                bioInput: info.bio ? info.bio : \"\",\r\n                shippingInput: info.shippingaddress ? info.shippingaddress:\"\",\r\n                shippingAddress: info.shippingaddress ? info.shippingaddress:\"\"\r\n            });\r\n        }).catch((err) => {\r\n            if (err.response) {\r\n                this.setState({\r\n                    dataIsLoading: false,\r\n                    errorMessage: err.response.data.message\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    saveChanges(e) {\r\n        let reqObj = {};\r\n        if (this.state.bio != this.state.bioInput) {\r\n            reqObj.bio = this.state.bioInput;\r\n        }\r\n        if(this.state.shippingAddress != this.state.shippingInput){\r\n            reqObj.shippingAddress = this.state.shippingInput;\r\n        }\r\n        this.setState((prevState) => ({\r\n            bio: prevState.bioInput,\r\n            shippingAddress: prevState.shippingInput\r\n        }));\r\n        axios.post(window.api_prefix+\"/updateProfile\", reqObj).then(resp => {\r\n\r\n        }).catch(err => {\r\n\r\n        });\r\n    }\r\n\r\n    handleInputChange(e) {\r\n        const { name, value } = e.target;\r\n        this.setState({\r\n            [name]: value\r\n        });\r\n    }\r\n\r\n    removePicture() {\r\n        this.setState({\r\n            profilePictureInput: null,\r\n            profilePicturePreview: \"\"\r\n        });\r\n        axios.post(window.api_prefix+\"/removeProfilePicture\").then(resp => {\r\n\r\n        }).catch(err => {\r\n\r\n        });\r\n    }\r\n\r\n    handleImageUpload(e) {\r\n        let file = e.target.files;\r\n\r\n        try {\r\n            if (!file) {\r\n                throw new Error('Select a file first!');\r\n            }\r\n            const formData = new FormData();\r\n            formData.append('file', file[0]);\r\n            axios.post(window.api_prefix+`/uploadProfilePicture`, formData, {\r\n                headers: {\r\n                    'Content-Type': 'multipart/form-data',\r\n                },\r\n            }).then(resp => {\r\n                console.log(resp);\r\n            });\r\n            this.setState({\r\n                profilePictureInput: this.pictureInputRef.current.files[0],\r\n                profilePicturePreview: URL.createObjectURL(this.pictureInputRef.current.files[0])\r\n            });\r\n            this.pictureInputRef.current.value = null;\r\n        } catch (error) {\r\n            // handle error\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.onscroll = undefined;\r\n        document.onclick = undefined;\r\n    }\r\n\r\n    render() {\r\n        const { t } = this.props;\r\n\r\n        let profilePictureDiv;\r\n        if (this.state.profilePictureInput != null) {\r\n            profilePictureDiv = (\r\n                <div>\r\n                    <label style={{ display: \"inline-block\", position: \"relative\", verticalAlign: \"middle\" }} htmlFor={styles.fileInput}>\r\n                        <div className={styles.pictureSquare} style={{ backgroundImage: \"url('\" + this.state.profilePicturePreview + \"')\" }}>\r\n                            <div>\r\n                                <img src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/pencil.svg\" />\r\n                            </div>\r\n                        </div>\r\n                    </label>\r\n                    <button id={styles.deletePicButton} className={\"regularTextMedium buttonCta\"} onClick={this.removePicture}>Delete picture</button>\r\n                </div>\r\n\r\n            );\r\n        } else {\r\n            profilePictureDiv = (\r\n                <div>\r\n                    <label id={styles.fileInputLabel} htmlFor={styles.fileInput}>\r\n                        <div>\r\n                            <img src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/plus.svg\" />\r\n                        </div>\r\n                    </label>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        let saveButton;\r\n        if (this.state.bio !== this.state.bioInput || this.state.shippingInput != this.state.shippingAddress) {\r\n            saveButton = (\r\n                <div id={styles.saveButtonContainer}>\r\n                    <button className={\"buttonCta\"} onClick={this.saveChanges}>Save changes</button>\r\n                </div>\r\n            );\r\n        }\r\n        return (\r\n            <div>\r\n                <div id={styles.topMainContainer}>\r\n                    <div className={styles.innerMainContainer}>\r\n                        <div className={styles.listingComponentsMainContainer}>\r\n                            <p className={styles.regularText + \" title1\"}>Edit @{this.state.username}'s profile</p>\r\n                        </div>\r\n\r\n                        <div className={styles.listingComponentsMainContainer}>\r\n                            <p className={\"regularText \" + styles.regularText}>Your profile picture</p>\r\n                            {profilePictureDiv}\r\n                            <input id={styles.fileInput} onChange={this.handleImageUpload} ref={this.pictureInputRef} type=\"file\" accept=\".jpg, .jpeg, .png, .svg\"></input>\r\n\r\n                        </div>\r\n                        <div className={styles.listingComponentsMainContainer}>\r\n                            <p className={\"regularText \" + styles.regularText}>Default shipping address</p>\r\n                            <input type={\"text\"} onChange={this.handleInputChange} name=\"shippingInput\" className={\"regularText inputText\"} id={styles.regularTextInput} value={this.state.shippingInput}></input>\r\n\r\n                            <p className={\"regularText \" + styles.regularText}>Your bio</p>\r\n                            <textarea onChange={this.handleInputChange} name=\"bioInput\" className={\"regularText inputText\"} id={styles.bioTextarea} value={this.state.bioInput}></textarea>\r\n                        </div>\r\n                        {saveButton}\r\n                    </div>\r\n                </div>\r\n\r\n                <Footer />\r\n                <MobileBottomNav {...this.props} />\r\n                <DesktopTopNav key={new Date().getTime()} {...this.props} />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default withTranslation()(Profile);\r\n","import React from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport Footer from \"microComponents/Footer.js\";\r\nimport styles from \"public/style/account.module.css\";\r\nimport DesktopTopNav from \"microComponents/DesktopTopNav.js\";\r\nimport MobileBottomNav from \"microComponents/MobileBottomNav.js\";\r\n\r\nclass Following extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            following: [],\r\n            followedUsers: [],\r\n            suggestedTopics: []\r\n        }\r\n\r\n        this.handleInputChange = this.handleInputChange.bind(this);\r\n        this.toggleFollowing = this.toggleFollowing.bind(this);\r\n    }\r\n\r\n    handleInputChange(e) {\r\n        const { name, value } = e.target;\r\n        this.setState({\r\n            [name]: value\r\n        });\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n        axios.get(window.api_prefix+\"/usersFollowed\").then((resp) => {\r\n            console.log(resp.data);\r\n            this.setState({\r\n                followedUsers: resp.data\r\n            });\r\n        });\r\n        this.setState({\r\n            following: [\r\n                {\r\n                    type: 0,\r\n                    userId: 32323,\r\n                    userPicture: \"ddsd\",\r\n                    userName: \"Mark\"\r\n                },\r\n                {\r\n                    type: 0,\r\n                    userId: 32323,\r\n                    userPicture: \"ddsd\",\r\n                    userName: \"John\"\r\n                },\r\n                {\r\n                    type: 0,\r\n                    userId: 32323,\r\n                    userPicture: \"ddsd\",\r\n                    userName: \"Mike\"\r\n                },\r\n                {\r\n                    type: 0,\r\n                    userId: 32323,\r\n                    userPicture: \"ddsd\",\r\n                    userName: \"Gino\"\r\n                },\r\n                {\r\n                    type: 0,\r\n                    userId: 32323,\r\n                    userPicture: \"ddsd\",\r\n                    userName: \"Jane\"\r\n                },\r\n                {\r\n                    type: 1,\r\n                    stringValue: \"iphone X black 32Gb\",\r\n                    filters: [\r\n\r\n                    ]\r\n                },\r\n                {\r\n                    type: 1,\r\n                    stringValue: \"iphone 7\",\r\n                    filters: [\r\n\r\n                    ]\r\n                },\r\n                {\r\n                    type: 1,\r\n                    stringValue: \"3D print\",\r\n                    filters: [\r\n\r\n                    ]\r\n                },\r\n                {\r\n                    type: 2,\r\n                    id: 23,\r\n                    stringValue: \"3D printer\"\r\n                }\r\n            ],\r\n            suggestedTopics: [\r\n                {\r\n                    type: 2,\r\n                    id: 23,\r\n                    stringValue: \"3D printer\"\r\n                },\r\n                {\r\n                    type: 2,\r\n                    id: 2,\r\n                    stringValue: \"Apple\"\r\n                }\r\n            ]\r\n        });\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.onscroll = undefined;\r\n        document.onclick = undefined;\r\n    }\r\n    toggleFollowing(id, indexArray) {\r\n        axios.post(window.api_prefix+\"/followUser\", { id: id }).then().catch();\r\n        let currentFollowedUsers = this.state.followedUsers;\r\n        currentFollowedUsers.splice(indexArray, 1);\r\n        this.setState({\r\n            followedUsers: currentFollowedUsers\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const { t } = this.props;\r\n\r\n        let userFollowings = <p>You still don't following any user. Visit people's profile and follow them to have items they post in your feed.</p>\r\n        if (this.state.followedUsers.length > 0) {\r\n            userFollowings = this.state.followedUsers.map((user, key) => {\r\n                return (\r\n                    <div key={key} className={styles.topicContainer}>\r\n                        <p className={\"regularText \" + styles.regularTextNoMargin}>@{user.name}</p><img onClick={() => { this.toggleFollowing(user.id, key) }} src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/x.svg\" />\r\n                    </div>\r\n                );\r\n            });\r\n        }\r\n        // let topicFollowings = <p>No followings.</p>\r\n        // let suggestedTopics = <p>No more topics.</p>\r\n        // let userFollowingsArray = [];\r\n        // let topicFollowingsArray = [];\r\n\r\n\r\n        // let newSuggestedTopics = this.state.suggestedTopics;\r\n        // for (let i = 0; i < this.state.following.length; i++) {\r\n        //     if (this.state.following[i].type == 0) {\r\n        //         userFollowingsArray.push(\r\n        //             <div className={styles.topicContainer}>\r\n        //                 <p className={\"regularText \" + styles.regularTextNoMargin}>{this.state.following[i].userName}</p><img src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/x.svg\" />\r\n        //             </div>\r\n        //         );\r\n        //     } else if (this.state.following[i].type == 1) {\r\n        //         topicFollowingsArray.push(\r\n        //             <div className={styles.topicContainer}>\r\n        //                 <p className={\"regularText \" + styles.regularTextNoMargin}>{this.state.following[i].stringValue}</p><img src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/x.svg\" />\r\n        //             </div>\r\n        //         );\r\n        //     } else {\r\n\r\n        //         for (let j = 0; j < newSuggestedTopics.length; j++) {\r\n        //             if (newSuggestedTopics[j].id === this.state.following[i].id) {\r\n        //                 newSuggestedTopics.splice(j, 1);\r\n        //             }\r\n        //         }\r\n        //         topicFollowingsArray.push(\r\n        //             <div className={styles.topicContainer}>\r\n        //                 <p className={\"regularText \" + styles.regularTextNoMargin}>{this.state.following[i].stringValue}</p><img src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/x.svg\" />\r\n        //             </div>\r\n        //         );\r\n        //     }\r\n        // }\r\n\r\n        // let suggestedTopicsArray = newSuggestedTopics.map((topic, key) => {\r\n        //     return (\r\n        //         <div key={key} className={styles.topicContainer}>\r\n        //             <p className={\"regularText \" + styles.regularTextNoMargin}>{topic.stringValue}</p><img src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/plus.svg\" />\r\n        //         </div>\r\n        //     );\r\n        // });\r\n        // if (userFollowingsArray.length > 0) {\r\n        //     userFollowings =\r\n        //         <div>\r\n        //             {userFollowingsArray}\r\n        //         </div>\r\n        // }\r\n        // if (topicFollowingsArray.length > 0) {\r\n        //     topicFollowings =\r\n        //         <div>\r\n        //             {topicFollowingsArray}\r\n        //         </div>\r\n        // }\r\n        // if (newSuggestedTopics.length > 0) {\r\n        //     suggestedTopics =\r\n        //         <div>\r\n        //             {suggestedTopicsArray}\r\n        //         </div>\r\n        // }\r\n        return (\r\n            <div>\r\n                <div id={styles.topMainContainer}>\r\n                    <div className={styles.innerMainContainer}>\r\n                        <div className={styles.listingComponentsMainContainer}>\r\n                            <p className={styles.regularText + \" title1\"}>Users you follow</p>\r\n                        </div>\r\n                        <div className={styles.listingComponentsMainContainer}>\r\n                            {/*<p className={\"regularTextMedium \" + styles.regularText}>Users you follow</p>*/}\r\n                            {userFollowings}\r\n                        </div>\r\n                        {/* <div className={styles.listingComponentsMainContainer}>\r\n                            <p className={\"regularTextMedium \" + styles.regularText}>Followed topics</p>\r\n                            {topicFollowings}\r\n                        </div>\r\n                        <div className={styles.listingComponentsMainContainer}>\r\n                            <p className={\"regularTextMedium \" + styles.regularText}>Suggested topics</p>\r\n                            {suggestedTopics}\r\n                        </div> */}\r\n                    </div>\r\n\r\n                </div>\r\n\r\n                <Footer />\r\n                <MobileBottomNav {...this.props} />\r\n                <DesktopTopNav key={new Date().getTime()} {...this.props} />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default withTranslation()(Following);\r\n","import React from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport Footer from \"microComponents/Footer.js\";\r\nimport styles from \"public/style/newListing.module.css\";\r\nimport DesktopTopNav from \"microComponents/DesktopTopNav.js\";\r\nimport MobileBottomNav from \"microComponents/MobileBottomNav.js\";\r\nimport queryString from \"query-string\";\r\nimport {integerMoneyToDecimal, integerToMoneyString} from \"miscFunctions\";\r\nimport Spinner from \"microComponents/LoaderAnimation\";\r\nimport Modal from \"../microComponents/Modal\";\r\n\r\n\r\nclass NewListing extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            title: \"\",\r\n            category: 1,\r\n            price: 1,\r\n            description: \"\",\r\n            pictures: [],\r\n            condition: 0,\r\n            categoryOptions: [],\r\n            filterTypes: [],\r\n            listingId: 0,\r\n            listingMode: 0, //0 = new listing, 1 = edit listing, 2 = draft mode\r\n            formError: \"\",\r\n            isDataLoading: false,\r\n            currentPage:0,\r\n\r\n\r\n            predefItemSearch:\"\",\r\n            isUnlistedItemModalDisplayed:false,\r\n            recommendItemInput:\"\",\r\n            blockAutofillDiv:false,\r\n            predefItemsSearchResult:[],\r\n            predefItemId:-1,\r\n            predefItemName:\"\"\r\n        }\r\n\r\n        this.pictureInputRef = React.createRef();\r\n        this.predefItemAutofillRef = React.createRef();\r\n        this.predefItemInputRef = React.createRef();\r\n\r\n        this.handleInputChange = this.handleInputChange.bind(this);\r\n        this.handleImageUpload = this.handleImageUpload.bind(this);\r\n        this.removePicture = this.removePicture.bind(this);\r\n        this.handleFilterValueChange = this.handleFilterValueChange.bind(this);\r\n        this.postListing = this.postListing.bind(this);\r\n        // this.fetchFilters = this.fetchFilters.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        let listingId;\r\n        let listingMode;\r\n        if (queryString.parse(window.location.search).listingid && queryString.parse(window.location.search).listingmode) {\r\n            listingId = queryString.parse(window.location.search).listingid;\r\n            listingMode = queryString.parse(window.location.search).listingmode;\r\n            if (listingMode == 1 || listingMode == 2) {\r\n                axios.get(window.api_prefix+\"/listingDetails?id=\" + listingId).then(resp => {\r\n                    let listingDetails = resp.data.listingDetails;\r\n                    let filters = resp.data.filters;\r\n                    if (listingDetails) {\r\n                        this.setState({\r\n                            title: listingDetails.title,\r\n                            price: integerMoneyToDecimal(listingDetails.price),\r\n                            condition: listingDetails.condition,\r\n                            description: listingDetails.description,\r\n                            pictures: listingDetails.pictures,\r\n                            category: listingDetails.categoryid,\r\n                            listingMode: 1,\r\n                            currentPage:1,\r\n                            listingId: listingId\r\n                        });\r\n                        // this.fetchFilters(listingDetails.categoryid, () => {\r\n                        //     let currentFilters = this.state.filterTypes;\r\n                        //     for (let i = 0; i < currentFilters.length; i++) {\r\n                        //         for (let j = 0; j < filters.length; j++) {\r\n                        //             if (currentFilters[i].id == filters[j].filtertypeid) {\r\n                        //                 if (currentFilters[i].type == 0) {\r\n                        //                     currentFilters[i].userSelection = filters[j].value;\r\n                        //                 } else if (currentFilters[i].type == 1) {\r\n                        //                     if (filters[j].value == -1) {\r\n                        //                         currentFilters[i].searchValue = filters[j].textvalue;\r\n                        //                     } else {\r\n                        //                         currentFilters[i].searchValue = \"\";\r\n                        //                         let optionIndex = 0;\r\n                        //                         for (let k = 0; k < currentFilters[i].options.length; k++) {\r\n                        //                             if (currentFilters[i].options[k].value == filters[j].value) {\r\n                        //                                 optionIndex = k;\r\n                        //                                 break;\r\n                        //                             }\r\n                        //                         }\r\n                        //                         currentFilters[i].searchValue = optionIndex;\r\n                        //                     }\r\n                        //                 } else if (currentFilters[i].type == 2) {\r\n                        //                     currentFilters[i].userSelection = filters[j].value;\r\n                        //                 }\r\n                        //                 filters.splice(j, 1);\r\n                        //                 break;\r\n                        //             }\r\n                        //         }\r\n                        //     }\r\n                        //     this.setState({\r\n                        //         filterTypes: currentFilters\r\n                        //     });\r\n                        // });\r\n                    } else {\r\n                        this.setState({\r\n                            listingMode: 0\r\n                        });\r\n                    }\r\n                });\r\n            } else {\r\n                // this.fetchFilters(1, null);\r\n                this.setState({\r\n                    listingMode: 0\r\n                });\r\n            }\r\n        } else {\r\n            // this.fetchFilters(1, null);\r\n            this.setState({\r\n                listingMode: 0\r\n            });\r\n        }\r\n        axios.get(window.api_prefix+\"/allLeafCategories\").then(resp => {\r\n            this.setState({\r\n                categoryOptions: resp.data\r\n            });\r\n        }).catch();\r\n\r\n\r\n        document.addEventListener(\"click\", (e) => {\r\n            if (this.predefItemAutofillRef.current) {\r\n                //search suggest is active\r\n                if (e.target !== this.predefItemAutofillRef.current && !e.target.classList.contains(styles.predefItemAutoFillInnerContainer)) {\r\n                    this.setState({\r\n                        blockAutofillDiv:true\r\n                    })\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    handleInputChange(e) {\r\n        const {name, value} = e.target;\r\n        if (name == \"category\") {\r\n            // this.fetchFilters(value);\r\n            this.setState({\r\n                [name]: value\r\n            });\r\n        } else if(name == \"predefItemSearch\"){\r\n            this.setState({\r\n                [name]: value,\r\n                blockAutofillDiv:false,\r\n                predefItemsSearchResult:[]\r\n            });\r\n            if(value.length>0){\r\n                axios.get(window.api_prefix+\"/searchPredefItemsByName?search=\"+value).then(resp=>{\r\n                    this.setState({\r\n                        predefItemsSearchResult:resp.data\r\n                    })\r\n                }).catch();\r\n            }\r\n        }else{\r\n            this.setState({\r\n                [name]: value\r\n            });\r\n        }\r\n    }\r\n\r\n    handleFilterValueChange(arrayIndex, event) {\r\n        let allFilters = this.state.filterTypes;\r\n        let currentFilter = allFilters[arrayIndex];\r\n        if (currentFilter.type == 0) {\r\n            currentFilter.userSelection = event.target.value;\r\n        } else if (currentFilter.type == 1) {\r\n            currentFilter.userSelection = event.target.value;\r\n            currentFilter.searchValue = \"\";\r\n        } else if (currentFilter.type == 2) {\r\n            currentFilter.userSelection = event.target.value;\r\n        }\r\n        allFilters[arrayIndex] = currentFilter;\r\n        this.setState({\r\n            filterTypes: allFilters\r\n        });\r\n    }\r\n\r\n    handleCustomFilterValueChange(arrayIndex, event) {\r\n        let allFilters = this.state.filterTypes;\r\n        let currentFilter = allFilters[arrayIndex];\r\n        currentFilter.searchValue = event.target.value;\r\n        allFilters[arrayIndex] = currentFilter;\r\n        this.setState({\r\n            filterTypes: allFilters\r\n        });\r\n    }\r\n\r\n    removePicture(index) {\r\n        let currentPictures = this.state.pictures;\r\n        currentPictures.splice(index, 1);\r\n        // axios.post(window.api_prefix+\"/removeListingPicture\").then(resp => {\r\n\r\n        // }).catch(err => {\r\n\r\n        // });\r\n        this.setState({\r\n            pictures: currentPictures\r\n        });\r\n    }\r\n\r\n    handleImageUpload(e) {\r\n        let file = e.target.files;\r\n        try {\r\n            if (!file) {\r\n                throw new Error('Select a file first!');\r\n            }\r\n            let availableNbPictures = 5 - this.state.pictures.length;\r\n            let nbPicturesCompleted = 0;\r\n            this.setState({\r\n                isDataLoading: true\r\n            });\r\n            let nbFiles = file.length;\r\n            for (let i = 0; i < nbFiles; i++) {\r\n                if (i >= availableNbPictures) {\r\n                    this.setState({\r\n                        isDataLoading: false,\r\n                        formError: \"You have uploaded the maximum number of pictures. Only \" + availableNbPictures + \" pictures were uploaded.\"\r\n                    });\r\n                    return;\r\n                }\r\n                let fileName = file[i].name;\r\n                const formData = new FormData();\r\n                formData.append('file', file[i]);\r\n                axios.post(window.api_prefix+`/uploadListingPicture`, formData, {\r\n                    headers: {\r\n                        'Content-Type': 'multipart/form-data',\r\n                    },\r\n                }).then(resp => {\r\n                    nbPicturesCompleted++;\r\n                    if (nbPicturesCompleted == nbFiles) {\r\n                        this.setState({\r\n                            isDataLoading: false\r\n                        });\r\n                    }\r\n                    let currentPictures = this.state.pictures;\r\n                    currentPictures.push(resp.data.Location);\r\n                    this.setState({\r\n                        pictures: currentPictures\r\n                    });\r\n                }).catch(err => {\r\n                    if (err.response) {\r\n                        this.setState({\r\n                            isDataLoading: false,\r\n                            formError: \"Your file \" + fileName + \" could not be uploaded, please try again.\"\r\n                        });\r\n                    }\r\n                });\r\n            }\r\n            this.pictureInputRef.current.value = null;\r\n        } catch (error) {\r\n            // handle error\r\n            this.setState({\r\n                isDataLoading: false\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n    postListing() {\r\n        // let filters = this.state.filterTypes;\r\n        // let title = this.state.title;\r\n        // let cat = this.state.category;\r\n        let price = this.state.price;\r\n        let description = this.state.description;\r\n        let condition = this.state.condition;\r\n        let predefType = this.state.predefItemId;\r\n        let predefTypeName = this.state.predefItemName;\r\n\r\n        let pictures = this.state.pictures;\r\n\r\n        // let filtersType0 = [];\r\n        // let filtersType1Custom = [];\r\n        // let filtersType1Predefined = [];\r\n        // let filtersType2 = [];\r\n        // for (let i = 0; i < filters.length; i++) {\r\n        //     if (filters[i].type == 0) {\r\n        //         filtersType0.push({ id: filters[i].id, value: filters[i].userSelection });\r\n        //     } else if (filters[i].type == 1) {\r\n        //         if (filters[i].userSelection == -1 || filters[i].searchValue.length > 0) {\r\n        //             filtersType1Custom.push({ id: filters[i].id, searchValue: filters[i].searchValue });\r\n        //         } else {\r\n        //             let value = filters[i].options[filters[i].userSelection].id;\r\n        //             filtersType1Predefined.push({ id: filters[i].id, value: value });\r\n        //         }\r\n        //     } else if (filters[i].type == 2) {\r\n        //         filtersType2.push({ id: filters[i].id, value: filters[i].userSelection });\r\n        //     }\r\n        // }\r\n\r\n        // if (title.length > 0 && title.length < 255) {\r\n        //     if (price.toString().length > 0 && price.toString().length < 255) {\r\n        //         if (description.length > 0 && description.length < 255) {\r\n        //             if (pictures.length > 0) {\r\n        //                 if (pictures.length < 6) {\r\n        //                     for (let i = 0; i < filters.length; i++) {\r\n        //                         console.log(filters[i]);\r\n        //                     }\r\n        //\r\n        //                     let reqObj = { listingId: this.state.listingId, title: title, cat: cat, price: price, description: description, condition: condition, pictures: pictures, filtersType0: filtersType0, filtersType1Custom: filtersType1Custom, filtersType1Predefined: filtersType1Predefined, filtersType2 };\r\n        //                     if (this.state.listingMode == 1) {\r\n        //                         axios.post(window.api_prefix+\"/editListing\", reqObj).then((resp) => {\r\n        //                             this.props.history.push(\"/my-listings\");\r\n        //                         });\r\n        //                     } else {\r\n        //                         axios.post(window.api_prefix+\"/postListing\", reqObj).then(resp => {\r\n        //                             this.props.history.push(\"/verifyListing?id=\" + resp.data.listingId);\r\n        //                         });\r\n        //                     }\r\n        //                 } else {\r\n        //                     this.setState({\r\n        //                         formError: \"You have exceeded the amount of authorized pictures. Please remove at least 1 picture.\"\r\n        //                     });\r\n        //                 }\r\n        //             } else {\r\n        //                 this.setState({\r\n        //                     formError: \"Please upload at least 1 picture.\"\r\n        //                 });\r\n        //             }\r\n        //         } else {\r\n        //             this.setState({\r\n        //                 formError: \"Your listing description should be between 1 and 255 characters.\"\r\n        //             });\r\n        //         }\r\n        //     } else {\r\n        //         this.setState({\r\n        //             formError: \"Please fill in a listing price.\"\r\n        //         });\r\n        //     }\r\n        // } else {\r\n        //     this.setState({\r\n        //         formError: \"Your listing title should be between 1 and 255 characters.\"\r\n        //     });\r\n        // }\r\n\r\n        if(this.state.listingMode == 1 || (predefType != -1 && predefTypeName.length>0)){\r\n            if (price.toString().length > 0 && price.toString().length < 255) {\r\n                if (description.length < 255) {\r\n                    if (pictures.length > 0) {\r\n                        if (pictures.length < 6) {\r\n                            let reqObj = { listingId: this.state.listingId, predefTypeName:predefTypeName, price: price, description: description, condition: condition, pictures: pictures, predefType:predefType};\r\n                            if (this.state.listingMode == 1) {\r\n                                axios.post(window.api_prefix+\"/editListing\", reqObj).then((resp) => {\r\n                                    this.props.history.push(\"/my-listings\");\r\n                                });\r\n                            } else {\r\n                                axios.post(window.api_prefix+\"/postListing\", reqObj).then(resp => {\r\n                                    this.props.history.push(\"/verifyListing?id=\" + resp.data.listingId);\r\n                                });\r\n                            }\r\n                        } else {\r\n                            this.setState({\r\n                                formError: \"You have exceeded the amount of authorized pictures. Please remove at least 1 picture.\"\r\n                            });\r\n                        }\r\n                    } else {\r\n                        this.setState({\r\n                            formError: \"Please upload at least 1 picture.\"\r\n                        });\r\n                    }\r\n                } else {\r\n                    this.setState({\r\n                        formError: \"Your listing description should be between 1 and 255 characters.\"\r\n                    });\r\n                }\r\n            } else {\r\n                this.setState({\r\n                    formError: \"Please fill in a listing price.\"\r\n                });\r\n            }\r\n        }else{\r\n            this.setState({\r\n                formError: \"Please select an item type that we accept.\"\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n        const { t } = this.props;\r\n        let smallPictures = [];\r\n        //start from second picture\r\n        if (this.state.pictures.length > 1) {\r\n            for (let i = 1; i < this.state.pictures.length; i++) {\r\n                smallPictures.push(<div key={i} style={{ backgroundImage: \"url('/assets/landingPage/stockPic3.jpg')\" }} className={styles.smallPictureImg}></div>);\r\n            }\r\n        }\r\n\r\n\r\n\r\n        let categoriesOptions = this.state.categoryOptions.map((cat, key) => {\r\n            return (\r\n                <option key={key} value={cat.id}>{cat.name}</option>\r\n            );\r\n        });\r\n\r\n        let conditionsOptionsArray = [\r\n            {\r\n                id: 0,\r\n                name: \"New (sealed)\"\r\n            },\r\n            {\r\n                id: 1,\r\n                name: \"Like new\"\r\n            },\r\n            {\r\n                id: 2,\r\n                name: \"Lightly used\"\r\n            },\r\n            {\r\n                id: 3,\r\n                name: \"Used\"\r\n            },\r\n            {\r\n                id: 4,\r\n                name: \"Broken\"\r\n            },\r\n            {\r\n                id: 5,\r\n                name: \"For parts\"\r\n            }\r\n        ];\r\n\r\n        let conditionsOptions = conditionsOptionsArray.map((cond, key) => {\r\n            return (\r\n                <option key={key} value={cond.id}>{cond.name}</option>\r\n            );\r\n        });\r\n\r\n\r\n        let filtersList;\r\n        if (this.state.filterTypes.length > 0) {\r\n            filtersList = this.state.filterTypes.map((filter, key) => {\r\n\r\n                if (filter.type == 0) {\r\n                    return (\r\n                        <div key={key}>\r\n                            <p className={styles.regularTextHalfMargin + \" regularTextMedium\"}>{filter.name}?</p>\r\n                            <select value={filter.userSelection} onChange={this.handleFilterValueChange.bind(this, key)} className={styles.selectInput + \" regularText\"}>\r\n                                <option value=\"0\">No</option>\r\n                                <option value=\"1\">Yes</option>\r\n                            </select>\r\n                        </div>\r\n                    );\r\n                } else if (filter.type == 1) {\r\n                    let options = filter.options.map((option, key) => {\r\n                        return (\r\n                            <option value={key} key={key}>{option.textvalue}</option>\r\n                        );\r\n                    });\r\n                    let inputValue = \"\";\r\n                    if (filter.searchValue.length > 0 || filter.options.length == 0) {\r\n                        inputValue = filter.searchValue;\r\n                    } else {\r\n                        inputValue = filter.options[filter.userSelection].textvalue;\r\n                    }\r\n                    return (\r\n                        <div key={key}>\r\n                            <p className={styles.regularTextHalfMargin + \" regularTextMedium\"}>{filter.name}</p>\r\n                            <input type=\"text\" className={styles.textInput + \" regularText\"} value={inputValue} onChange={this.handleCustomFilterValueChange.bind(this, key)} ></input>\r\n                            {\r\n                                filter.options.length > 0 ?\r\n                                    <select value={filter.userSelection} onChange={this.handleFilterValueChange.bind(this, key)} className={styles.selectInput + \" regularText\"}>\r\n                                        {options}\r\n                                    </select>\r\n                                    :\r\n                                    null\r\n                            }\r\n                        </div>\r\n                    );\r\n                } else if (filter.type == 2) {\r\n                    return (\r\n                        <div key={key}>\r\n                            <p className={styles.regularTextHalfMargin + \" regularTextMedium\"}># {filter.name}</p>\r\n                            <input type=\"number\" className={styles.textInput + \" regularText\"} step=\"1\" min=\"0\" max=\"1000\" value={filter.userSelection} onChange={this.handleFilterValueChange.bind(this, key)} ></input>\r\n                        </div>\r\n                    );\r\n                }\r\n            });\r\n        } else {\r\n            filtersList = null;\r\n        }\r\n        let pageTitle = \"New listing\";\r\n\r\n        if (this.state.listingMode == 1) {\r\n            pageTitle = \"Edit listing\";\r\n        } else if (this.state.listingMode == 2) {\r\n            pageTitle = \"Publish draft listing\";\r\n        }else if(this.state.listingMode == 0 && this.state.predefItemName.length>0){\r\n            pageTitle = \"Selling \"+this.state.predefItemName;\r\n        }\r\n\r\n        let picturePreviews = this.state.pictures.map((pics, key) => {\r\n            return (\r\n                <div key={key} className={styles.pictureSquare} onClick={() => this.removePicture(key)} style={{ backgroundImage: \"url('\" + pics + \"')\" }}>\r\n                    <div>\r\n                        <img src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/x.svg\" />\r\n                    </div>\r\n                </div>\r\n            );\r\n        });\r\n\r\n        let predefItemAutofill = null;\r\n        if(this.predefItemInputRef.current){\r\n            let autofillInputPos = this.predefItemInputRef.current.getBoundingClientRect();\r\n            if(this.state.currentPage != 1 && this.state.predefItemSearch.length > 0 && this.state.blockAutofillDiv == false){\r\n                predefItemAutofill = (\r\n                    <div id={styles.predefItemAutofillContainer} style={{left:autofillInputPos.left, top:autofillInputPos.top+50, width:this.predefItemInputRef.current.offsetWidth}} ref={this.predefItemAutofillRef}>\r\n                        {this.state.predefItemsSearchResult.length == 0 ?\r\n                            <p>No result</p>\r\n                            :\r\n                            this.state.predefItemsSearchResult.map((item, key)=>{\r\n                                return (\r\n                                    <div className={styles.predefItemAutofillInnerContainer} key={key} onClick={()=>{\r\n                                        this.setState(prevState=>({\r\n                                            currentPage:1,\r\n                                            predefItemId:prevState.predefItemsSearchResult[key].id,\r\n                                            predefItemName:prevState.predefItemsSearchResult[key].title\r\n                                        }));\r\n                                    }}>\r\n                                        <p>{item.title}</p>\r\n                                    </div>\r\n                                )\r\n                            })\r\n                        }\r\n                    </div>\r\n                );\r\n            }\r\n        }\r\n\r\n    let currentPage;\r\n        if(this.state.currentPage == 1){\r\n            currentPage = (\r\n                <div id={styles.formContainer}>\r\n                    <p className={styles.regularText + \" title1\"}>{pageTitle}</p>\r\n                    {/*<p className={styles.regularTextHalfMargin + \" regularTextMedium\"}>Title</p>*/}\r\n                    {/*<input className={styles.textInput + \" regularText\"} name=\"title\" value={this.state.title} onChange={this.handleInputChange} type=\"text\"></input>*/}\r\n                    <p className={styles.regularTextHalfMargin + \" regularTextMedium\"}>In what condition is the item?</p>\r\n                    <select value={this.state.condition} onChange={this.handleInputChange} className={styles.selectInput + \" regularText\"} name=\"condition\">\r\n                        {conditionsOptions}\r\n                    </select>\r\n                    <p className={styles.regularTextHalfMargin + \" regularTextMedium\"}>At what price will your item be listed?</p>\r\n                    <input min=\"1\" step=\"0.05\" className={styles.textInput + \" regularText\"} name=\"price\" value={this.state.price} onChange={this.handleInputChange} type=\"number\"></input>\r\n\r\n\r\n                    {/*<p className={styles.regularTextHalfMargin + \" regularTextMedium\"}>Category</p>*/}\r\n                    {/*<select value={this.state.category} onChange={this.handleInputChange} className={styles.selectInput + \" regularText\"} name=\"category\">*/}\r\n                    {/*    {categoriesOptions}*/}\r\n                    {/*</select>*/}\r\n\r\n                    <p className={styles.regularTextHalfMargin + \" regularTextMedium\"}>List all defects, errors, missing parts your item might have</p>\r\n                    <textarea id={styles.descriptionTextarea} name=\"description\" value={this.state.description} onChange={this.handleInputChange}></textarea>\r\n                    {/* {filtersList} */}\r\n                    <p className={styles.regularTextHalfMargin + \" regularTextMedium\"}>Pictures</p>\r\n                    {picturePreviews}\r\n                    {\r\n                        this.state.pictures.length < 5 ?\r\n                            <label id={styles.fileInputLabel} htmlFor={styles.fileInput}>\r\n                                <div>\r\n                                    <img src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/plus.svg\" />\r\n                                </div>\r\n                            </label>\r\n                            :\r\n                            null\r\n                    }\r\n                    <input id={styles.fileInput} onChange={this.handleImageUpload} ref={this.pictureInputRef} type=\"file\" accept=\".jpg, .jpeg, .png, .svg\" multiple></input>\r\n                    <p>{this.state.formError}</p>\r\n                    <button className={\"buttonCta regularTextMedium \" + styles.ctaButton} onClick={this.postListing}>List now</button>\r\n                </div>\r\n            );\r\n        }else{\r\n            currentPage = (\r\n                <div id={styles.formContainer}>\r\n                    <p className={styles.regularText + \" title1\"}>{pageTitle}</p>\r\n                    <p className={styles.regularTextHalfMargin + \" regularTextMedium\"}>What item are you selling?</p>\r\n                    <input ref={this.predefItemInputRef} className={styles.textInput + \" regularText\"} placeholder={\"search for brand, model, color, storage\"} name=\"predefItemSearch\" value={this.state.predefItemSearch} onChange={this.handleInputChange} type=\"text\"></input>\r\n                    <p>{this.state.formError}</p>\r\n                    <p onClick={()=>{this.setState({isUnlistedItemModalDisplayed:true})}} className={\"regularText \"+styles.regularText} style={{textDecoration:\"underline\", cursor:\"pointer\"}}>Your item is not listed?</p>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                <div id={styles.topMainContainer}>\r\n                    {currentPage}\r\n                </div>\r\n                {predefItemAutofill}\r\n\r\n                {\r\n                    this.state.isDataLoading == true ?\r\n                        <Spinner />\r\n                        :\r\n                        null\r\n                }\r\n\r\n                <Footer />\r\n                <MobileBottomNav {...this.props} />\r\n                <DesktopTopNav key={new Date().getTime()} {...this.props} />\r\n                <Modal title=\"Your item is not listed\" closeModal={() => {\r\n                    this.setState({\r\n                        isUnlistedItemModalDisplayed: false,\r\n                    })\r\n                }} show={this.state.isUnlistedItemModalDisplayed} description={\"Tell us what it is that you want to sell so we can quickly add it to our community. You'll be notified as soon as we add it.\"}>\r\n                    <input name=\"recommendItemInput\" value={this.state.recommendItemInput} className={\"regularText inputText\"} style={{width:\"100%\", height:\"50px\"}} onChange={this.handleInputChange} type=\"text\" placeholder=\"Item name\" />\r\n                    <div className=\"modalSubmitButtonDiv\">\r\n                        <button className=\"modalSubmitButton regularTextMedium buttonCta\" onClick={()=>{\r\n                            if(this.state.recommendItemInput.length>0){\r\n                                axios.post(window.api_prefix+\"/addPredefItemRecommendation\", {item:this.state.recommendItemInput});\r\n                                this.setState({\r\n                                    recommendItemInput:\"\",\r\n                                    isUnlistedItemModalDisplayed:false\r\n                                });\r\n                            }\r\n                        }}>Send item</button>\r\n                    </div>\r\n                </Modal>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default withTranslation()(NewListing);\r\n","import React from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport Footer from \"microComponents/Footer.js\";\r\nimport styles from \"public/style/search.module.css\";\r\nimport DesktopTopNav from \"microComponents/DesktopTopNav.js\";\r\nimport MobileBottomNav from \"microComponents/MobileBottomNav.js\";\r\nimport queryString from \"query-string\";\r\nimport ActivityTicker from \"microComponents/ActivityTicker\";\r\nimport Modal from \"microComponents/Modal\";\r\nimport ListingCard from \"microComponents/ListingCardSmallCard\";\r\nimport MobileSearch from \"../microComponents/MobileSearch\";\r\n\r\nclass SearchPage extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            textualSearchValue: \"...\",\r\n            category: 0,\r\n            filters: [],\r\n            isFiltersModalOpened: false,\r\n            results: [],\r\n            params: [],\r\n\r\n            categories:[],\r\n            isMobileSearchDisplayed:false\r\n        }\r\n        this.rebuildUrl = this.rebuildUrl.bind(this);\r\n        this.searchFromUrl = this.searchFromUrl.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        let params = queryString.parse(window.location.search);\r\n        if(typeof params.predefType != \"undefined\"){\r\n            axios.get(window.api_prefix+\"/getPredefTypeName?id=\" + params.predefType).then((resp) => {\r\n                this.setState({\r\n                    textualSearchValue: resp.data.title\r\n                });\r\n            });\r\n            this.searchFromUrl(params, false);\r\n        }else if (typeof params.cat != 'undefined') {\r\n            axios.get(window.api_prefix+\"/getCategoryName?id=\" + params.cat).then((resp) => {\r\n                this.setState({\r\n                    textualSearchValue: resp.data.name\r\n                });\r\n            });\r\n            this.setState({\r\n                category: params.cat,\r\n                params: params\r\n            });\r\n            this.searchFromUrl(params, true)\r\n        }\r\n        axios.get(window.api_prefix+\"/allCategories\").then(res => {\r\n            for (let i = 0; i < res.data.length; i++) {\r\n                if (res.data[i].parentid != null) {\r\n                    for (let j = 0; j < res.data.length; j++) {\r\n                        if (res.data[i].parentid === res.data[j].id) {\r\n                            if (res.data[j].children) {\r\n                                res.data[j].children.push(res.data[i]);\r\n                            } else {\r\n                                res.data[j].children = [res.data[i]];\r\n                            }\r\n                            res.data.splice(i, 1);\r\n                            i--;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            this.setState({\r\n                categories: res.data\r\n            });\r\n        }).catch();\r\n    }\r\n\r\n\r\n\r\n    rebuildUrl() {\r\n        let baseUrl = window.location.pathname + \"?\";\r\n        const allKeys = Object.keys(this.state.params);\r\n        allKeys.forEach((key) => {\r\n            if (this.state.params[key] instanceof Array) {\r\n                for (let i = 0; i < this.state.params[key].length; i++) {\r\n                    baseUrl += key + \"=\" + this.state.params[key][i] + \"&\";\r\n                }\r\n            } else {\r\n                baseUrl += key + \"=\" + this.state.params[key] + \"&\";\r\n            }\r\n        });\r\n        baseUrl = baseUrl.substring(0, baseUrl.length - 1);\r\n        this.props.history.push(baseUrl);\r\n        this.searchFromUrl(this.state.params, false);\r\n    }\r\n    valueIsPresent(elem, array) {\r\n        let element = elem.toString();\r\n        for (let i = 0; i < array.length; i++) {\r\n            if (element == array[i].toString()) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    searchFromUrl(params, isCategoryProvided) {\r\n        axios.post(window.api_prefix+\"/searchResults\", params).then(resp => {\r\n            this.setState({\r\n                results: resp.data\r\n            });\r\n        });\r\n        if(isCategoryProvided){\r\n            axios.get(window.api_prefix+\"/categoriesSpecificFilters?categoryId=\" + params.cat).then(resp => {\r\n                let filterNames = resp.data.filterNames;\r\n                let filterValues = resp.data.filterValues;\r\n                for (let i = 0; i < filterNames.length; i++) {\r\n                    if (filterNames[i].type == 0) {\r\n                        //Y/N filter\r\n\r\n                        if (typeof params[filterNames[i].id] != \"undefined\") {\r\n                            filterNames[i].value = params[filterNames[i].id];\r\n                        } else {\r\n                            filterNames[i].value = 0;\r\n                        }\r\n                        continue;\r\n                    } else if (filterNames[i].type == 1) {\r\n                        //CUSTOM or SELECT filter\r\n                        filterNames[i].options = [];\r\n                        filterNames[i].value = [];\r\n                        if (typeof params[filterNames[i].id] != \"undefined\") {\r\n                            if (params[filterNames[i].id] instanceof Array) {\r\n\r\n                                let searchOptions = params[filterNames[i].id];\r\n                                for (let j = 0; j < filterValues.length; j++) {\r\n                                    if (filterValues[j].filtertypeid == filterNames[i].id) {\r\n                                        console.log(filterValues[j].value);\r\n                                        console.log(searchOptions);\r\n                                        if (this.valueIsPresent(filterValues[j].value, searchOptions)) {\r\n                                            console.log(\"YEEE\");\r\n                                            filterNames[i].value.push(filterNames[i].options.length);\r\n                                        }\r\n                                        filterNames[i].options.push(filterValues[j]);\r\n                                    }\r\n                                }\r\n                            } else {\r\n                                let searchOptions = params[filterNames[i].id];\r\n                                for (let j = 0; j < filterValues.length; j++) {\r\n                                    if (filterValues[j].filtertypeid == filterNames[i].id) {\r\n                                        if (searchOptions == filterValues[j].value) {\r\n                                            filterNames[i].value.push(filterNames[i].options.length);\r\n                                        }\r\n                                        filterNames[i].options.push(filterValues[j]);\r\n                                    }\r\n                                }\r\n                            }\r\n                        } else {\r\n                            for (let j = 0; j < filterValues.length; j++) {\r\n                                if (filterValues[j].filtertypeid == filterNames[i].id) {\r\n                                    filterNames[i].options.push(filterValues[j]);\r\n                                }\r\n                            }\r\n                        }\r\n                        console.log(filterNames[i].value);\r\n                    } else if (filterNames[i].type == 2) {\r\n\r\n                        //number filter\r\n                        if (typeof params[filterNames[i].id] != \"undefined\") {\r\n                            filterNames[i].value = params[filterNames[i].id];\r\n                        } else {\r\n                            filterNames[i].value = 0;\r\n                        }\r\n                    }\r\n                }\r\n                console.log(\"--- - - - -- - - \");\r\n                console.log(filterNames);\r\n                console.log(\"--- - - - -- - - \");\r\n                this.setState({\r\n                    filters: filterNames\r\n                });\r\n            });\r\n        }\r\n    }\r\n\r\n    handleFilterValueChange(key, event) {\r\n        const target = event.target;\r\n        let currentFilters = this.state.filters;\r\n        let params = this.state.params;\r\n        if (currentFilters[key].type == 0) {\r\n            currentFilters[key].value = (target.checked == true ? 1 : 0);\r\n            params[currentFilters[key].id] = currentFilters[key].value;\r\n        } else if (currentFilters[key].type == 2) {\r\n            params[currentFilters[key].id] = target.value;\r\n            currentFilters[key].value = target.value;\r\n        }\r\n        this.setState({\r\n            filters: currentFilters,\r\n            params: params\r\n        }, this.rebuildUrl)\r\n    }\r\n\r\n    handleType1FilterValueChange(key1, key2, event) {\r\n        const target = event.target;\r\n        let params = this.state.params;\r\n        let currentFilters = this.state.filters;\r\n        if (currentFilters[key1].type == 1) {\r\n            if (target.checked == true) {\r\n                let elemIndex = currentFilters[key1].value.indexOf(key2);\r\n                if (elemIndex == -1) {\r\n                    currentFilters[key1].value.push(key2);\r\n                }\r\n            } else {\r\n                let elemIndex = currentFilters[key1].value.indexOf(key2);\r\n                if (elemIndex != -1) {\r\n                    currentFilters[key1].value.splice(elemIndex, 1);\r\n                }\r\n            }\r\n\r\n            let paramsType1Array = [];\r\n            for (let k = 0; k < currentFilters[key1].value.length; k++) {\r\n                paramsType1Array.push(currentFilters[key1].options[currentFilters[key1].value[k]].value);\r\n            }\r\n            params[currentFilters[key1].id] = paramsType1Array;\r\n        }\r\n        this.setState({\r\n            filters: currentFilters,\r\n            params: params\r\n        }, this.rebuildUrl)\r\n    }\r\n\r\n    render() {\r\n        let visibleFilters = [];\r\n        // for (let i = 0; i < 2; i++) {\r\n        //     if (this.state.filters[i]) {\r\n        //         let filterString = \"\";\r\n        //         for (let j = 0; j < this.state.filters[i].values.length; j++) {\r\n        //             filterString += this.state.filters[i].values[j].textualValue + \", \"\r\n        //         }\r\n        //         filterString = filterString.substring(0, filterString.length - 2);\r\n        //         visibleFilters.push(\r\n        //             <div key={i} className={styles.topicContainer}>\r\n        //                 <p className={styles.regularTextNoMargin + \" regularText\"}>{filterString}</p>\r\n        //             </div>\r\n        //         );\r\n        //     } else {\r\n        //         break;\r\n        //     }\r\n        // }\r\n        visibleFilters.push(\r\n            <div key={\"a1\"} className={styles.topicContainer} onClick={() => {\r\n                this.setState({\r\n                    isFiltersModalOpened: true\r\n                });\r\n            }}>\r\n                <p className={styles.regularTextNoMargin + \" regularText\"}>All filters</p>\r\n            </div>\r\n        );\r\n\r\n\r\n        let filtersDiv = this.state.filters.map((filter, key) => {\r\n            let filterName;\r\n            if (filter.type == 0) {\r\n                filterName = filter.name + \"?\";\r\n\r\n                let value = (this.state.filters[key].value == 0 ? false : true);\r\n                return (\r\n                    <div key={key}>\r\n                        <p>{filterName}</p>\r\n                        <input checked={value} onChange={this.handleFilterValueChange.bind(this, key)} type=\"checkbox\"></input>\r\n\r\n                    </div>\r\n                );\r\n            } else if (filter.type == 1) {\r\n                filterName = filter.name;\r\n                if (filter.options.length > 0) {\r\n                    let filtersType1Options = filter.options.map((option, key2) => {\r\n                        let value = this.valueIsPresent(key2, filter.value);\r\n                        return (\r\n                            <div key={key + \"_\" + key2}>\r\n                                <p>{option.textvalue}</p>\r\n                                <input type=\"checkbox\" checked={value} onChange={this.handleType1FilterValueChange.bind(this, key, key2)}></input>\r\n                            </div>\r\n                        );\r\n                    });\r\n                    return (\r\n                        <div key={key}>\r\n                            <p>{filterName}</p>\r\n                            {filtersType1Options}\r\n                        </div>\r\n                    );\r\n                } else {\r\n                    return null;\r\n                }\r\n\r\n            } else if (filter.type == 2) {\r\n                filterName = \"#\" + filter.name;\r\n                return (\r\n                    <div key={key}>\r\n                        <p>{filterName}</p>\r\n                        <input min=\"0\" step=\"0.1\" value={this.state.filters[key].value} onChange={this.handleFilterValueChange.bind(this, key)} type=\"number\"></input>\r\n                    </div >\r\n                );\r\n            }\r\n\r\n        });\r\n\r\n        let listings = this.state.results.map((listing, key) => {\r\n            return (\r\n                <ListingCard key={key} listing={listing} />\r\n            );\r\n        });\r\n\r\n        return (\r\n            <div>\r\n                <div id={styles.bodyContainer}>\r\n                    <div id={styles.topMainContainer}>\r\n                        <div id={styles.topBar}>\r\n                            <div id={styles.topBarTopContainer}>\r\n                                <div onClick={()=>{this.setState({isMobileSearchDisplayed:true})}} id={styles.mobileSearchContainer}>\r\n                                    <img src={\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/search.svg\"} />\r\n                                    <p className={\"title2\"}>{this.state.textualSearchValue}</p>\r\n                                </div>\r\n                                <p onClick={()=>{this.setState({isMobileSearchDisplayed:true})}} className={styles.regularText + \" title1 \"+styles.hideMobile}>{this.state.textualSearchValue}<span className={\"regularText\"}>{\" (\" + this.state.results.length + \" results)\"}</span></p><p className={styles.regularText + \" regularText \"+styles.hideDesktop}>{\" (\" + this.state.results.length + \" results)\"}</p>\r\n                            </div>\r\n                            {/* <div id={styles.topBarBottomContainer}>\r\n                                {visibleFilters}\r\n                            </div> */}\r\n                        </div>\r\n                        <div className={styles.separatorLine}></div>\r\n                        <div id={styles.resultsContainer}>\r\n                            {listings}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n\r\n                <Footer />\r\n                <MobileBottomNav {...this.props} />\r\n                <DesktopTopNav key={new Date().getTime()} {...this.props} />\r\n                <ActivityTicker />\r\n\r\n                {this.state.isMobileSearchDisplayed == true? <MobileSearch history={this.props.history} closeSearch = {()=>{this.setState({isMobileSearchDisplayed:false})}} categories={this.state.categories} />:null}\r\n\r\n\r\n                {/* <Modal title=\"Filters\" closeModal={() => {\r\n                    this.setState({\r\n                        isFiltersModalOpened: false\r\n                    })\r\n                }} show={this.state.isFiltersModalOpened}>\r\n                    {filtersDiv}\r\n                </Modal> */}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default SearchPage;","import PropTypes from \"prop-types\";\r\nimport React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { logoutUser } from \"../reduxActions/authActions\";\r\n\r\nclass Logout extends React.Component {\r\n    componentDidMount() {\r\n        this.props.logoutUser();\r\n    }\r\n    render() {\r\n        return <p></p>;\r\n    }\r\n}\r\n\r\n\r\nLogout.propTypes = {\r\n    logoutUser: PropTypes.func.isRequired,\r\n    auth: PropTypes.object.isRequired\r\n};\r\nconst mapStateToProps = state => ({\r\n    auth: state.auth\r\n});\r\nexport default connect(\r\n    mapStateToProps,\r\n    { logoutUser }\r\n)(Logout);","import React from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport Footer from \"microComponents/Footer.js\";\r\nimport styles from \"public/style/saved.module.css\";\r\nimport DesktopTopNav from \"microComponents/DesktopTopNav.js\";\r\nimport MobileBottomNav from \"microComponents/MobileBottomNav.js\";\r\nimport SpecialCard from \"microComponents/SpecialListingCard.js\";\r\nimport BodyContainer from \"microComponents/BodyContainer\";\r\nimport Body from \"microComponents/BodyContainer\";\r\nimport Modal from \"microComponents/Modal.js\";\r\nimport ReviewsCard from \"microComponents/ReviewsCard.js\";\r\nimport Spinner from \"microComponents/LoaderAnimation\";\r\nimport Snackbar from \"microComponents/SnackBar.js\";\r\nimport queryString from \"query-string\";\r\n\r\nclass VerifyListing extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            listingId: 0,\r\n            verificationTimestamp: 0,\r\n            username: \"\",\r\n            isLoading: true,\r\n            formError: \"\",\r\n            picture: null,\r\n            isUploadingPic: false\r\n        }\r\n\r\n        this.handleImageUpload = this.handleImageUpload.bind(this);\r\n        this.removePicture = this.removePicture.bind(this);\r\n        this.submitVerification = this.submitVerification.bind(this);\r\n\r\n        this.pictureInputRef = React.createRef();\r\n\r\n        this.snackbarRef = React.createRef();\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n        if (queryString.parse(window.location.search).id) {\r\n            let listingId = queryString.parse(window.location.search).id;\r\n\r\n            axios.get(window.api_prefix+\"/listingVerifCode?id=\" + listingId).then(resp => {\r\n                console.log(resp.data);\r\n                this.setState({\r\n                    listingId: listingId,\r\n                    verificationTimestamp: resp.data.verificationTimestamp,\r\n                    username: resp.data.username,\r\n                    isLoading: false\r\n                });\r\n            }).catch();\r\n        } else {\r\n            this.props.history.push(\"/my-listings?activeTab=1\");\r\n        }\r\n    }\r\n\r\n    removePicture() {\r\n        this.setState({\r\n            picture: null\r\n        });\r\n        this.pictureInputRef.current.value = null;\r\n\r\n    }\r\n\r\n    handleImageUpload(e) {\r\n        let currentPicture = this.state.picture;\r\n        if (currentPicture == null) {\r\n            let file = e.target.files;\r\n            try {\r\n                if (!file) {\r\n                    throw new Error('Select a file first!');\r\n                }\r\n                const formData = new FormData();\r\n                formData.append('file', file[0]);\r\n                this.setState({\r\n                    isUploadingPic: true\r\n                });\r\n                axios.post(window.api_prefix+`/uploadListingVerification`, formData, {\r\n                    headers: {\r\n                        'Content-Type': 'multipart/form-data',\r\n                    },\r\n                }).then(resp => {\r\n                    this.setState({\r\n                        picture: resp.data.Location,\r\n                        isUploadingPic: false\r\n                    });\r\n                });\r\n\r\n                this.pictureInputRef.current.value = null;\r\n            } catch (error) {\r\n                this.setState({\r\n                    formError: \"There has been a server error, please try again.\",\r\n                    isUploadingPic: false\r\n                });\r\n            }\r\n        } else {\r\n            this.setState({\r\n                formError: \"Please remove your picture before uploading it again.\",\r\n                isUploadingPic: false\r\n            });\r\n        }\r\n    }\r\n\r\n    submitVerification() {\r\n        if (this.state.picture != null) {\r\n            this.setState({\r\n                isUploadingPic: true\r\n            });\r\n            axios.post(window.api_prefix+\"/submitListingVerification\", { picture: this.state.picture, listingId: this.state.listingId }).then(resp => {\r\n                this.props.history.push(\"/my-listings?activeTab=1\");\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    this.setState({\r\n                        formError: \"There has been a server error, please try again.\",\r\n                        isUploadingPic: false\r\n                    });\r\n                }\r\n            }\r\n            );\r\n        } else {\r\n            this.setState({\r\n                formError: \"Please upload your picture.\",\r\n                isUploadingPic: false\r\n            });\r\n        }\r\n    }\r\n    render() {\r\n        const { t } = this.props;\r\n        if (this.state.isLoading == true) {\r\n            return (\r\n                <div>\r\n                    <BodyContainer>\r\n                        <div className={styles.innerMainContainer}>\r\n                            Loading...\r\n                        </div>\r\n                    </BodyContainer>\r\n\r\n                    <Footer />\r\n                    <MobileBottomNav {...this.props} />\r\n                    <DesktopTopNav key={new Date().getTime()} {...this.props} />\r\n                </div>\r\n            );\r\n        }\r\n\r\n        let picturePreviews;\r\n        if (this.state.picture != null) {\r\n            picturePreviews = (\r\n                <div className={styles.pictureSquare} onClick={() => this.removePicture()} style={{ backgroundImage: \"url('\" + this.state.picture + \"')\" }}>\r\n                    <div>\r\n                        <img src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/x.svg\" />\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                <BodyContainer>\r\n                    <div className={styles.innerMainContainer}>\r\n                        <p ref={this.activeOffersRef} className={styles.sectionTitleP + \" title1 \"}>Let's verify your listing.</p>\r\n                        <p ref={this.activeOffersRef} className={styles.sectionTitleP + \" regularText\"}>Please upload a picture showing your item and a paper where you will have written your username <span className=\"regularTextBold\">@{this.state.username}</span> and the numbers <span className=\"regularTextBold\">{this.state.verificationTimestamp}</span>.</p>\r\n                        {picturePreviews}\r\n                        {\r\n                            this.state.picture == null ?\r\n                                <label id={styles.fileInputLabel} htmlFor={styles.fileInput}>\r\n                                    <div>\r\n                                        <img src=\"https://staticassets2020.s3.amazonaws.com/octiconsSvg/plus.svg\" />\r\n                                    </div>\r\n                                </label>\r\n                                :\r\n                                null\r\n                        }\r\n                        <div className={styles.paddedContainer}>\r\n                            <input id={styles.fileInput} onChange={this.handleImageUpload} ref={this.pictureInputRef} type=\"file\" accept=\".jpg, .jpeg, .png, .svg\"></input>\r\n                            <button className={styles.ctaButton + \" buttonCta\"} onClick={this.submitVerification}>Submit</button>\r\n                            <p>{this.state.formError}</p>\r\n                        </div>\r\n                    </div>\r\n                </BodyContainer>\r\n\r\n                <Footer />\r\n                <MobileBottomNav {...this.props} />\r\n                <DesktopTopNav key={new Date().getTime()} {...this.props} />\r\n                {\r\n                    this.state.isUploadingPic == true ?\r\n                        <Spinner />\r\n                        :\r\n                        null\r\n                }\r\n                <Snackbar ref={this.snackbarRef} />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default withTranslation()(VerifyListing);\r\n","\nimport React from \"react\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport ScrollToTop from \"scrollToTop\";\nimport ReactGA from 'react-ga';\nimport jwt_decode from \"jwt-decode\";\nimport setAuthToken from \"./utils/setAuthToken\";\nimport { setCurrentUser, logoutUser } from \"./reduxActions/authActions\";\n\nimport \"public/style/styleGuidelines.css\"\n\nimport { Provider } from \"react-redux\";\nimport reduxStore from \"./reduxStore\";\n\n\nimport PredefItems from \"views/PredefItems\";\n\nimport Home from \"views/Warzone\";\nimport Index from \"views/Warzone\";\nimport Page404 from \"views/Page404\";\nimport LaunchLandingPage from \"views/launchLandingPage.js\";\nimport AboutUs from \"views/AboutUs.js\";\nimport TermsPrivacy from \"views/TermsPrivacy.js\";\nimport Login from \"views/Login.js\";\nimport Signup from \"views/Signup.js\";\nimport Profile from \"views/Profile.js\";\nimport ListingPage from \"views/ListingPage.js\";\nimport Saved from \"views/Saved.js\";\nimport OrderHistory from \"views/orderHistory.js\";\nimport Listings from \"views/listings.js\";\n// import ContactUs from \"views/ContactUs.js\";\n\nimport PublicRoute from \"./utils/PublicOnlyRoute\";\nimport PrivateRoute from \"./utils/PrivateRoute\";\n\n\n\nimport EmployeeDashboard from \"./employeeScripts/views/Dashboard.js\";\n\n\n\n\nimport ActivityMobile from \"views/ActivityPageMobile\";\nimport BlogPost from \"views/BlogPost.js\";\nimport Community from \"views/Community\";\nimport AccountSetup from \"views/AccountSetup\";\nimport PaymentInstructions from \"views/PaymentInstructions\";\nimport StripePayment from \"views/StripePayment.js\";\nimport ProfileLinks from \"./views/ProfileLinks\";\nimport Account from \"./views/Account\";\nimport Following from \"./views/following.js\";\nimport NewListing from \"./views/NewListing.js\";\nimport Search from \"./views/Search.js\"\n\nimport Warzone from \"./views/Warzone\";\n\nimport LogoutScript from \"./views/LogoutScript\"\nimport VerifyListing from \"./views/VerifyListing\";\n\n\n\nReactGA.initialize('UA-180599599-1');\n\n\n\n\n// Check for token to keep user logged in\nif (localStorage.jwtToken) {\n  // Set auth token header auth\n  const token = localStorage.jwtToken;\n  setAuthToken(token);\n  // Decode token and get user info and exp\n  const decoded = jwt_decode(token);\n  // Set user and isAuthenticated\n  reduxStore.dispatch(setCurrentUser(decoded));\n  // Check for expired token\n  const currentTime = Date.now() / 1000; // to get in milliseconds\n  if (decoded.exp < currentTime) {\n    // Logout user\n    reduxStore.dispatch(logoutUser());\n    // Redirect to login\n    window.location.href = \"./login\";\n  }\n}\n\n\nfunction MainApp(props) {\n  return (\n    <Provider store={reduxStore}>\n      <Router>\n        <ScrollToTop>\n          <Switch>\n\n            <PublicRoute exact path=\"/\" component={LaunchLandingPage} />\n            <PublicRoute exact path=\"/index\" component={Index} />\n\n            <Route exact path=\"/predefItems\" component={PredefItems} />\n\n            <Route exact path=\"/about-us\" render={props => { ReactGA.pageview(props.location.pathname); return <AboutUs {...props} /> }} />\n            <Route exact path=\"/terms-privacy\" render={props => { ReactGA.pageview(props.location.pathname); return <TermsPrivacy {...props} /> }} />\n            <Route exact path=\"/login\" render={props => { ReactGA.pageview(props.location.pathname); return <Login {...props} /> }} />\n            <Route exact path=\"/signup\" render={props => { ReactGA.pageview(props.location.pathname); return <Signup {...props} /> }} />\n\n            <Route exact path=\"/user\" render={props => { ReactGA.pageview(props.location.pathname); return <Profile {...props} /> }} />\n            <Route exact path=\"/listing\" render={props => { ReactGA.pageview(props.location.pathname); return <ListingPage {...props} /> }} />\n            <Route exact path=\"/search\" render={props => { ReactGA.pageview(props.location.pathname); return <Search {...props} /> }} />\n            <Route exact path=\"/activity\" render={props => { ReactGA.pageview(props.location.pathname); return <ActivityMobile {...props} /> }} />\n\n\n            <Route exact path=\"/warzone\" render={props => { ReactGA.pageview(props.location.pathname); return <Warzone {...props} /> }} />\n\n\n\n            {/* <Route exact path=\"/payment\" render={props => { ReactGA.pageview(props.location.pathname); return <StripePayment {...props} /> }} /> */}\n\n            <Route exact path=\"/faq\" render={props => { ReactGA.pageview(props.location.pathname); return <Community {...props} /> }} />\n            <Route exact path=\"/blog-post/:id\" render={props => { ReactGA.pageview(props.location.pathname); return <BlogPost {...props} /> }} />\n\n            <Route exact path=\"/employee-dashboard\" render={props => { ReactGA.pageview(props.location.pathname); return <EmployeeDashboard {...props} /> }} />\n\n            <PrivateRoute exact path=\"/logout\" component={LogoutScript} />\n            <PrivateRoute exact path=\"/pay\" component={StripePayment} />\n            <PrivateRoute exact path=\"/verifyListing\" component={VerifyListing} />\n            <PrivateRoute exact path=\"/payment-details\" component={PaymentInstructions} />\n            <PrivateRoute exact path=\"/profile\" component={ProfileLinks} />\n            <PrivateRoute exact path=\"/account-setup\" component={AccountSetup} />\n            <PrivateRoute exact path=\"/home\" component={Home} />\n            <PrivateRoute exact path=\"/my-purchases\" component={OrderHistory} />\n            <PrivateRoute exact path=\"/my-listings\" component={Listings} />\n            <PrivateRoute exact path=\"/saved\" component={Saved} />\n            <PrivateRoute exact path=\"/account\" component={Account} />\n            <PrivateRoute exact path=\"/following\" component={Following} />\n            <PrivateRoute exact path=\"/new-listing\" component={NewListing} />\n\n            {/* <Route exact path=\"/contact-us\" render={props => { ReactGA.pageview(props.location.pathname); return <ContactUs {...props} /> }} /> */}\n\n            <Route path=\"*\" render={props => { ReactGA.pageview(props.location.pathname); return <Page404 {...props} /> }} />\n          </Switch>\n        </ScrollToTop>\n      </Router>\n    </Provider >\n  );\n}\n\nexport default MainApp;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n  // [::1] is the IPv6 localhost address.\n  window.location.hostname === '[::1]' ||\n  // 127.0.0.0/8 are considered localhost for IPv4.\n  window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport function register(config) {\n  if ('serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swFileName = process.env.NODE_ENV === 'production'\n        ? 'service-worker.js'\n        : 'custom-sw.js'\n      const swUrl = `${process.env.PUBLIC_URL}/${swFileName}`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n            'worker. To learn more, visit https://cra.link/PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                'tabs for this page are closed. See https://cra.link/PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\n\nimport { Elements } from '@stripe/react-stripe-js';\nimport { loadStripe } from '@stripe/stripe-js';\n\nconst stripePromise = loadStripe('pk_test_51INowtBvRwHUiPD96mG208wgpPjFuiM3Cf4zs9okCmKwAGrGSSXJhnjP7phCLsmqHjipiLcD2fcB0zLESzvCpdIp00MeanOVre');\n\nif(process.env.NODE_ENV && process.env.NODE_ENV == \"development\"){\n    window.api_prefix = \"\";\n}else{\n    window.api_prefix = \"https://api.joincambio.com\";\n}\n\nReactDOM.render(\n  <Elements stripe={stripePromise}>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </Elements>,\n  document.getElementById('root')\n);\n// serviceWorkerRegistration.register();\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n\n"],"sourceRoot":""}