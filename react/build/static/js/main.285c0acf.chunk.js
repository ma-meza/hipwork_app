(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],[,,function(e,t,a){e.exports={fileInputLabel:"saved_fileInputLabel__2dQMS",mobileCardSellingBuyingContainer:"saved_mobileCardSellingBuyingContainer__31JTj",pictureSquare:"saved_pictureSquare__U8GEx",tableContainer:"saved_tableContainer__1WHON",mobileMoreOptionsFullPageContainer:"saved_mobileMoreOptionsFullPageContainer__2BR69",mobileMoreOptionsContainer:"saved_mobileMoreOptionsContainer__3uSYO",mobileCardSellingBuying:"saved_mobileCardSellingBuying__1brtF",hideMobile:"saved_hideMobile__1Ui9v",paddedContainer:"saved_paddedContainer__2FN9D",sectionTitleP:"saved_sectionTitleP___PlhL",innerMainContainer:"saved_innerMainContainer__3MLfz",topMainContainer:"saved_topMainContainer__3Hob3",categoriesMainContainer:"saved_categoriesMainContainer__LUt4E",rowInnerContainerMiddle:"saved_rowInnerContainerMiddle__2OT1z",rowInnerContainerRight:"saved_rowInnerContainerRight__j6woi",buttonCta:"saved_buttonCta__2e5ys",buttonCta2:"saved_buttonCta2__1FvKH",offerCtaContainer:"saved_offerCtaContainer__1EmL8",bodyLeftSeparator:"saved_bodyLeftSeparator__3NLqU",searchSuggestP:"saved_searchSuggestP__IKkeJ",bodyRightSeparator:"saved_bodyRightSeparator__3lptJ",noDisplayMobile:"saved_noDisplayMobile__GUZJZ",pageTitle:"saved_pageTitle__3vene",activeLink:"saved_activeLink__FS3HE",noDisplayDesktop:"saved_noDisplayDesktop__pa5H_",tableRow:"saved_tableRow__Nvyaz",listingPic:"saved_listingPic__3k3tw",offersRow:"saved_offersRow__-RuiZ",buyerProfilePic:"saved_buyerProfilePic___bSct",regularText:"saved_regularText__2VqUC",regularTextHalfMargin:"saved_regularTextHalfMargin__1bfxR",regularTextNoMargin:"saved_regularTextNoMargin__3if6a",buyersListRow:"saved_buyersListRow__2ygJg",ctaButton:"saved_ctaButton__2ugxq",selectInput:"saved_selectInput__AhyLI",fileInput:"saved_fileInput__R2Sqo",tableTHead:"saved_tableTHead__1EaSP",tableTBody:"saved_tableTBody__dAK5y",dataTable:"saved_dataTable__MwkY6",kebabContainer:"saved_kebabContainer__1N95M",mobileCardSellingBuyingRightContainer:"saved_mobileCardSellingBuyingRightContainer__4dCPH",mobileCardSellingBuyingLeftContainer:"saved_mobileCardSellingBuyingLeftContainer__1ctgO"}},,,function(e,t,a){e.exports={floatingButtonCta:"listingPage_floatingButtonCta__2y76W",topMainContainer:"listingPage_topMainContainer__1Mg6S",innerMainContainer:"listingPage_innerMainContainer__dMGA9",desktopLeftSide:"listingPage_desktopLeftSide__38oy0",desktopRightSide:"listingPage_desktopRightSide__1wqoa",shareIconsBar:"listingPage_shareIconsBar__34GPJ",paymentSidebarContainer:"listingPage_paymentSidebarContainer__3p6hS",buyTypeSelectorContainer:"listingPage_buyTypeSelectorContainer__2AFXr",selectedBuyType:"listingPage_selectedBuyType__yx4Pi",unselectedBuyType:"listingPage_unselectedBuyType__3eTCi",starP:"listingPage_starP__2_eIu",starPSmall:"listingPage_starPSmall__f3hDY",bottomGradient:"listingPage_bottomGradient__2ZEK_",bigImgDesktopCarouselContainer:"listingPage_bigImgDesktopCarouselContainer__1T3p2",carouselLeftPic:"listingPage_carouselLeftPic__1AE_4",carouselMiddlePic:"listingPage_carouselMiddlePic__1Snx2",carouselRightPic:"listingPage_carouselRightPic__1iOTk",carouselX:"listingPage_carouselX__kHNbo",carouselArrowLeft:"listingPage_carouselArrowLeft__1GvP_",carouselArrowRight:"listingPage_carouselArrowRight__sw5ye",carouselDotsContainer:"listingPage_carouselDotsContainer__1IzaM",carouselDot:"listingPage_carouselDot__1SUo3",activeCarouselDot:"listingPage_activeCarouselDot__id2eU",carouselDotsInnerContainer:"listingPage_carouselDotsInnerContainer__1JorE",hideDesktop:"listingPage_hideDesktop__1uuX5",buttonCta:"listingPage_buttonCta__5xFnP",floatingButtonFullWidth:"listingPage_floatingButtonFullWidth__2h7K1",floatingButtonLeft:"listingPage_floatingButtonLeft__10KNU",floatingButtonRight:"listingPage_floatingButtonRight__3peX1",sidePadding:"listingPage_sidePadding__xqLGK",regularText:"listingPage_regularText__3VIDr",regularTextHalfMargin:"listingPage_regularTextHalfMargin__1yh3C",regularTextNoMargin:"listingPage_regularTextNoMargin__3zb31",mainFeedContainers:"listingPage_mainFeedContainers__RnjaR",headerImgDiv:"listingPage_headerImgDiv__2Ffnn",mainPictureContainer:"listingPage_mainPictureContainer__1WUuJ",mainPictureImg:"listingPage_mainPictureImg__3Pp_S",smallPicturesContainer:"listingPage_smallPicturesContainer__1eRrh",separatorLine:"listingPage_separatorLine__26xJj",reviewCardContainer:"listingPage_reviewCardContainer__3MIyE",mobileNoShow:"listingPage_mobileNoShow__1trFQ",desktopCarouselIsInactive:"listingPage_desktopCarouselIsInactive__1_8B8",linkP:"listingPage_linkP__3vD2a",headlineP:"listingPage_headlineP__3ruJX",smallPictureImg:"listingPage_smallPictureImg__2kcdC",profilePictureImg:"listingPage_profilePictureImg__qHi6O",sellerTextMainContainer:"listingPage_sellerTextMainContainer__3tXqV",listingComponentsMainContainer:"listingPage_listingComponentsMainContainer__3VJJO",reviewCardInnerContainer:"listingPage_reviewCardInnerContainer__313R2",inputText:"listingPage_inputText__29c5x"}},,,,,,,function(e,t,a){e.exports={regularText:"newListing_regularText__3BrAO",regularTextHalfMargin:"newListing_regularTextHalfMargin__34ACV",regularTextNoMargin:"newListing_regularTextNoMargin__1J1i5",innerMainContainer:"newListing_innerMainContainer__31N8Y",topMainContainer:"newListing_topMainContainer__MNalw",headerImgDiv:"newListing_headerImgDiv__okvX7",mainFeedContainers:"newListing_mainFeedContainers__l7y32",mainPictureImg:"newListing_mainPictureImg__y7UKt",smallPicturesContainer:"newListing_smallPicturesContainer__2zwyj",smallPictureImg:"newListing_smallPictureImg__38_2y",separatorLine:"newListing_separatorLine__HvfKY",reviewCardContainer:"newListing_reviewCardContainer__177uq",formContainer:"newListing_formContainer__2W252",linkP:"newListing_linkP__2Re5k",headlineP:"newListing_headlineP__eJzez",ctaButton:"newListing_ctaButton__3y1Bt",profilePictureImg:"newListing_profilePictureImg__36jnB",sellerTextMainContainer:"newListing_sellerTextMainContainer__A0E3X",buttonCta:"newListing_buttonCta__iO6NF",listingComponentsMainContainer:"newListing_listingComponentsMainContainer__2QI4t",reviewCardInnerContainer:"newListing_reviewCardInnerContainer__njigQ",textInput:"newListing_textInput__1CSZY",descriptionTextarea:"newListing_descriptionTextarea__1sbrh",selectInput:"newListing_selectInput__2XxfC",pictureSquare:"newListing_pictureSquare__2oE1v",fileInput:"newListing_fileInput__1xigj",fileInputLabel:"newListing_fileInputLabel__1n71a",predefItemAutofillContainer:"newListing_predefItemAutofillContainer__3O8x5"}},function(e,t,a){e.exports={bodyContainer:"authenticationForms_bodyContainer__3jP2A",formCard:"authenticationForms_formCard__1U_-7",regularText:"authenticationForms_regularText__3N50n",inputText:"authenticationForms_inputText__ryq3o",button:"authenticationForms_button__2HWyc",logo:"authenticationForms_logo__1VI5K",link:"authenticationForms_link__FYZeP",invSpace:"authenticationForms_invSpace__1SDg9"}},function(e,t,a){e.exports={historyCardContainer:"specialListingCard_historyCardContainer__3-4_j",listingMainPicture:"specialListingCard_listingMainPicture__zl3RB",historyTitleContainer:"specialListingCard_historyTitleContainer__3jmZQ",regularText:"specialListingCard_regularText__3soVY",historyTotalContainer:"specialListingCard_historyTotalContainer__2DSTU",historyTopContainer:"specialListingCard_historyTopContainer__2mc_b",historyBottomContainer:"specialListingCard_historyBottomContainer__3r4CE",historySellerInfoContainer:"specialListingCard_historySellerInfoContainer__WY3VE",historySellerPicture:"specialListingCard_historySellerPicture__32beI",historyCta:"specialListingCard_historyCta__1VyMF",historyHalfCta:"specialListingCard_historyHalfCta__13iNP"}},,,function(e,t,a){e.exports={imgLeftBanner:"warzone_imgLeftBanner__1Ldnc",imgRightBanner:"warzone_imgRightBanner__3BUCQ",mainBannerDesktop:"warzone_mainBannerDesktop__Ydn2s",popCategoryContainer:"warzone_popCategoryContainer__2yr0N",mobileMainHeader:"warzone_mobileMainHeader__2RWCh",desktopMainHeader:"warzone_desktopMainHeader__1nc5c",mobileHeaderImgDiv:"warzone_mobileHeaderImgDiv__pMZfQ",topWelcomeMessage:"warzone_topWelcomeMessage__2Y8Sx",mobileTopNavTopDiv:"warzone_mobileTopNavTopDiv__3iZJX",mktingBannerContainer:"warzone_mktingBannerContainer__2NHiW",ptsMobileBottomDiv:"warzone_ptsMobileBottomDiv__1Sago",redeemPointsDiv:"warzone_redeemPointsDiv__o4PmN",mobileCategorySlideshow:"warzone_mobileCategorySlideshow__22HMg",seeMoreCats:"warzone_seeMoreCats__1V3P9",categoriesMainContainer:"warzone_categoriesMainContainer__LUCH3",chevronImgCategories:"warzone_chevronImgCategories__2tcVU",searchSuggestP:"warzone_searchSuggestP__yRmiz",searchSuggestMainContainer:"warzone_searchSuggestMainContainer__2d24f",sectionTitleP:"warzone_sectionTitleP__2lvjh",fixedCategoriesContainer:"warzone_fixedCategoriesContainer__llFSK",linkP:"warzone_linkP__2PpHX",scrollTopContainer:"warzone_scrollTopContainer__A3opZ",mobileTopNav:"warzone_mobileTopNav__3YpqF",regularText:"warzone_regularText__30YBu",regularTextNoMargin:"warzone_regularTextNoMargin__3FYLd",innerMainContainer:"warzone_innerMainContainer__2JDrz",topMainContainerInnerContainer:"warzone_topMainContainerInnerContainer__32JRV",searchInput:"warzone_searchInput__fBuO1",headerImgDiv:"warzone_headerImgDiv__1kOxY",headlineP:"warzone_headlineP__3EGJL",mainFeedContainers:"warzone_mainFeedContainers__4il1R",topMainContainer:"warzone_topMainContainer__3OmBi",searchMainContainer:"warzone_searchMainContainer__glQgc",desktopTitle:"warzone_desktopTitle__2mELk",emptyStateMessageP:"warzone_emptyStateMessageP__adcLf",searchSuggestScroller:"warzone_searchSuggestScroller__hBG6T",searchTopContainer:"warzone_searchTopContainer__aAd1L",searchIconClick:"warzone_searchIconClick__2Klxv",searchXImg:"warzone_searchXImg__1xZ9v",searchTransparentContainer:"warzone_searchTransparentContainer__Ba4OL",searchContainerVisible:"warzone_searchContainerVisible__2J-uu",displayNone:"warzone_displayNone__3s_5F",scrollTopButton:"warzone_scrollTopButton__2JLlo",stickyHeader:"warzone_stickyHeader__xDriI",stickyHeaderParent:"warzone_stickyHeaderParent__38uZI",iconTopMobileNav:"warzone_iconTopMobileNav__1EiQt",searchInputActive:"warzone_searchInputActive__3U525",searchInputDiv:"warzone_searchInputDiv__qh8dq",logoMobileTopNav:"warzone_logoMobileTopNav__NfDKa",clickable:"warzone_clickable__3WE3k",bottomAlignChevron:"warzone_bottomAlignChevron__3J-JC",allCatsTitle:"warzone_allCatsTitle__3w_6J",allCatsText:"warzone_allCatsText__3KXJb"}},,function(e,t,a){e.exports={regularText:"employeeStyle_regularText__mn8I_",articleContainer:"employeeStyle_articleContainer__2VjCT",textarea:"employeeStyle_textarea__fG6vH",textareaNoMargin:"employeeStyle_textareaNoMargin__2V0ej",button:"employeeStyle_button__1tOQW",inlineButton:"employeeStyle_inlineButton__2mvY5",nav:"employeeStyle_nav__1Tu4F"}},,function(e,t,a){e.exports={starIcon:"profile_starIcon__37D4D",separatorLine:"profile_separatorLine__23sI6",regularText:"profile_regularText__2cYKt",regularTextHalfMargin:"profile_regularTextHalfMargin__2PZwx",regularTextNoMargin:"profile_regularTextNoMargin__LPvw_",innerMainContainer:"profile_innerMainContainer__26uTe",topMainContainer:"profile_topMainContainer__1LycS",headerImgDiv:"profile_headerImgDiv__2GRjG",mainPictureImg:"profile_mainPictureImg__1sk9C",smallPicturesContainer:"profile_smallPicturesContainer__2Lghy",smallPictureImg:"profile_smallPictureImg__7i0Ge",reviewCardContainer:"profile_reviewCardContainer__EdRf4",sellerTextMainContainer:"profile_sellerTextMainContainer__1XF7V",listingComponentsMainContainer:"profile_listingComponentsMainContainer__1Il8G",followButtonMainContainer:"profile_followButtonMainContainer__1ApSE",linkP:"profile_linkP__ulguj",headlineP:"profile_headlineP__1s6dd",listingSmallCard:"profile_listingSmallCard__3pypv",listingPicture:"profile_listingPicture__3A8by",listingPrice:"profile_listingPrice__2_HYU",listingCarousel:"profile_listingCarousel__209aY",profilePictureImg:"profile_profilePictureImg__3dWjr",reviewProfilePictureImg:"profile_reviewProfilePictureImg__1MTCL",buttonCta:"profile_buttonCta__cHbHb",reviewCardInnerContainer:"profile_reviewCardInnerContainer__3cLPZ"}},function(e,t,a){e.exports={profileModalText:"desktopTopNav_profileModalText__hsTyn",profileModalMainContainer:"desktopTopNav_profileModalMainContainer__SN6x4",arrow_example:"desktopTopNav_arrow_example__1AVmA",arrow_border_example:"desktopTopNav_arrow_border_example__3Xtsb",searchSuggestMainContainer:"desktopTopNav_searchSuggestMainContainer__2IT7A",searchSuggestP:"desktopTopNav_searchSuggestP__2gDEP",iconTopMobileNav:"desktopTopNav_iconTopMobileNav__35lpi",searchInput:"desktopTopNav_searchInput__1p7fl",searchInputActive:"desktopTopNav_searchInputActive__17XvH",searchInputDiv:"desktopTopNav_searchInputDiv__-4OrE",desktopTopNav:"desktopTopNav_desktopTopNav__35MHD",desktopTopNavInnerContainer:"desktopTopNav_desktopTopNavInnerContainer__XnaNg",logoDesktopTopNav:"desktopTopNav_logoDesktopTopNav__3abxr",desktopTopNavIconsContainer:"desktopTopNav_desktopTopNavIconsContainer__2q4zq",iconSeparator:"desktopTopNav_iconSeparator__i9xq5",iconContainer:"desktopTopNav_iconContainer__3jU4V",textContainer:"desktopTopNav_textContainer__y7LQ7"}},function(e,t,a){e.exports={popCategoryContainer:"mobileSearch_popCategoryContainer__1NK8i",mobileMainHeader:"mobileSearch_mobileMainHeader__3qfPc",desktopMainHeader:"mobileSearch_desktopMainHeader__2MPtv",mobileHeaderImgDiv:"mobileSearch_mobileHeaderImgDiv__3tlaW",topWelcomeMessage:"mobileSearch_topWelcomeMessage__30xPU",mobileTopNavTopDiv:"mobileSearch_mobileTopNavTopDiv__1LjHm",mktingBannerContainer:"mobileSearch_mktingBannerContainer__I8EtV",ptsMobileBottomDiv:"mobileSearch_ptsMobileBottomDiv__1ibIn",redeemPointsDiv:"mobileSearch_redeemPointsDiv__238FQ",mobileCategorySlideshow:"mobileSearch_mobileCategorySlideshow__O3NsY",seeMoreCats:"mobileSearch_seeMoreCats__3LtsL",categoriesMainContainer:"mobileSearch_categoriesMainContainer__3k0p1",chevronImgCategories:"mobileSearch_chevronImgCategories__CbkLU",searchSuggestP:"mobileSearch_searchSuggestP__OH0w6",searchSuggestMainContainer:"mobileSearch_searchSuggestMainContainer__CZiRu",sectionTitleP:"mobileSearch_sectionTitleP__1yD16",fixedCategoriesContainer:"mobileSearch_fixedCategoriesContainer__JKar_",linkP:"mobileSearch_linkP__1DCCJ",scrollTopContainer:"mobileSearch_scrollTopContainer__27kpq",mobileTopNav:"mobileSearch_mobileTopNav__WOP_z",regularText:"mobileSearch_regularText__27D1g",regularTextNoMargin:"mobileSearch_regularTextNoMargin__2yQlS",innerMainContainer:"mobileSearch_innerMainContainer__3VZ9O",topMainContainerInnerContainer:"mobileSearch_topMainContainerInnerContainer__QX-nj",searchInput:"mobileSearch_searchInput__22Joq",headerImgDiv:"mobileSearch_headerImgDiv__3XGRh",headlineP:"mobileSearch_headlineP__201qU",mainFeedContainers:"mobileSearch_mainFeedContainers__29OYS",topMainContainer:"mobileSearch_topMainContainer__9EOce",searchMainContainer:"mobileSearch_searchMainContainer__QbqUS",desktopTitle:"mobileSearch_desktopTitle__2O07U",emptyStateMessageP:"mobileSearch_emptyStateMessageP__265oB",searchSuggestScroller:"mobileSearch_searchSuggestScroller__1sGYT",searchTopContainer:"mobileSearch_searchTopContainer__3VlX2",searchIconClick:"mobileSearch_searchIconClick__aNy8p",searchXImg:"mobileSearch_searchXImg__1fE1R",searchTransparentContainer:"mobileSearch_searchTransparentContainer__29w_t",searchContainerVisible:"mobileSearch_searchContainerVisible__3o_QB",displayNone:"mobileSearch_displayNone__2oRpf",scrollTopButton:"mobileSearch_scrollTopButton__1UtGP",stickyHeader:"mobileSearch_stickyHeader__Qoaro",stickyHeaderParent:"mobileSearch_stickyHeaderParent__ZneZh",iconTopMobileNav:"mobileSearch_iconTopMobileNav__ftHqb",searchInputActive:"mobileSearch_searchInputActive__13ehl",searchInputDiv:"mobileSearch_searchInputDiv__2mnLm",logoMobileTopNav:"mobileSearch_logoMobileTopNav__iZfBs",clickable:"mobileSearch_clickable__3w8aZ",bottomAlignChevron:"mobileSearch_bottomAlignChevron__MaXAg",allCatsTitle:"mobileSearch_allCatsTitle__1HiIo",allCatsText:"mobileSearch_allCatsText__fG5TP"}},,function(e,t,a){e.exports={saveButtonContainer:"account_saveButtonContainer__3LwwJ",bioTextarea:"account_bioTextarea__3IKX3",regularTextInput:"account_regularTextInput__3j09g",regularText:"account_regularText__3Vt3n",regularTextHalfMargin:"account_regularTextHalfMargin__2cWbL",regularTextNoMargin:"account_regularTextNoMargin__26NTY",innerMainContainer:"account_innerMainContainer__2eRrd",topMainContainer:"account_topMainContainer__3GLnJ",headerImgDiv:"account_headerImgDiv__3ucgY",mainPictureImg:"account_mainPictureImg__1Emnn",smallPicturesContainer:"account_smallPicturesContainer__1o57_",smallPictureImg:"account_smallPictureImg__3ItGT",separatorLine:"account_separatorLine__2ozlm",reviewCardContainer:"account_reviewCardContainer__1fqmL",sellerTextMainContainer:"account_sellerTextMainContainer__1Co7H",listingComponentsMainContainer:"account_listingComponentsMainContainer__86np0",topicContainer:"account_topicContainer__3D_O7",linkP:"account_linkP__1FRUS",headlineP:"account_headlineP__3YMRe",listingSmallCard:"account_listingSmallCard__3Uluu",listingPicture:"account_listingPicture__1Pc9H",listingPrice:"account_listingPrice__2cpx-",listingCarousel:"account_listingCarousel__3MqZ1",profilePictureImg:"account_profilePictureImg__2Mz6P",reviewProfilePictureImg:"account_reviewProfilePictureImg__2IHFH",buttonCta:"account_buttonCta__1xjNl",reviewCardInnerContainer:"account_reviewCardInnerContainer__2OkfK",pictureSquare:"account_pictureSquare__22pa-",fileInput:"account_fileInput__1-UZS",fileInputLabel:"account_fileInputLabel__2v8PQ",deletePicButton:"account_deletePicButton__T42lv"}},function(e,t,a){e.exports={bodyContainer:"accountSetup_bodyContainer__2kbRB",topicContainer:"accountSetup_topicContainer__3ZuCi",formCard:"accountSetup_formCard__2OaJ8",activeForm:"accountSetup_activeForm__1fulZ",regularText:"accountSetup_regularText__a1lgy",inputText:"accountSetup_inputText__3rpsS",button:"accountSetup_button__1rBVf",logo:"accountSetup_logo__2Ra_x",link:"accountSetup_link__1WLbj",invSpace:"accountSetup_invSpace__acgmW"}},,function(e,t,a){e.exports={logo:"aboutUs_logo__1SMYj",headlineText:"aboutUs_headlineText__afp_x",submitButton:"aboutUs_submitButton__F3IHD",link:"aboutUs_link__wFuUw",socialIcon:"aboutUs_socialIcon__Wq1Jo",input:"aboutUs_input__C1IFh",textArea:"aboutUs_textArea__3T8t_",halfDiv:"aboutUs_halfDiv__3zwK4",mainContainer:"aboutUs_mainContainer__3hx_q",mainInnerContainer:"aboutUs_mainInnerContainer__3gZfI",header:"aboutUs_header__1uZkW",mockupImg:"aboutUs_mockupImg__kFbx-",regularText:"aboutUs_regularText__1YhOa"}},function(e,t,a){e.exports={logo:"launchLandingPage_logo__2sdnl",socialIcon:"launchLandingPage_socialIcon__luyyJ",halfDiv:"launchLandingPage_halfDiv__1yze_",mainContainer:"launchLandingPage_mainContainer__1vvnB",mainInnerContainer:"launchLandingPage_mainInnerContainer__2Uh3-",header:"launchLandingPage_header__11CWm",mockupImg:"launchLandingPage_mockupImg__ly3Oh",input:"launchLandingPage_input__2N0_4",submitButton:"launchLandingPage_submitButton__akdII",regularText:"launchLandingPage_regularText__13Sd4",mainShareContainer:"launchLandingPage_mainShareContainer__21uP_",topShareContainer:"launchLandingPage_topShareContainer__1_7OR",bottomShareContainer:"launchLandingPage_bottomShareContainer__T6yrn",shareIcons:"launchLandingPage_shareIcons__2Pcos"}},,function(e,t,a){e.exports={topMainContainerInnerContainer:"community_topMainContainerInnerContainer__1pLBW",mktingBannerContainer:"community_mktingBannerContainer__Qb4_r",communitySectionContainer:"community_communitySectionContainer__iWoFp",postCard:"community_postCard__3imJQ",seeMoreCats:"community_seeMoreCats__1xhjN",categoriesMainContainer:"community_categoriesMainContainer__17C2G",chevronImgCategories:"community_chevronImgCategories__yIVNt",searchSuggestP:"community_searchSuggestP__2LGvn",searchSuggestMainContainer:"community_searchSuggestMainContainer__3c2wl",sectionTitleP:"community_sectionTitleP__wEJhs",fixedCategoriesContainer:"community_fixedCategoriesContainer__1YReK",linkP:"community_linkP__10fy8",scrollTopButton:"community_scrollTopButton__2hSyu",mobileTopNav:"community_mobileTopNav__3qrTj",regularText:"community_regularText__L1l1x",regularTextNoMargin:"community_regularTextNoMargin__2HFmE",innerMainContainer:"community_innerMainContainer__2fCY8",searchInput:"community_searchInput__38IsP",headerImgDiv:"community_headerImgDiv__1Gr48",headlineP:"community_headlineP__3CktS",mainFeedContainers:"community_mainFeedContainers__2U5kV",topMainContainer:"community_topMainContainer__1DY9J",searchMainContainer:"community_searchMainContainer__2pPF1",emptyStateMessageP:"community_emptyStateMessageP__3A52x",searchSuggestScroller:"community_searchSuggestScroller__jmq_L",searchTopContainer:"community_searchTopContainer__26YLe",searchIconClick:"community_searchIconClick__1aHav",searchXImg:"community_searchXImg__29tiv",searchTransparentContainer:"community_searchTransparentContainer__SkuQV",searchContainerVisible:"community_searchContainerVisible__287QE",displayNone:"community_displayNone__1AEma",stickyHeader:"community_stickyHeader__EWstF",stickyHeaderParent:"community_stickyHeaderParent__17L2j",iconTopMobileNav:"community_iconTopMobileNav__xM3UE",searchInputActive:"community_searchInputActive__3_fbU",searchInputDiv:"community_searchInputDiv__2jsYA",logoMobileTopNav:"community_logoMobileTopNav__Pc0wr",clickable:"community_clickable__32snq",bottomAlignChevron:"community_bottomAlignChevron__3vUvP",allCatsTitle:"community_allCatsTitle__Rh3GL",allCatsText:"community_allCatsText__1xUoh"}},function(e,t,a){e.exports={formCard:"stripePayment_formCard__2TR_T",bodyContainer:"stripePayment_bodyContainer__38CMX",button:"stripePayment_button__Q6mFW",formRow:"stripePayment_formRow__32LHz",regularText:"stripePayment_regularText__v0EHU",regularTextHalfMargin:"stripePayment_regularTextHalfMargin__1vvhJ",textInput:"stripePayment_textInput__3JB3I"}},,,function(e,t,a){e.exports={mobileSearchContainer:"search_mobileSearchContainer__1jO6y",lineSeparator:"search_lineSeparator__36Zam",topBar:"search_topBar__1PFO5",topMainContainer:"search_topMainContainer__2JE9p",topBarBottomContainer:"search_topBarBottomContainer__2z5rH",topBarTopContainer:"search_topBarTopContainer__JkNrp",resultsContainer:"search_resultsContainer__33J8i",separatorLine:"search_separatorLine__3BKdc",hideMobile:"search_hideMobile__2LA2h",topicContainer:"search_topicContainer__1GF53",searchSuggestP:"search_searchSuggestP__3C1U_",searchTopContainer:"search_searchTopContainer__zmol7",searchIconClick:"search_searchIconClick__15910",searchSuggestMainContainer:"search_searchSuggestMainContainer__1ANFW",searchMainContainer:"search_searchMainContainer__3qdCO",searchXImg:"search_searchXImg__2CnIv",searchTransparentContainer:"search_searchTransparentContainer__TDksW",searchContainerVisible:"search_searchContainerVisible__NH-vj",categoriesMainContainer:"search_categoriesMainContainer__LhHfr",displayNone:"search_displayNone__3d0wd",scrollTopButton:"search_scrollTopButton__k3lSV",linkP:"search_linkP__hYoDy",sectionTitleP:"search_sectionTitleP__P6Ma4",stickyHeader:"search_stickyHeader__3LE92",stickyHeaderParent:"search_stickyHeaderParent__2EZyL",mobileTopNav:"search_mobileTopNav__23MR7",iconTopMobileNav:"search_iconTopMobileNav__TlYOM",searchInput:"search_searchInput__1G2_3",searchInputActive:"search_searchInputActive__2ytaR",searchInputDiv:"search_searchInputDiv__39JsV",logoMobileTopNav:"search_logoMobileTopNav__2uTjm",regularText:"search_regularText__154Bp",regularTextNoMargin:"search_regularTextNoMargin__2N9x7",innerMainContainer:"search_innerMainContainer__7Ay2g",topMainContainerInnerContainer:"search_topMainContainerInnerContainer__1nea6",headerImgDiv:"search_headerImgDiv__3v8gF",headlineP:"search_headlineP__3w8pz",mainFeedContainers:"search_mainFeedContainers__3G47C",hideDesktop:"search_hideDesktop__1SRIr",seeMoreCats:"search_seeMoreCats__2X1CX",bodyContainer:"search_bodyContainer__3Smlh",fixedCategoriesContainer:"search_fixedCategoriesContainer__1U4lW"}},,,,function(e,t,a){e.exports={starP:"listingCard_starP__jcJzg",priceP:"listingCard_priceP__Wef-N",itemStateContainer:"listingCard_itemStateContainer__1RZCD",listingTitle:"listingCard_listingTitle__7OK7h",mediumBigText:"listingCard_mediumBigText__35-Sw",bottomGradient:"listingCard_bottomGradient__34gTu",topGradient:"listingCard_topGradient__Ww-lx",userInfoDivisor:"listingCard_userInfoDivisor__IEXqI",productPicture:"listingCard_productPicture__15s9G",productTextContainer:"listingCard_productTextContainer__2aYZu",userPicture:"listingCard_userPicture__2SqQw",mainContainer:"listingCard_mainContainer__3KoWz",userTextContainer:"listingCard_userTextContainer__1Nfqo",mainDivisors:"listingCard_mainDivisors__3bSe-",noMarginP:"listingCard_noMarginP__3I2pt"}},function(e,t,a){e.exports={container:"reviewsCard_container__3ID12",rating:"reviewsCard_rating__df4vD",rating0:"reviewsCard_rating0__2peYh",emojiWrapper:"reviewsCard_emojiWrapper__3LsZn",emoji:"reviewsCard_emoji__1g6Hl",rating1:"reviewsCard_rating1__cXHl8",rating2:"reviewsCard_rating2__3q8iv",rating3:"reviewsCard_rating3__1JrbD",rating4:"reviewsCard_rating4__2ZUYj",rating5:"reviewsCard_rating5__1E1yn",feedback:"reviewsCard_feedback__1tmnF",textarea:"reviewsCard_textarea__2FwNM"}},,function(e,t,a){e.exports={mainContainer:"mobileBottomNav_mainContainer__3gMTo",iconSeparator:"mobileBottomNav_iconSeparator__Y9nBi",iconContainer:"mobileBottomNav_iconContainer__1jbtJ",textContainer:"mobileBottomNav_textContainer__O6vWq"}},function(e,t,a){e.exports={topBar:"profileLinks_topBar__1471g",mainBody:"profileLinks_mainBody__1xCMj",bottomBar:"profileLinks_bottomBar__1kohu",pageBody:"profileLinks_pageBody__2jxS4",emptyStateMessageP:"profileLinks_emptyStateMessageP__MpiN6"}},function(e,t,a){e.exports={closeButton:"modal_closeButton__3Eh5z",topContainer:"modal_topContainer__KYZt9",contentContainer:"modal_contentContainer__1iiab",modalBody:"modal_modalBody__2DXgS",modalTransparentBody:"modal_modalTransparentBody__3IHqV",modalTitleP:"modal_modalTitleP__261qA",regularTextNoMargin:"modal_regularTextNoMargin__3U_7M"}},,function(e,t,a){e.exports={footerThird:"footer_footerThird__1NM2V",footerInnerContainer:"footer_footerInnerContainer__1udOo",footer:"footer_footer__2YpGN",noMarginText:"footer_noMarginText__3F9c9"}},function(e,t,a){e.exports={footer:"mvpFooter_footer__2F88u",regularText:"mvpFooter_regularText__XyWFo",link:"mvpFooter_link__2cAm3"}},function(e,t,a){e.exports={regularText:"activityTicker_regularText__Me4Dy",regularTextHalfMargin:"activityTicker_regularTextHalfMargin__2qcfh",regularTextNoMargin:"activityTicker_regularTextNoMargin__KQa8q",divTitleP:"activityTicker_divTitleP__Wm2g6",historyTabMainContainer:"activityTicker_historyTabMainContainer__1vUxP",historyEventCard:"activityTicker_historyEventCard__3-3nw"}},,function(e,t,a){e.exports={starP:"listingCardSmallCard_starP__P9IFY",itemStateContainer:"listingCardSmallCard_itemStateContainer__S8GTw",userTextContainer:"listingCardSmallCard_userTextContainer__2TybT",productTextContainer:"listingCardSmallCard_productTextContainer__25Iqo",bottomGradient:"listingCardSmallCard_bottomGradient__8SUqp",topGradient:"listingCardSmallCard_topGradient__1cfM3",userInfoDivisor:"listingCardSmallCard_userInfoDivisor__3bzI6",productPicture:"listingCardSmallCard_productPicture__3fbhY",userPicture:"listingCardSmallCard_userPicture__64Udd",mainContainer:"listingCardSmallCard_mainContainer__1z90u",mainDivisors:"listingCardSmallCard_mainDivisors__2t7K7",noMarginP:"listingCardSmallCard_noMarginP__1cnd0"}},,,,,function(e,t,a){e.exports={regularText:"articlePage_regularText__Ohffa",articleContainer:"articlePage_articleContainer__1PQrS"}},,,,,,function(e,t,a){e.exports={lds_ellipsis:"loaderAnimation_lds_ellipsis__9A0oR",lds_ellipsis1:"loaderAnimation_lds_ellipsis1__3I72W",lds_ellipsis2:"loaderAnimation_lds_ellipsis2__38y1b",lds_ellipsis3:"loaderAnimation_lds_ellipsis3__2gbSi",spinnerContainer:"loaderAnimation_spinnerContainer___qlm4",spinnerInnerContainer:"loaderAnimation_spinnerInnerContainer__3WkB0"}},function(e,t,a){e.exports={snackbar:"snackBar_snackbar__1GCz_",show:"snackBar_show__IH9sR",fadein:"snackBar_fadein__1KQDB",fadeout:"snackBar_fadeout__EAcBB"}},,,,,,,,,,,,,,,,,,,,function(e,t,a){e.exports={mainBody:"bodyContainer_mainBody__3eRjG"}},,,,,,,,,,function(e,t,a){},,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){},,,,,,,,,,,,function(e,t,a){"use strict";a.r(t);var i=a(0),s=a(1),n=a.n(s),r=a(56),o=a.n(r),c=(a(92),a(11)),l=a(4),d=a(30);var u=Object(d.g)((function(e){var t=e.history,a=e.children;return Object(s.useEffect)((function(){var e=t.listen((function(){window.scrollTo(0,0)}));return function(){e()}}),[]),Object(i.jsx)(s.Fragment,{children:a})})),h=a(33),p=a(54),g=a(3),m=a.n(g),j=function(e){e?m.a.defaults.headers.common.Authorization=e:delete m.a.defaults.headers.common.Authorization},b=function(e){for(var t="=".repeat((4-e.length%4)%4),a=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),i=window.atob(a),s=new Uint8Array(i.length),n=0;n<i.length;++n)s[n]=i.charCodeAt(n);return s}("BAt4xiY5kXoExdMjzxPrFIuV02M-eruCKK61i_yh1JAgh0LoMN_fXSTEvGdAw4bFE91ID4qDLlZf7A8SF8sI9bo");function f(e){return m.a.post(window.api_prefix+"/notifSubscribe",{subscription:e})}var x="GET_ERRORS",v="USER_LOADING",O="SET_CURRENT_USER",_=function(e){return function(t){m.a.post(window.api_prefix+"/loginUser",e).then((function(e){var a=e.data.token;localStorage.setItem("jwtToken",a),localStorage.setItem("setupVerif",e.data.isAccountSetup),j(a),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.pushManager&&e.pushManager.getSubscription().then((function(t){null===t?e.pushManager.subscribe({applicationServerKey:b,userVisibleOnly:!0}).then((function(e){console.log("New subscription added."),f(e)})).catch((function(e){Notification.permission})):f(t)}))})).catch((function(e){}));var i=Object(p.a)(a);t(C(i))})).catch((function(e){return t({type:x,payload:e.response.data})}))}},C=function(e){return{type:O,payload:e}},y=function(){return function(e){var t;t=localStorage.getItem("jwtToken"),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.pushManager&&e.pushManager.getSubscription().then((function(e){if(null!=e)return m.a.post(window.api_prefix+"/notifUnsubscribe",{subscription:e,userToken:t})}))})).catch((function(e){})),localStorage.removeItem("jwtToken"),localStorage.removeItem("setupVerif"),j(!1),e(C({}))}},T=(a(115),a(27)),w=a(45),S=a(78),M=a(117),N={isAuthenticated:!1,user:{},loading:!1};var I={};var k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return t.payload;default:return e}},P=Object(w.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(c.a)(Object(c.a)({},e),{},{isAuthenticated:!M(t.payload),user:t.payload});case v:return Object(c.a)(Object(c.a)({},e),{},{loading:!0});default:return e}},errors:k}),L=[S.a],D=Object(w.e)(P,{},Object(w.d)(w.a.apply(void 0,L))),R=a(7),B=a(8),A=a(10),E=a(9),F=a(128),z=a(28),U=a.n(z),H=function(e){Object(A.a)(a,e);var t=Object(E.a)(a);function a(e){var i;return Object(R.a)(this,a),(i=t.call(this,e)).state={predefItems:[],isLoading:!0},i}return Object(B.a)(a,[{key:"componentDidMount",value:function(){var e=this;m.a.get(window.api_prefix+"/predefProductsList").then((function(t){console.log(t.data),e.setState({predefItems:t.data,isLoading:!1})})).catch((function(e){e.response&&alert("ERROR")}))}},{key:"render",value:function(){if(this.state.isLoading)return null;for(var e=0;e<this.state.predefItems.types.length;e++)for(var t=0;t<this.state.predefItems.filters.length;t++)this.state.predefItems.types[e].id==this.state.predefItems.filters[t].filtertypeid&&(this.state.predefItems.filters[t].type=this.state.predefItems.types[e].name);for(var a=[],s=0;s<this.state.predefItems.items.length;s++){var n=this.state.predefItems.items[s];n.filters=[];for(var r=0;r<this.state.predefItems.filters.length;r++)this.state.predefItems.filters[r].itemid==n.id&&n.filters.push(this.state.predefItems.filters[r]);for(var o="(",c=0;c<n.filters.length;c++)o+=",   "+n.filters[c].type+" : "+n.filters[c].textvalue;o+=")",a.push(Object(i.jsx)("div",{children:Object(i.jsxs)("p",{children:["ID ",n.id," ",n.title," ",o]})},s))}return Object(i.jsx)("div",{style:{cursor:"text"},children:a})}}]),a}(n.a.Component),V=Object(F.a)()(H),G=a(6),J=a(46),Y=a.n(J),W=function(e){Object(A.a)(a,e);var t=Object(E.a)(a);function a(e){var i;return Object(R.a)(this,a),(i=t.call(this,e)).state={lang:"fr"},i.handleLangChange=i.handleLangChange.bind(Object(G.a)(i)),i}return Object(B.a)(a,[{key:"componentDidMount",value:function(){"fr"!==localStorage.lang&&"en"!==localStorage.lang||this.setState({lang:localStorage.lang})}},{key:"handleLangChange",value:function(e){"undefined"!==typeof Storage&&("en"!==e.target.value&&"fr"!==e.target.value||(this.props.i18n.changeLanguage(e.target.value),localStorage.setItem("lang",e.target.value),this.setState({lang:e.target.value})))}},{key:"render",value:function(){return Object(i.jsx)("div",{id:Y.a.footer,children:Object(i.jsxs)("div",{id:Y.a.footerInnerContainer,children:[Object(i.jsxs)("div",{className:Y.a.footerThird,children:[Object(i.jsx)("p",{className:"regularTextBold",children:"Explore"}),Object(i.jsx)(l.b,{to:"/home",className:"regularText",children:"Home"}),Object(i.jsx)(l.b,{to:"/login",className:"regularText",children:"Login"}),Object(i.jsx)(l.b,{to:"/signup",className:"regularText",children:"Signup"})]}),Object(i.jsxs)("div",{className:Y.a.footerThird,children:[Object(i.jsx)("p",{className:"regularTextBold",children:"About"}),Object(i.jsx)(l.b,{to:"/faq",className:"regularText",children:"FAQ"}),Object(i.jsx)(l.b,{to:"/home",className:"regularText",children:"Terms"}),Object(i.jsx)(l.b,{to:"/home",className:"regularText",children:"Privacy policy"})]}),Object(i.jsxs)("div",{className:Y.a.footerThird,children:[Object(i.jsx)("p",{className:"regularTextBold",children:"Members"}),Object(i.jsx)(l.b,{to:"/my-purchases",className:"regularText",children:"Buying"}),Object(i.jsx)(l.b,{to:"/my-listings",className:"regularText",children:"Selling"}),Object(i.jsx)(l.b,{to:"/new-listing",className:"regularText",children:"New listing"})]}),Object(i.jsxs)("div",{className:Y.a.footerThird,children:[Object(i.jsx)("p",{className:"regularTextBold",children:"Profile"}),Object(i.jsx)(l.b,{to:"/following",className:"regularText",children:"Following"}),Object(i.jsx)(l.b,{to:"/account",className:"regularText",children:"Edit profile"})]}),Object(i.jsxs)("p",{className:Y.a.noMarginText+" body",style:{color:"#fff"},children:["\xa9 ",(new Date).getFullYear()," Cambio Inc. All Rights Reserved."]})]})})}}]),a}(n.a.Component),q=Object(F.a)()(W),X=a(17),Z=a.n(X),K=a(15),Q=a(22),$=a.n(Q),ee=a(44),te=a.n(ee),ae=function(e){Object(A.a)(a,e);var t=Object(E.a)(a);function a(e){var i;return Object(R.a)(this,a),(i=t.call(this,e)).handleOutsideClick=i.handleOutsideClick.bind(Object(G.a)(i)),i.outsideClickRef=n.a.createRef(),i}return Object(B.a)(a,[{key:"handleOutsideClick",value:function(e){e.target==this.outsideClickRef.current&&this.props.closeModal()}},{key:"render",value:function(){return this.props.show?Object(i.jsx)("div",{ref:this.outsideClickRef,id:te.a.modalTransparentBody,onClick:this.handleOutsideClick,children:Object(i.jsxs)("div",{id:te.a.modalBody,children:[Object(i.jsxs)("div",{className:te.a.topContainer,children:[this.props.title?Object(i.jsx)("p",{className:"title2",id:te.a.modalTitleP,children:this.props.title}):null,Object(i.jsx)("img",{src:"https://staticassets2020.s3.amazonaws.com/octiconsSvg/x.svg",onClick:this.props.closeModal,className:te.a.closeButton})]}),this.props.description?Object(i.jsx)("div",{className:te.a.contentContainer,children:Object(i.jsx)("p",{className:"regularText "+te.a.regularTextNoMargin,children:this.props.description})}):null,Object(i.jsx)("div",{className:te.a.contentContainer,children:this.props.children})]})}):null}}]),a}(n.a.Component),ie=a(13),se=a.n(ie),ne=a(61),re=a.n(ne);var oe=function(){return Object(i.jsx)("div",{id:re.a.spinnerContainer,children:Object(i.jsx)("div",{id:re.a.spinnerInnerContainer,children:Object(i.jsxs)("div",{className:re.a.lds_ellipsis,children:[Object(i.jsx)("div",{}),Object(i.jsx)("div",{}),Object(i.jsx)("div",{}),Object(i.jsx)("div",{})]})})})},ce=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,le=function(e){Object(A.a)(a,e);var t=Object(E.a)(a);function a(e){var i;return Object(R.a)(this,a),(i=t.call(this,e)).state={email:"",password:"",formErrorMessage:"",isDataLoading:!1,serverErrorMessage:""},i.handleInputChange=i.handleInputChange.bind(Object(G.a)(i)),i.handleFormSubmit=i.handleFormSubmit.bind(Object(G.a)(i)),i}return Object(B.a)(a,[{key:"componentDidMount",value:function(){this.setState({listingId:this.props.listingId})}},{key:"handleInputChange",value:function(e){var t=e.target,a=t.name,i=t.value;this.setState(Object(K.a)({},a,i))}},{key:"handleFormSubmit",value:function(){if(this.setState({formErrorMessage:""}),this.state.email.length>0&&this.state.password.length>0)if(!0===ce.test(this.state.email)){this.setState({isDataLoading:!0});var e={email:this.state.email,password:this.state.password};this.props.loginUser(e)}else this.setState({formErrorMessage:"Your email is not valid."});else alert("yo"),this.setState({formErrorMessage:"Please fill in all the fields."})}},{key:"render",value:function(){var e;return this.state.formErrorMessage.length>0?e=Object(i.jsx)("p",{className:"errorText "+se.a.regularText,children:this.state.formErrorMessage}):this.state.serverErrorMessage.length>0&&(e=Object(i.jsx)("p",{className:"errorText "+se.a.regularText,children:this.state.serverErrorMessage})),Object(i.jsxs)("div",{children:[Object(i.jsx)("p",{className:"title1 "+se.a.regularText,children:"Welcome back!"}),Object(i.jsx)("input",{className:se.a.inputText+" inputText regularText",type:"email",name:"email",value:this.state.email,onChange:this.handleInputChange,placeholder:"Email address"}),Object(i.jsx)("input",{className:se.a.inputText+" inputText regularText",type:"password",name:"password",value:this.state.password,onChange:this.handleInputChange,placeholder:"Password"}),e,Object(i.jsxs)("p",{className:"regularText "+se.a.regularText,children:["Don't have an account? ",Object(i.jsx)(l.b,{to:"/signup",className:se.a.link+" "+se.a.regularText,children:"Sign up now."})]}),Object(i.jsx)("button",{className:se.a.button+" buttonCta regularTextMedium",onClick:this.handleFormSubmit,children:"Continue"}),1==this.state.isDataLoading?Object(i.jsx)(oe,{}):null]})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.auth.isAuthenticated?(e.history.push("/home"),null):e.errors&&e.errors.message?{serverErrorMessage:e.errors.message,isDataLoading:!1}:null}}]),a}(n.a.Component),de=Object(T.b)((function(e){return{auth:e.auth,errors:e.errors}}),{loginUser:_})(le),ue=function(e){Object(A.a)(a,e);var t=Object(E.a)(a);function a(e){var i;return Object(R.a)(this,a),(i=t.call(this,e)).state={searchInput:"",displayAccountModel:!1,searchSuggestions:[],showProfileModal:!1,allowClickOutsideProfileModal:!0,isLoginModalDisplayed:!1,showSearchSuggestion:!1},i.handleInputChange=i.handleInputChange.bind(Object(G.a)(i)),i.closeSearchInput=i.closeSearchInput.bind(Object(G.a)(i)),i.searchSuggestModalRef=n.a.createRef(),i.searchInputRef=n.a.createRef(),i.searchInputDivRef=n.a.createRef(),i.profileModalRef=n.a.createRef(),i}return Object(B.a)(a,[{key:"componentDidMount",value:function(){var e=this;1==this.props.auth.isAuthenticated&&"true"!=localStorage.getItem("setupVerif")&&this.props.history.push("/account-setup"),document.onclick=function(t){e.searchInputRef.current&&e.searchInputDivRef.current&&(e.searchSuggestModalRef.current?t.target===e.searchInputRef.current||t.target===e.searchSuggestModalRef.current||t.target.id===$.a.iconTopMobileNav||t.target.classList.contains($.a.searchSuggestP)||t.target===e.searchInputDivRef.current||e.closeSearchInput():t.target!==e.searchInputRef.current&&t.target.id!==$.a.iconTopMobileNav&&t.target!==e.searchInputDivRef.current&&e.closeSearchInput()),!1===e.state.allowClickOutsideProfileModal&&e.profileModalRef.current&&t.target!==e.profileModalRef.current&&e.setState({showProfileModal:!1,allowClickOutsideProfileModal:!0})},document.onresize=function(t){if(e.searchSuggestModalRef.current){var a=e.searchInputDivRef.current.offsetLeft,i=e.searchInputDivRef.current.offsetWidth;e.searchSuggestModalRef.style.left=a,e.searchSuggestModalRef.style.width=i}}}},{key:"componentWillUnmount",value:function(){document.onclick=void 0,document.onresize=void 0}},{key:"closeSearchInput",value:function(){this.searchInputDivRef.current.classList.remove($.a.searchInputActive),this.setState({searchSuggestions:[],showSearchSuggestion:!1})}},{key:"handleInputChange",value:function(e){var t=this,a=e.target,i=a.name,s=a.value;this.setState(Object(K.a)({},i,s)),"searchInput"===i&&(0==s.length?this.setState({searchSuggestions:[],showSearchSuggestion:!1}):m.a.get(window.api_prefix+"/searchQuerySuggest?q="+s).then((function(e){t.setState({searchSuggestions:e.data,showSearchSuggestion:!0})})).catch((function(e){e.response&&t.setState({searchSuggestions:[],showSearchSuggestion:!0})})))}},{key:"render",value:function(){var e,t,a,s=this,n=(this.props.t,[]);if(this.searchInputDivRef.current&&this.state.showSearchSuggestion){var r=this.searchInputDivRef.current.offsetLeft,o=this.searchInputDivRef.current.offsetWidth;if((this.state.searchSuggestions.categories.length>0||this.state.searchSuggestions.predefItems.length>0)&&this.state.searchInput.length>0){for(var d=this.state.searchSuggestions.categories.length,u=function(e){n.push(Object(i.jsx)("p",{onClick:function(){s.props.history.push("/search?predefType="+s.state.searchSuggestions.predefItems[e].id),s.props.history.go()},className:$.a.searchSuggestP,children:s.state.searchSuggestions.predefItems[e].title},e+"_-1"))},h=0;h<this.state.searchSuggestions.predefItems.length&&d+h<=6;h++)u(h);for(var p=function(e){n.push(Object(i.jsx)("p",{onClick:function(){s.props.history.push("/search?cat="+s.state.searchSuggestions.categories[e].id),s.props.history.go()},className:$.a.searchSuggestP,children:s.state.searchSuggestions.categories[e].name},e+"_-2"))},g=0;g<d;g++)p(g);e=Object(i.jsx)("div",{ref:this.searchSuggestModalRef,style:{left:r,width:o},id:$.a.searchSuggestMainContainer,children:n})}else e=Object(i.jsx)("div",{ref:this.searchSuggestModalRef,style:{left:r,width:o},id:$.a.searchSuggestMainContainer,children:"No results."})}!0===this.state.showProfileModal&&(t=Object(i.jsxs)("div",{ref:this.profileModalRef,id:$.a.profileModalMainContainer,children:[Object(i.jsx)("div",{className:$.a.arrow_example+" "+$.a.arrow_border_example}),Object(i.jsx)("div",{className:$.a.arrow_example}),Object(i.jsx)(l.b,{to:"/new-listing",children:Object(i.jsx)("p",{className:$.a.profileModalText+" regularTextMedium",children:"Create a listing"})}),Object(i.jsx)(l.b,{to:"/my-purchases",children:Object(i.jsx)("p",{className:$.a.profileModalText+" regularTextMedium",children:"Buying"})}),Object(i.jsx)(l.b,{to:"/my-listings",children:Object(i.jsx)("p",{className:$.a.profileModalText+" regularTextMedium",children:"Selling"})}),Object(i.jsx)(l.b,{to:"/account",children:Object(i.jsx)("p",{className:$.a.profileModalText+" regularTextMedium",children:"Edit profile"})}),Object(i.jsx)(l.b,{to:"/following",children:Object(i.jsx)("p",{className:$.a.profileModalText+" regularTextMedium",children:"Following"})}),Object(i.jsx)("p",{className:$.a.profileModalText+" regularTextMedium",onClick:this.props.logoutUser,children:"Logout"})]})),a=!0===this.props.auth.isAuthenticated?Object(i.jsx)("div",{className:$.a.iconSeparator,onClick:function(){!0===s.state.allowClickOutsideProfileModal?(s.setState({showProfileModal:!0}),setTimeout((function(){s.setState({allowClickOutsideProfileModal:!1})}),100)):s.setState({showProfileModal:!1,allowClickOutsideProfileModal:!0})},children:Object(i.jsx)("div",{className:$.a.iconContainer,children:Object(i.jsx)("img",{src:"https://staticassets2020.s3.amazonaws.com/octiconsSvg/person.svg"})})}):Object(i.jsx)("div",{className:$.a.iconSeparator,onClick:function(){s.setState({isLoginModalDisplayed:!0})},children:Object(i.jsx)("div",{className:$.a.iconContainer,children:Object(i.jsx)("img",{src:"https://staticassets2020.s3.amazonaws.com/octiconsSvg/person.svg"})})});var m="/";return!0===this.props.auth.isAuthenticated&&(m="/home"),Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{id:$.a.desktopTopNav,children:[Object(i.jsxs)("div",{id:$.a.desktopTopNavInnerContainer,children:[Object(i.jsx)(l.b,{to:m,children:Object(i.jsx)("img",{id:$.a.logoDesktopTopNav,src:"https://staticassets2020.s3.amazonaws.com/logos/logoV1orangeTransparent.png"})}),Object(i.jsxs)("div",{id:$.a.searchInputDiv,ref:this.searchInputDivRef,children:[Object(i.jsx)("img",{ref:this.searchIconRef,id:$.a.iconTopMobileNav,src:"https://staticassets2020.s3.amazonaws.com/octiconsSvg/search-grey.svg"}),Object(i.jsx)("input",{id:$.a.searchInput,ref:this.searchInputRef,value:this.state.searchInput,name:"searchInput",onChange:this.handleInputChange,placeholder:"search Cambio",className:"regularText",type:"text"})]}),e,Object(i.jsxs)("div",{id:$.a.desktopTopNavIconsContainer,children:[Object(i.jsx)(l.b,{to:"/faq",children:Object(i.jsx)("div",{className:$.a.iconSeparator,children:Object(i.jsx)("div",{className:$.a.textContainer,children:Object(i.jsx)("p",{className:"regularText",children:"FAQ"})})})}),a]})]}),t]}),Object(i.jsx)(ae,{closeModal:function(){s.setState({isLoginModalDisplayed:!1})},show:this.state.isLoginModalDisplayed,children:Object(i.jsx)(de,Object(c.a)({},this.props))})]})}}]),a}(n.a.Component),he=Object(T.b)((function(e){return{auth:e.auth}}),{logoutUser:y})(ue),pe=a(42),ge=a.n(pe),me=function(e){Object(A.a)(a,e);var t=Object(E.a)(a);function a(e){var i;return Object(R.a)(this,a),(i=t.call(this,e)).state={},i}return Object(B.a)(a,[{key:"render",value:function(){this.props.t;return Object(i.jsxs)("div",{id:ge.a.mainContainer,children:[Object(i.jsx)(l.b,{to:"/index",children:Object(i.jsxs)("div",{className:ge.a.iconSeparator,children:[Object(i.jsx)("div",{className:ge.a.iconContainer,children:Object(i.jsx)("img",{src:"https://staticassets2020.s3.amazonaws.com/octiconsSvg/home.svg"})}),Object(i.jsx)("div",{className:ge.a.textContainer,children:Object(i.jsx)("p",{className:"regularText",children:"Home"})})]})}),Object(i.jsx)(l.b,{to:"/new-listing",children:Object(i.jsxs)("div",{className:ge.a.iconSeparator,children:[Object(i.jsx)("div",{className:ge.a.iconContainer,children:Object(i.jsx)("img",{src:"https://staticassets2020.s3.amazonaws.com/octiconsSvg/diff-added.svg"})}),Object(i.jsx)("div",{className:ge.a.textContainer,children:Object(i.jsx)("p",{className:"regularText",children:"New listing"})})]})}),Object(i.jsx)(l.b,{to:"/profile",children:Object(i.jsxs)("div",{className:ge.a.iconSeparator,children:[Object(i.jsx)("div",{className:ge.a.iconContainer,children:Object(i.jsx)("img",{src:"https://staticassets2020.s3.amazonaws.com/octiconsSvg/person.svg"})}),Object(i.jsx)("div",{className:ge.a.textContainer,children:Object(i.jsx)("p",{className:"regularText",children:"Account"})})]})})]})}}]),a}(n.a.Component),je=a(39),be=a.n(je);function fe(e){var t=parseInt(e),a=t%100;a<10&&(a="0"+a);var i=Math.floor(t/100).toString(),s="",n=i.length%3;n>0&&(s+=i.substring(0,n)+",");for(var r=n;r<i.length;r+=3)s+=i.substring(r,r+3)+",";return"$"+(s=s.substring(0,s.length-1))+"."+a}function xe(e){var t=parseInt(e),a=t%100*.01;return Math.floor(t/100)+a}var ve=function(e){Object(A.a)(a,e);var t=Object(E.a)(a);function a(e){var i;return Object(R.a)(this,a),(i=t.call(this,e)).state={searchInput:"",displayAccountModel:!1,searchSuggestions:[],historyEvents:[],listing:{},isLoading:!0},i}return Object(B.a)(a,[{key:"componentDidMount",value:function(){this.setState({listing:this.props.listing,isLoading:!1})}},{key:"render",value:function(){this.props.t;if(!0===this.state.isLoading)return null;var e,t=[{id:0,name:"New",color:"#ff7700"},{id:1,name:"Like new",color:"#ff7700"},{id:2,name:"Lightly used",color:"#ff7700"},{id:3,name:"Used",color:"#ff7700"},{id:4,name:"Broken",color:"#ff7700"},{id:5,name:"For parts",color:"#ff7700"}];if(0==this.state.listing.avgrating||null==this.state.listing.avgrating||"undefined"==typeof this.state.listing.avgrating)e="No ratings yet.";else{e=[];for(var a=this.state.listing.avgrating,s=Math.floor(a),n=0;n<s;n++)e.push(Object(i.jsx)("img",{src:"https://staticassets2020.s3.amazonaws.com/octiconsSvg/star-yellow.svg"}));s!=a&&e.push(Object(i.jsx)("img",{src:"https://staticassets2020.s3.amazonaws.com/octiconsSvg/star-yellow-half.svg"}))}return Object(i.jsx)("div",{id:be.a.mainContainer,children:Object(i.jsxs)(l.b,{to:"/listing?id="+this.state.listing.id,children:[Object(i.jsx)("div",{className:be.a.mainDivisors,children:Object(i.jsx)("div",{id:be.a.productPicture,style:{backgroundImage:this.state.listing.pictures&&0!=this.state.listing.pictures.length?"url('"+this.state.listing.pictures[0]+"')":"url('https://staticassets2020.s3.amazonaws.com/octiconsSvg/image.svg')"},children:Object(i.jsx)("div",{id:be.a.itemStateContainer,style:{backgroundColor:t[this.state.listing.condition].color},children:Object(i.jsx)("p",{className:"regularText",children:t[this.state.listing.condition].name})})})}),Object(i.jsx)("div",{className:be.a.mainDivisors,children:Object(i.jsxs)("div",{id:be.a.productTextContainer,children:[Object(i.jsxs)("div",{style:{minHeight:"90px"},children:[Object(i.jsx)("p",{className:"regularTextMedium "+be.a.listingTitle,children:this.state.listing.title}),Object(i.jsx)("p",{id:be.a.priceP,className:"regularTextMedium",children:fe(this.state.listing.price)})]}),Object(i.jsxs)("div",{className:be.a.userInfoDivisor,children:[Object(i.jsx)("div",{id:be.a.userPicture,style:{backgroundImage:this.state.listing.sellerprofilepicture&&0!=this.state.listing.sellerprofilepicture.length?"url('"+this.state.listing.sellerprofilepicture+"')":"url('https://staticassets2020.s3.amazonaws.com/octiconsSvg/smiley.svg')"}}),Object(i.jsx)(l.b,{to:"/user?id="+this.state.listing.sellerid,children:Object(i.jsx)("div",{id:be.a.userTextContainer,children:Object(i.jsxs)("p",{className:be.a.noMarginP+" regularTextMedium",children:["@",this.state.listing.sellername]})})})]})]})})]})})}}]),a}(n.a.Component),Oe=Object(F.a)()(ve),_e=a(82),Ce=a.n(_e);var ye=function(e){return Object(i.jsx)("div",{id:Ce.a.mainBody,children:e.children})},Te=a(23),we=a.n(Te),Se=function(e){Object(A.a)(a,e);var t=Object(E.a)(a);function a(){var e;return Object(R.a)(this,a),(e=t.call(this)).state={categories:[],searchInput:"",searchSuggestions:[],showSearchSuggestion:!1,categoryCurrentParentId:-1},e.handleInputChange=e.handleInputChange.bind(Object(G.a)(e)),e.searchContainerRef=n.a.createRef(),e}return Object(B.a)(a,[{key:"componentDidMount",value:function(){this.props.categories&&this.setState({categories:this.props.categories}),this.searchInputRef.focus(),document.body.style.overflow="hidden"}},{key:"componentWillUnmount",value:function(){document.body.style.overflow="auto"}},{key:"postCatTrend",value:function(e){m.a.post(window.api_prefix+"/categorySearchClick",{catId:e})}},{key:"handleInputChange",value:function(e){var t=this,a=e.target,i=a.name,s=a.value;this.setState(Object(K.a)({},i,s)),"searchInput"===i&&(0==s.length?this.setState({searchSuggestions:[],showSearchSuggestion:!1}):m.a.get(window.api_prefix+"/searchQuerySuggest?q="+s).then((function(e){t.setState({searchSuggestions:e.data,showSearchSuggestion:!0})})).catch((function(e){e.response&&t.setState({searchSuggestions:[],showSearchSuggestion:!0})})))}},{key:"render",value:function(){var e,t,a=this,s=[];if(this.state.searchInput.length>0&&this.state.showSearchSuggestion)if(this.state.searchSuggestions.categories.length>0||this.state.searchSuggestions.predefItems.length>0){for(var n=this.state.searchSuggestions.categories.length,r=function(e){s.push(Object(i.jsx)("p",{onClick:function(){a.props.history.push("/search?predefType="+a.state.searchSuggestions.predefItems[e].id),a.props.history.go()},className:we.a.searchSuggestP+" regularText",children:a.state.searchSuggestions.predefItems[e].title},e+"_-1"))},o=0;o<this.state.searchSuggestions.predefItems.length&&n+o<=6;o++)r(o);for(var c=function(e){s.push(Object(i.jsx)("p",{onClick:function(){a.props.history.push("/search?cat="+a.state.searchSuggestions.categories[e].id),a.props.history.go()},className:we.a.searchSuggestP+" regularText",children:a.state.searchSuggestions.categories[e].name},e+"_-2"))},l=0;l<n;l++)c(l);e=Object(i.jsx)("div",{children:Object(i.jsx)("div",{ref:this.searchSuggestModalRef,className:we.a.searchSuggestMainContainer,children:s})})}else e=Object(i.jsx)("div",{ref:this.searchSuggestModalRef,className:we.a.searchSuggestMainContainer,children:Object(i.jsx)("p",{className:we.a.searchSuggestP+" regularText",children:"No results"})});else if(-1==this.state.categoryCurrentParentId){t=[];for(var d=function(e){var s=a.state.categories[e];s.children?t.push(Object(i.jsxs)("p",{className:we.a.searchSuggestP+" regularText",onClick:function(){a.setState({categoryCurrentParentId:s.id})},children:[s.name," ",Object(i.jsx)("img",{className:we.a.chevronImgCategories,src:"https://staticassets2020.s3.amazonaws.com/octiconsSvg/chevron-right.svg"})]},e)):t.push(Object(i.jsx)("p",{onClick:function(){a.postCatTrend(s.id),a.props.history.push("/search?cat="+s.id),a.props.history.go()},className:we.a.searchSuggestP+" regularText",children:s.name},e))},u=0;u<this.state.categories.length;u++)d(u);e=Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{ref:this.searchSuggestModalRef,className:we.a.searchSuggestMainContainer,children:[Object(i.jsx)("p",{className:we.a.regularTextNoMargin+" regularTextBold",children:"Categories"}),t]}),undefined]})}else for(var h,p=0;p<this.state.categories.length;p++){if(this.state.categories[p].id===this.state.categoryCurrentParentId)if("break"===function(){var s=a.state.categories[p].name,n=0;return(t=a.state.categories[p].children.map((function(e,t){return n++,Object(i.jsx)("p",{onClick:function(){a.postCatTrend(e.id),a.props.history.push("/search?cat="+e.id),a.props.history.go()},className:we.a.searchSuggestP+" regularText",children:e.name},t)}))).push(Object(i.jsxs)("p",{onClick:function(){a.postCatTrend(a.state.categoryCurrentParentId),a.props.history.push("/search?cat="+a.state.categoryCurrentParentId),a.props.history.go()},className:we.a.searchSuggestP+" regularText",children:["See all ",s]},"cat_all")),50*n>window.innerHeight-365&&(h=Object(i.jsx)("div",{id:we.a.seeMoreCats,onClick:function(){a.setState({isCategoriesModalDisplayed:!0})},children:Object(i.jsx)("p",{className:we.a.regularTextNoMargin+" regularText",children:"See more"})})),e=Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{ref:a.searchSuggestModalRef,className:we.a.searchSuggestMainContainer,children:[Object(i.jsxs)("p",{className:we.a.regularTextNoMargin+" regularTextBold "+we.a.clickable,onClick:function(){a.setState({categoryCurrentParentId:-1})},children:[Object(i.jsx)("img",{className:we.a.chevronImgCategories+" "+we.a.bottomAlignChevron,src:"https://staticassets2020.s3.amazonaws.com/octiconsSvg/chevron-left.svg"})," ",s]}),t]}),h]}),"break"}())break}return Object(i.jsx)("div",{id:we.a.searchTransparentContainer,className:we.a.searchContainerVisible,children:Object(i.jsxs)("div",{id:we.a.searchMainContainer,children:[Object(i.jsxs)("div",{id:we.a.searchTopContainer,children:[Object(i.jsx)("p",{className:we.a.regularText+" regularTextBold",children:"Search"}),Object(i.jsx)("img",{onClick:function(){a.props.closeSearch()},id:we.a.searchXImg,src:"https://staticassets2020.s3.amazonaws.com/octiconsSvg/x.svg"}),Object(i.jsxs)("div",{id:we.a.searchInputDiv,children:[Object(i.jsx)("img",{id:we.a.iconTopMobileNav,src:"https://staticassets2020.s3.amazonaws.com/octiconsSvg/search-grey.svg"}),Object(i.jsx)("input",{ref:function(e){a.searchInputRef=e},id:we.a.searchInput,value:this.state.searchInput,name:"searchInput",onChange:this.handleInputChange,placeholder:"Search pre-owned electronics",className:"regularText",type:"text"})]})]}),Object(i.jsx)("div",{id:we.a.searchSuggestScroller,children:e})]})})}}]),a}(n.a.Component),Me=function(e){Object(A.a)(a,e);var t=Object(E.a)(a);function a(e){var i;return Object(R.a)(this,a),(i=t.call(this,e)).state={featuredListings:[],followedListings:[],hotListings:[],categories:[],categoryCurrentParentId:-1,isCategoriesModalDisplayed:!1,listingsIsLoaded:!1,userName:"",activeSectionTitle:-1,isMobileSearchDisplayed:!1},i.categoriesContainerRef=n.a.createRef(),i.followedListingsRef=n.a.createRef(),i.searchSuggestModalRef=n.a.createRef(),i.featuredListingsRef=n.a.createRef(),i.hotListingsRef=n.a.createRef(),i.scrollTopButtonRef=n.a.createRef(),i}return Object(B.a)(a,[{key:"componentDidMount",value:function(){var e=this;m.a.get(window.api_prefix+"/allCategories").then((function(t){for(var a=0;a<t.data.length;a++)if(null!=t.data[a].parentid)for(var i=0;i<t.data.length;i++)if(t.data[a].parentid===t.data[i].id){t.data[i].children?t.data[i].children.push(t.data[a]):t.data[i].children=[t.data[a]],t.data.splice(a,1),a--;break}e.setState({categories:t.data})})).catch(),m.a.get(window.api_prefix+"/customFeed").then((function(t){e.setState({listingsIsLoaded:!0,followedListings:t.data.feed,userName:t.data.name})})).catch();this.followedListingsRef.current;var t=window.pageYOffset,a=!1;window.onscroll=function(){var i=document.documentElement.clientWidth,s=window.pageYOffset||window.scrollY;i>780&&e.categoriesContainerRef.current&&(s>=585?e.categoriesContainerRef.current.classList.add(Z.a.fixedCategoriesContainer):e.categoriesContainerRef.current.classList.remove(Z.a.fixedCategoriesContainer)),1==e.state.listingsIsLoaded&&i<=780&&(0==a?a=!0:(e.scrollTopButtonRef.current&&(t<=s||s<200?e.scrollTopButtonRef.current.classList.add(Z.a.displayNone):e.scrollTopButtonRef.current.classList.remove(Z.a.displayNone)),t=s))}}},{key:"componentWillUnmount",value:function(){window.onscroll=void 0,document.onclick=void 0,document.body.style.overflow="visible"}},{key:"postCatTrend",value:function(e){m.a.post(window.api_prefix+"/categorySearchClick",{catId:e})}},{key:"render",value:function(){var e=this,t=(this.props.t,[]);if(-1==this.state.categoryCurrentParentId){for(var a,s=function(a){var s=e.state.categories[a];s.children?t.push(Object(i.jsxs)("p",{className:Z.a.searchSuggestP+" regularText",onClick:function(){e.setState({categoryCurrentParentId:s.id})},children:[s.name," ",Object(i.jsx)("img",{className:Z.a.chevronImgCategories,src:"https://staticassets2020.s3.amazonaws.com/octiconsSvg/chevron-right.svg"})]},a)):t.push(Object(i.jsx)(l.b,{to:"/search?cat="+s.id,onClick:function(){e.postCatTrend(s.id)},children:Object(i.jsx)("p",{className:Z.a.searchSuggestP+" regularText",children:s.name})},a))},n=0;n<this.state.categories.length&&n<=4;n++)s(n);a=Object(i.jsx)("div",{id:Z.a.seeMoreCats,children:Object(i.jsx)("p",{className:Z.a.regularTextNoMargin+" regularText",onClick:function(){e.setState({isCategoriesModalDisplayed:!0})},children:"See more"})}),Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{ref:this.searchSuggestModalRef,className:Z.a.searchSuggestMainContainer,children:[Object(i.jsx)("p",{className:Z.a.regularTextNoMargin+" regularTextBold",children:"Categories"}),t]}),a]})}else for(var r,o=0;o<this.state.categories.length;o++){if(this.state.categories[o].id===this.state.categoryCurrentParentId)if("break"===function(){var a=e.state.categories[o].name,s=0;return(t=e.state.categories[o].children.map((function(t,a){return s++,Object(i.jsx)(l.b,{to:"/search?cat="+t.id,onClick:function(){e.postCatTrend(t.id)},children:Object(i.jsx)("p",{className:Z.a.searchSuggestP+" regularText",children:t.name})},a)}))).push(Object(i.jsx)(l.b,{to:"/search?cat="+e.state.categoryCurrentParentId,onClick:function(){e.postCatTrend(e.state.categoryCurrentParentId)},children:Object(i.jsxs)("p",{className:Z.a.searchSuggestP+" regularText",children:["See all ",a]})},"cat_all")),50*s>window.innerHeight-365&&(r=Object(i.jsx)("div",{id:Z.a.seeMoreCats,onClick:function(){e.setState({isCategoriesModalDisplayed:!0})},children:Object(i.jsx)("p",{className:Z.a.regularTextNoMargin+" regularText",children:"See more"})})),Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{ref:e.searchSuggestModalRef,className:Z.a.searchSuggestMainContainer,children:[Object(i.jsxs)("p",{className:Z.a.regularTextNoMargin+" regularTextBold "+Z.a.clickable,onClick:function(){e.setState({categoryCurrentParentId:-1})},children:[Object(i.jsx)("img",{className:Z.a.chevronImgCategories+" "+Z.a.bottomAlignChevron,src:"https://staticassets2020.s3.amazonaws.com/octiconsSvg/chevron-left.svg"})," ",a]}),t]}),r]}),"break"}())break}Z.a.emptyStateMessageP;this.state.featuredListings.length>0&&this.state.featuredListings.map((function(e,t){return Object(i.jsx)(Oe,{listing:e},t)}));var d=Object(i.jsx)("p",{className:Z.a.emptyStateMessageP,children:"No followed listings yet."});this.state.followedListings.length>0&&(d=this.state.followedListings.map((function(e,t){return Object(i.jsx)(Oe,{listing:e},t)})));Z.a.emptyStateMessageP;this.state.hotListings.length>0&&this.state.hotListings.map((function(e,t){return Object(i.jsx)(Oe,{listing:e},t)}));for(var u=[],h=function(t){if(u.push(Object(i.jsx)(l.b,{to:"/search?cat="+e.state.categories[t].id,onClick:function(){e.postCatTrend(e.state.categories[t].id)},className:"regularTextMedium "+Z.a.allCatsTitle,children:Object(i.jsx)("p",{children:e.state.categories[t].name})},t)),e.state.categories[t].children)for(var a=function(a){u.push(Object(i.jsx)(l.b,{to:"/search?cat="+e.state.categories[t].children[a].id,onClick:function(){e.postCatTrend(e.state.categories[t].children[a].id)},className:"regularText "+Z.a.allCatsText,children:Object(i.jsx)("p",{children:e.state.categories[t].children[a].name})},t+"_"+a))},s=0;s<e.state.categories[t].children.length;s++)a(s)},p=0;p<this.state.categories.length;p++)h(p);if(-1!=this.state.activeSectionTitle){var g;switch(this.state.activeSectionTitle){case 0:g="Featured listings";break;case 1:g="Hot finds";break;case 2:g="Based on what you follow"}Object(i.jsx)("p",{ref:this.hotListingsRef,className:Z.a.sectionTitleP+" regularTextBold "+Z.a.stickyHeader,children:g})}for(var m=[],j=function(t){var a=e.state.categories[t];m.push(Object(i.jsx)("div",{className:Z.a.popCategoryContainer,children:Object(i.jsxs)(l.b,{style:{textDecoration:"none",color:"black"},to:"/search?cat="+a.id,onClick:function(){e.postCatTrend(a.id)},children:[Object(i.jsx)("div",{children:Object(i.jsx)("img",{src:a.picture})}),Object(i.jsx)("p",{className:"regularText",children:a.name})]},t)},t))},b=0;b<this.state.categories.length&&b<7;b++)j(b);var f="you";return this.state.userName&&this.state.userName.length>0&&(f="@"+this.state.userName),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{id:Z.a.desktopMainHeader,children:Object(i.jsxs)("div",{id:Z.a.mainBannerDesktop,children:[Object(i.jsxs)("div",{id:Z.a.imgLeftBanner,children:[Object(i.jsx)("p",{style:{margin:"0 0 10px 0"},className:"regularTextMedium",children:"verified sellers \u2022 verified listings"}),Object(i.jsx)("p",{style:{margin:"0 0 70px 0"},className:"mainHeadline",children:"Pre-owned electronics you can trust."}),Object(i.jsx)(l.b,{to:"/new-listing",className:"regularTextMedium blueButton",children:"Start selling now"})]}),Object(i.jsx)("div",{id:Z.a.imgRightBanner,style:{backgroundImage:"url('https://cambio-ui.s3.amazonaws.com/bannerMainMarble.png')"}})]})}),Object(i.jsxs)(ye,{children:[Object(i.jsx)("div",{className:Z.a.topMainContainer,children:Object(i.jsxs)("div",{className:Z.a.topMainContainerInnerContainer,children:[Object(i.jsx)("div",{id:Z.a.mobileTopNav,children:Object(i.jsxs)("div",{id:Z.a.mobileTopNavTopDiv,children:[Object(i.jsxs)("p",{className:"megaTitle "+Z.a.topWelcomeMessage,children:["\ud83d\udc4b  Hey ",f,"!"]}),Object(i.jsx)("div",{id:Z.a.searchIconClick,onClick:function(){e.setState({isMobileSearchDisplayed:!0})},children:Object(i.jsx)("img",{src:"https://staticassets2020.s3.amazonaws.com/octiconsSvg/search.svg"})})]})}),Object(i.jsxs)("div",{id:Z.a.mobileMainHeader,children:[Object(i.jsx)("p",{style:{margin:"0 0 10px 0"},className:"regularTextMedium",children:"verified sellers \u2022 verified listings"}),Object(i.jsx)("p",{style:{margin:"0 0 60px 0"},className:"mainHeadline",children:"Pre-owned electronics you can trust."}),Object(i.jsx)(l.b,{to:"/new-listing",className:"regularTextMedium blueButton",children:"Start selling now"})]}),Object(i.jsx)("div",{id:Z.a.mobileCategorySlideshow,children:m})]})}),Object(i.jsx)("div",{className:Z.a.mainFeedContainers,children:Object(i.jsxs)("div",{className:Z.a.innerMainContainer,children:[Object(i.jsx)("p",{className:Z.a.desktopTitle+" title2",children:"Items for you"}),d]})})]}),Object(i.jsx)("div",{id:Z.a.scrollTopContainer,ref:this.scrollTopButtonRef,className:Z.a.displayNone,children:Object(i.jsx)("div",{id:Z.a.scrollTopButton,onClick:function(){window.scrollTo({top:0,behavior:"smooth"})},children:Object(i.jsx)("img",{src:"https://staticassets2020.s3.amazonaws.com/octiconsSvg/chevron-up.svg"})})}),Object(i.jsx)(q,{}),Object(i.jsx)(me,Object(c.a)({},this.props)),Object(i.jsx)(he,Object(c.a)({},this.props),(new Date).getTime()),1==this.state.isMobileSearchDisplayed?Object(i.jsx)(Se,{history:this.props.history,closeSearch:function(){e.setState({isMobileSearchDisplayed:!1})},categories:this.state.categories}):null,Object(i.jsx)(ae,{title:"Categories",closeModal:function(){e.setState({isCategoriesModalDisplayed:!1})},show:this.state.isCategoriesModalDisplayed,children:u})]})}}]),a}(n.a.Component),Ne=Object(F.a)()(Me),Ie=function(e){Object(A.a)(a,e);var t=Object(E.a)(a);function a(e){var i;return Object(R.a)(this,a),(i=t.call(this,e)).state={},i}return Object(B.a)(a,[{key:"render",value:function(){return Object(i.jsx)("p",{children:"404"})}}]),a}(n.a.Component),ke=a(29),Pe=a.n(ke),Le=a(47),De=a.n(Le),Re=function(e){Object(A.a)(a,e);var t=Object(E.a)(a);function a(e){var i;return Object(R.a)(this,a),(i=t.call(this,e)).state={},i}return Object(B.a)(a,[{key:"render",value:function(){return Object(i.jsx)("div",{id:De.a.footer,children:Object(i.jsxs)("ul",{children:[Object(i.jsx)(l.b,{to:"/",children:Object(i.jsx)("li",{className:"regularText "+De.a.regularText+" "+De.a.link,children:"Home"})}),Object(i.jsx)(l.b,{to:"/about-us",children:Object(i.jsx)("li",{className:"regularText "+De.a.regularText+" "+De.a.link,children:"About us"})}),Object(i.jsx)("a",{href:"mailto: contact@cambio.com",style:{textDecoration:"none"},children:Object(i.jsx)("li",{className:"regularText "+De.a.regularText,children:"contact@joincambio.com"})}),Object(i.jsxs)("li",{className:"regularText "+De.a.regularText,children:["\xa9 Copyright Cambio ",(new Date).getFullYear()]})]})})}}]),a}(n.a.Component),Be=Object(F.a)()(Re),Ae=a(16),Ee=a.n(Ae),Fe=a(59),ze=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,Ue=function(e){Object(A.a)(a,e);var t=Object(E.a)(a);function a(e){var i;return Object(R.a)(this,a),(i=t.call(this,e)).state={mainInput:"",userHasJoined:!1,joinErrorMessage:"",shareLink:"",linkIsCopied:!1,refEmail:""},i.handleInputChange=i.handleInputChange.bind(Object(G.a)(i)),i.submitButton=i.submitButton.bind(Object(G.a)(i)),i.copyReferralLink=i.copyReferralLink.bind(Object(G.a)(i)),i.linkInput=n.a.createRef(),i}return Object(B.a)(a,[{key:"handleInputChange",value:function(e){var t=e.target,a=t.value,i=t.name;this.setState(Object(K.a)({},i,a))}},{key:"submitButton",value:function(){var e=this;if(this.setState({joinErrorMessage:""}),this.state.mainInput.length>0)if(!0===ze.test(this.state.mainInput)){var t={};t.email=this.state.mainInput,Ee.a.parse(window.location.search).ref&&(t.refToken=Ee.a.parse(window.location.search).ref),m.a.post(window.api_prefix+"/addUserToWaitlist",t).then((function(t){var a="";t.data.referralEmail&&(a=t.data.referralEmail),e.setState({userHasJoined:!0,joinErrorMessage:"",shareLink:"www.joinCambio.com?ref="+t.data.shareToken,referralEmail:a})})).catch((function(t){t.response&&(403===t.response.status?e.setState({joinErrorMessage:"This email address is already on our waitlist.",userHasJoined:!1}):e.setState({joinErrorMessage:"There has been a server error, please try again.",userHasJoined:!1}))}))}else this.setState({joinErrorMessage:"Please enter a valid email address."});else this.setState({joinErrorMessage:"Please fill in your email address."})}},{key:"copyReferralLink",value:function(){if(this.linkInput.current){var e=this.linkInput.current;e.select(),e.setSelectionRange(0,99999),document.execCommand("copy"),window.getSelection?window.getSelection().removeAllRanges():document.selection&&document.selection.empty(),this.setState({linkIsCopied:!0})}}},{key:"render",value:function(){var e;if(!1===this.state.userHasJoined){var t;this.state.joinErrorMessage.length>0&&(t=Object(i.jsx)("p",{className:"errorText "+Pe.a.regularText,children:this.state.joinErrorMessage})),e=Object(i.jsxs)("div",{children:[Object(i.jsx)("p",{className:"regularText "+Pe.a.regularText,children:"Join our waitlist to be in the first batch of users"}),Object(i.jsx)("input",{className:"inputText "+Pe.a.input,placeholder:"Email address",value:this.state.mainInput,name:"mainInput",onChange:this.handleInputChange,type:"email"}),Object(i.jsx)("button",{id:Pe.a.submitButton,className:"regularTextMedium",onClick:this.submitButton,children:"Join"}),Object(i.jsx)("p",{className:"smallText "+Pe.a.regularText,children:"Don't worry we won't spam you, promise!"}),t]})}else{var a;a=this.state.referralEmail.length>0?Object(i.jsxs)("p",{className:"regularText "+Pe.a.regularText,children:["Thanks for joining Cambio's waitlist, one referral has been added to ",this.state.referralEmail,". ",Object(i.jsx)("span",{className:"regularTextBold",children:"Refer 5 users "}),"and skip the waitlist when we launch!"]}):Object(i.jsxs)("p",{className:"regularText "+Pe.a.regularText,children:["Thanks for joining Cambio's waitlist. ",Object(i.jsx)("span",{className:"regularTextBold",children:"Refer 5 users "}),"to skip the waitlist when we launch!"]});var s="https://twitter.com/share?url="+this.state.shareLink+"&text=Join Cambio's waitlist to purchase affordable pre-owned electronics you can trust.",n="https://wa.me/?text=Join Cambio's waitlist to purchase affordable pre-owned electronics you can trust. "+this.state.shareLink;e=Object(i.jsxs)("div",{children:[Object(i.jsx)("p",{className:"title2 "+Pe.a.regularText,children:"Hooray!"}),a,Object(i.jsxs)("div",{id:Pe.a.mainShareContainer,children:[Object(i.jsxs)("div",{id:Pe.a.topShareContainer,children:[Object(i.jsx)("input",{ref:this.linkInput,readOnly:!0,type:"text",className:"inputText",value:this.state.shareLink}),Object(i.jsx)("button",{onClick:this.copyReferralLink,className:"regularTextMedium",children:1==this.state.linkIsCopied?"Copied":"Copy"})]}),Object(i.jsxs)("div",{id:Pe.a.bottomShareContainer,children:[Object(i.jsx)("p",{className:"regularText",children:"Share on:"}),Object(i.jsx)("a",{href:s,target:"_blank",children:Object(i.jsx)("img",{className:Pe.a.shareIcons,src:"https://staticassets2020.s3.amazonaws.com/icons/twitter-white.svg"})}),Object(i.jsx)("a",{href:n,target:"_blank",children:Object(i.jsx)("img",{className:Pe.a.shareIcons,src:"https://staticassets2020.s3.amazonaws.com/icons/whatsapp-white.svg"})})]})]})]})}return Object(i.jsxs)("div",{id:Pe.a.mainContainer,children:[Object(i.jsxs)(Fe.a,{children:[Object(i.jsx)("meta",{charSet:"utf-8"}),Object(i.jsx)("title",{children:"Cambio - Pre-owned electronics you can trust"}),Object(i.jsx)("meta",{name:"description",content:"Purchase affordable pre-owned electronics you can trust. No stolen devices. No sketchy transactions. Every pucharse is covered under our buyer's warranty."}),Object(i.jsx)("link",{rel:"canonical",href:"http://joincambio.com"})]}),Object(i.jsx)("div",{id:Pe.a.header,children:Object(i.jsx)("a",{href:"https://twitter.com/joinCambio",children:Object(i.jsx)("svg",{className:Pe.a.socialIcon,xmlns:"http://www.w3.org/2000/svg",width:"35",height:"35",viewBox:"0 0 72 72",fill:"#1da1f2",children:Object(i.jsx)("path",{d:"M67.812 16.141a26.246 26.246 0 01-7.519 2.06 13.134 13.134 0 005.756-7.244 26.127 26.127 0 01-8.313 3.176A13.075 13.075 0 0048.182 10c-7.229 0-13.092 5.861-13.092 13.093 0 1.026.118 2.021.338 2.981-10.885-.548-20.528-5.757-26.987-13.679a13.048 13.048 0 00-1.771 6.581c0 4.542 2.312 8.551 5.824 10.898a13.048 13.048 0 01-5.93-1.638c-.002.055-.002.11-.002.162 0 6.345 4.513 11.638 10.504 12.84a13.177 13.177 0 01-3.449.457c-.846 0-1.667-.078-2.465-.231 1.667 5.2 6.499 8.986 12.23 9.09a26.276 26.276 0 01-16.26 5.606A26.21 26.21 0 014 55.976a37.036 37.036 0 0020.067 5.882c24.083 0 37.251-19.949 37.251-37.249 0-.566-.014-1.134-.039-1.694a26.597 26.597 0 006.533-6.774z"})})})}),Object(i.jsxs)("div",{id:Pe.a.mainInnerContainer,children:[Object(i.jsxs)("div",{className:Pe.a.halfDiv,children:[Object(i.jsx)("img",{id:Pe.a.logo,src:"https://staticassets2020.s3.amazonaws.com/logos/logoV1orange.png"}),Object(i.jsx)("p",{className:"title1 "+Pe.a.regularText,children:"Find affordable pre-owned electronics you can trust."}),e]}),Object(i.jsx)("div",{className:Pe.a.halfDiv,children:Object(i.jsx)("img",{alt:"mockup",id:Pe.a.mockupImg,src:"https://staticassets2020.s3.amazonaws.com/landingPageAssets/mockup.png"})})]}),Object(i.jsx)(Be,{})]})}}]),a}(n.a.Component),He=Object(F.a)()(Ue),Ve=function(e){Object(A.a)(a,e);var t=Object(E.a)(a);function a(e){var i;return Object(R.a)(this,a),(i=t.call(this,e)).state={},i}return Object(B.a)(a,[{key:"render",value:function(){return Object(i.jsxs)("div",{id:U.a.mainContainer,children:[Object(i.jsxs)(Fe.a,{children:[Object(i.jsx)("meta",{charSet:"utf-8"}),Object(i.jsx)("title",{children:"About Cambio - Pre-owned electronics you can trust"}),Object(i.jsx)("link",{rel:"canonical",href:"http://joincambio.com/about-us"})]}),Object(i.jsxs)("div",{id:U.a.header,children:[Object(i.jsx)("img",{id:U.a.logo,src:"https://staticassets2020.s3.amazonaws.com/logos/logoV1orange.png"}),Object(i.jsx)("a",{href:"https://twitter.com/joinCambio",children:Object(i.jsx)("svg",{className:U.a.socialIcon,xmlns:"http://www.w3.org/2000/svg",width:"35",height:"35",viewBox:"0 0 72 72",fill:"#1da1f2",children:Object(i.jsx)("path",{d:"M67.812 16.141a26.246 26.246 0 01-7.519 2.06 13.134 13.134 0 005.756-7.244 26.127 26.127 0 01-8.313 3.176A13.075 13.075 0 0048.182 10c-7.229 0-13.092 5.861-13.092 13.093 0 1.026.118 2.021.338 2.981-10.885-.548-20.528-5.757-26.987-13.679a13.048 13.048 0 00-1.771 6.581c0 4.542 2.312 8.551 5.824 10.898a13.048 13.048 0 01-5.93-1.638c-.002.055-.002.11-.002.162 0 6.345 4.513 11.638 10.504 12.84a13.177 13.177 0 01-3.449.457c-.846 0-1.667-.078-2.465-.231 1.667 5.2 6.499 8.986 12.23 9.09a26.276 26.276 0 01-16.26 5.606A26.21 26.21 0 014 55.976a37.036 37.036 0 0020.067 5.882c24.083 0 37.251-19.949 37.251-37.249 0-.566-.014-1.134-.039-1.694a26.597 26.597 0 006.533-6.774z"})})})]}),Object(i.jsx)("div",{id:U.a.mainInnerContainer,children:Object(i.jsxs)("div",{className:U.a.halfDiv,children:[Object(i.jsx)("p",{className:"title1",id:U.a.headlineText,children:"About Cambio"}),Object(i.jsxs)("p",{className:"regularText "+U.a.regularText,id:U.a.headlineText,children:["The team created Cambio in an effort to structure and elevate the experience of buying used tech hardware. As people who buy their devices and accessories on online forums, we couldn't believe no one had built a proper marketplace to distribute pre-owned products. ",Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),"We understand trust is your biggest concern, and ours is too. We are developing a safe way to exchange items, by creating a chain of trust from seller to buyer."]})]})}),Object(i.jsx)(Be,{})]})}}]),a}(n.a.Component),Ge=Object(F.a)()(Ve),Je=function(e){Object(A.a)(a,e);var t=Object(E.a)(a);function a(e){var i;return Object(R.a)(this,a),(i=t.call(this,e)).state={},i}return Object(B.a)(a,[{key:"render",value:function(){return Object(i.jsxs)("div",{id:U.a.mainContainer,children:[Object(i.jsx)("div",{id:U.a.header,children:Object(i.jsx)("a",{href:"https://twitter.com",children:Object(i.jsx)("svg",{className:U.a.socialIcon,xmlns:"http://www.w3.org/2000/svg",width:"35",height:"35",viewBox:"0 0 72 72",fill:"#1da1f2",children:Object(i.jsx)("path",{d:"M67.812 16.141a26.246 26.246 0 01-7.519 2.06 13.134 13.134 0 005.756-7.244 26.127 26.127 0 01-8.313 3.176A13.075 13.075 0 0048.182 10c-7.229 0-13.092 5.861-13.092 13.093 0 1.026.118 2.021.338 2.981-10.885-.548-20.528-5.757-26.987-13.679a13.048 13.048 0 00-1.771 6.581c0 4.542 2.312 8.551 5.824 10.898a13.048 13.048 0 01-5.93-1.638c-.002.055-.002.11-.002.162 0 6.345 4.513 11.638 10.504 12.84a13.177 13.177 0 01-3.449.457c-.846 0-1.667-.078-2.465-.231 1.667 5.2 6.499 8.986 12.23 9.09a26.276 26.276 0 01-16.26 5.606A26.21 26.21 0 014 55.976a37.036 37.036 0 0020.067 5.882c24.083 0 37.251-19.949 37.251-37.249 0-.566-.014-1.134-.039-1.694a26.597 26.597 0 006.533-6.774z"})})})}),Object(i.jsx)("div",{id:U.a.mainInnerContainer,children:Object(i.jsxs)("div",{className:U.a.halfDiv,children:[Object(i.jsx)("p",{className:"title2",id:U.a.headlineText,children:"Terms and conditions"}),Object(i.jsx)("p",{className:"regularText "+U.a.regularText,id:U.a.headlineText,children:"terms and conditions"}),Object(i.jsx)("p",{className:"title2",id:U.a.headlineText,children:"Privacy policy"}),Object(i.jsx)("p",{className:"regularText "+U.a.regularText,id:U.a.headlineText,children:"Privacy policy"})]})}),Object(i.jsx)(Be,{})]})}}]),a}(n.a.Component),Ye=Object(F.a)()(Je),We=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,qe=function(e){Object(A.a)(a,e);var t=Object(E.a)(a);function a(e){var i;return Object(R.a)(this,a),(i=t.call(this,e)).state={email:"",password:"",formErrorMessage:"",isDataLoading:!1,serverErrorMessage:""},i.handleInputChange=i.handleInputChange.bind(Object(G.a)(i)),i.handleFormSubmit=i.handleFormSubmit.bind(Object(G.a)(i)),i}return Object(B.a)(a,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&this.props.history.push("/home")}},{key:"handleInputChange",value:function(e){var t=e.target,a=t.name,i=t.value;this.setState(Object(K.a)({},a,i))}},{key:"handleFormSubmit",value:function(){if(this.setState({formErrorMessage:""}),this.state.email.length>0&&this.state.password.length>0)if(!0===We.test(this.state.email)){this.setState({isDataLoading:!0});var e={email:this.state.email,password:this.state.password};this.props.loginUser(e)}else this.setState({formErrorMessage:"Your email is not valid."});else this.setState({formErrorMessage:"Please fill in all the fields."})}},{key:"render",value:function(){var e;return this.state.formErrorMessage.length>0?e=Object(i.jsx)("p",{className:"errorText "+se.a.regularText,children:this.state.formErrorMessage}):this.state.serverErrorMessage.length>0&&(e=Object(i.jsx)("p",{className:"errorText "+se.a.regularText,children:this.state.serverErrorMessage})),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{id:se.a.bodyContainer,children:Object(i.jsxs)("div",{id:se.a.formCard,children:[Object(i.jsx)(l.b,{to:"/",children:Object(i.jsx)("img",{alt:"logo",id:se.a.logo,src:"https://staticassets2020.s3.amazonaws.com/logos/logoV1orangeTransparent.png"})}),Object(i.jsx)("p",{className:"title1 "+se.a.regularText,children:"Welcome back!"}),Object(i.jsx)("input",{className:se.a.inputText+" inputText regularText",type:"email",name:"email",value:this.state.email,onChange:this.handleInputChange,placeholder:"Email address"}),Object(i.jsx)("input",{className:se.a.inputText+" inputText regularText",type:"password",name:"password",value:this.state.password,onChange:this.handleInputChange,placeholder:"Password"}),e,Object(i.jsxs)("p",{className:"regularText "+se.a.regularText,children:["Don't have an account? ",Object(i.jsx)(l.b,{to:"/signup",className:se.a.link+" "+se.a.regularText,children:"Sign up now."})]}),Object(i.jsx)("button",{className:se.a.button+" buttonCta regularTextMedium",onClick:this.handleFormSubmit,children:"Continue"})]})}),1==this.state.isDataLoading?Object(i.jsx)(oe,{}):null]})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.auth.isAuthenticated?(e.history.push("/home"),null):e.errors&&e.errors.message?{serverErrorMessage:e.errors.message,isDataLoading:!1}:null}}]),a}(n.a.Component),Xe=Object(T.b)((function(e){return{auth:e.auth,errors:e.errors}}),{loginUser:_})(Object(F.a)()(qe)),Ze=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,Ke=function(e){Object(A.a)(a,e);var t=Object(E.a)(a);function a(e){var i;return Object(R.a)(this,a),(i=t.call(this,e)).state={email:"",password:"",username:"",formErrorMessage:"",isDataLoading:!1,serverErrorMessage:"",usernameErrorMessage:"",usernameSuccessMessage:"",unameIsValid:!1,isLoading:!0,tokenValue:null,waitlistSuccessMessage:""},i.handleInputChange=i.handleInputChange.bind(Object(G.a)(i)),i.handleFormSubmit=i.handleFormSubmit.bind(Object(G.a)(i)),i.verifyUsername=i.verifyUsername.bind(Object(G.a)(i)),i.handleWaitlistSubmit=i.handleWaitlistSubmit.bind(Object(G.a)(i)),i}return Object(B.a)(a,[{key:"componentDidMount",value:function(){if(this.props.auth.isAuthenticated&&this.props.history.push("/home"),Ee.a.parse(window.location.search).token){var e=Ee.a.parse(window.location.search).token;this.setState({isLoading:!1,tokenValue:e})}else this.setState({isLoading:!1})}},{key:"handleInputChange",value:function(e){var t,a=e.target,i=a.name,s=a.value;"username"===i?this.setState((t={},Object(K.a)(t,i,s),Object(K.a)(t,"unameIsValid",!1),t)):this.setState(Object(K.a)({},i,s))}},{key:"verifyUsername",value:function(){var e=this;this.setState({usernameSuccessMessage:"",usernameErrorMessage:""}),this.state.username.length>0&&m.a.get(window.api_prefix+"/usernameIsValid?uname="+this.state.username).then((function(t){parseInt(t.data.count)>0?e.setState({usernameSuccessMessage:"",usernameErrorMessage:"This username is already taken.",unameIsValid:!1}):e.setState({usernameSuccessMessage:"Congrats, this username is stil available.",usernameErrorMessage:"",unameIsValid:!0})}))}},{key:"handleWaitlistSubmit",value:function(){var e=this;if(this.setState({formErrorMessage:""}),this.state.email.length>0)if(!0===Ze.test(this.state.email))if(this.state.email.length>=6&&this.state.email.length<255){this.setState({isDataLoading:!0});var t={email:this.state.email};m.a.post(window.api_prefix+"/addUserToWaitlist",t).then((function(t){e.setState({isDataLoading:!1,waitlistSuccessMessage:"You have successfully been added to our waitlist! Check your emails regularly."})})).catch((function(t){e.setState({formErrorMessage:"There has been a server error, please try again."}),e.setState({isDataLoading:!1})}))}else this.setState({formErrorMessage:"Your email should have between 6 and 255 characters."}),this.setState({isDataLoading:!1});else this.setState({formErrorMessage:"Your email is not valid."}),this.setState({isDataLoading:!1});else this.setState({formErrorMessage:"Please fill in all the fields."})}},{key:"handleFormSubmit",value:function(){if(this.setState({formErrorMessage:""}),this.state.email.length>0&&this.state.password.length>0&&this.state.username.length>0&&null!=this.state.tokenValue)if(!0===Ze.test(this.state.email))if(this.state.email.length>=6&&this.state.email.length<255)if(this.state.password.length>=6&&this.state.password.length<255)if(this.state.username.length<255)if(1==this.state.unameIsValid){this.setState({isDataLoading:!0});var e={token:this.state.tokenValue,email:this.state.email,password:this.state.password,username:this.state.username},t=Ee.a.parse(window.location.search);"undefined"!=typeof t.pwd&&"undefined"!=typeof t.uid&&(e.guestUserPassword=t.pwd,e.guestUserId=t.uid),this.props.registerUser(e,this.props.history)}else this.setState({formErrorMessage:"Please pick a valid username."});else this.setState({formErrorMessage:"Your last name should have less than 255 characters."});else this.setState({formErrorMessage:"Your password should have between 6 and 255 characters."});else this.setState({formErrorMessage:"Your email should have between 6 and 255 characters."});else this.setState({formErrorMessage:"Your email is not valid."});else this.setState({formErrorMessage:"Please fill in all the fields."})}},{key:"render",value:function(){var e,t;return this.state.formErrorMessage.length>0?e=Object(i.jsx)("p",{className:"errorText "+se.a.regularText,children:this.state.formErrorMessage}):this.state.serverErrorMessage.length>0&&(e=Object(i.jsx)("p",{className:"errorText "+se.a.regularText,children:this.state.serverErrorMessage})),this.state.usernameErrorMessage.length>0?t=Object(i.jsx)("p",{className:"errorText "+se.a.regularText,children:this.state.usernameErrorMessage}):this.state.usernameSuccessMessage.length>0&&(t=Object(i.jsx)("p",{className:se.a.regularText,style:{color:"green"},children:this.state.usernameSuccessMessage})),1==this.state.isLoading?Object(i.jsx)("p",{children:"Loading..."}):this.state.waitlistSuccessMessage.length>0?Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{id:se.a.bodyContainer,children:Object(i.jsxs)("div",{id:se.a.formCard,children:[Object(i.jsx)(l.b,{to:"/",children:Object(i.jsx)("img",{alt:"logo",id:se.a.logo,src:"https://staticassets2020.s3.amazonaws.com/logos/logoV1orangeTransparent.png"})}),Object(i.jsx)("p",{className:"title1 "+se.a.regularText,children:"We're currently still in beta release and it looks like you weren't on our waitlist!"}),Object(i.jsx)("p",{className:"regularTextMedium "+se.a.regularText,children:this.state.waitlistSuccessMessage})]})}),1==this.state.isDataLoading?Object(i.jsx)(oe,{}):null]}):null==this.state.tokenValue?Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{id:se.a.bodyContainer,children:Object(i.jsxs)("div",{id:se.a.formCard,children:[Object(i.jsx)(l.b,{to:"/",children:Object(i.jsx)("img",{alt:"logo",id:se.a.logo,src:"https://staticassets2020.s3.amazonaws.com/logos/logoV1orangeTransparent.png"})}),Object(i.jsx)("p",{className:"title1 "+se.a.regularText,children:"We're currently still in beta release and it looks like you weren't on our waitlist!"}),Object(i.jsx)("p",{className:"regularTextMedium "+se.a.regularText,children:"Join our waitlist now to be the next member of our community."}),Object(i.jsx)("input",{className:se.a.inputText+" inputText regularText",type:"email",name:"email",value:this.state.email,onChange:this.handleInputChange,placeholder:"Email address"}),e,Object(i.jsxs)("p",{className:"regularText "+se.a.regularText,children:["Already have an account? ",Object(i.jsx)(l.b,{to:"/login",className:se.a.link+" "+se.a.regularText,children:"Sign in now."})]}),Object(i.jsx)("button",{className:se.a.button+" buttonCta regularTextMedium",onClick:this.handleWaitlistSubmit,children:"Continue"})]})}),1==this.state.isDataLoading?Object(i.jsx)(oe,{}):null]}):Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{id:se.a.bodyContainer,children:Object(i.jsxs)("div",{id:se.a.formCard,children:[Object(i.jsx)(l.b,{to:"/",children:Object(i.jsx)("img",{alt:"logo",id:se.a.logo,src:"https://staticassets2020.s3.amazonaws.com/logos/logoV1orangeTransparent.png"})}),Object(i.jsx)("p",{className:"title1 "+se.a.regularText,children:"Let's get started!"}),Object(i.jsx)("input",{className:se.a.inputText+" inputText regularText",type:"text",name:"username",value:this.state.username,onChange:this.handleInputChange,onBlur:this.verifyUsername,placeholder:"Pick a username"}),t,Object(i.jsx)("div",{id:se.a.invSpace}),Object(i.jsx)("input",{className:se.a.inputText+" inputText regularText",type:"email",name:"email",value:this.state.email,onChange:this.handleInputChange,placeholder:"Email address"}),Object(i.jsx)("input",{className:se.a.inputText+" inputText regularText",type:"password",name:"password",value:this.state.password,onChange:this.handleInputChange,placeholder:"Password"}),e,Object(i.jsxs)("p",{children:["By registering, you agree to our ",Object(i.jsx)(l.b,{className:se.a.link+" "+se.a.regularText,children:"Privacy policy"})," and ",Object(i.jsx)(l.b,{className:se.a.link+" "+se.a.regularText,children:"Terms and conditions"})]}),Object(i.jsxs)("p",{className:"regularText "+se.a.regularText,children:["Already have an account? ",Object(i.jsx)(l.b,{to:"/login",className:se.a.link+" "+se.a.regularText,children:"Sign in now."})]}),Object(i.jsx)("button",{className:se.a.button+" buttonCta regularTextMedium",onClick:this.handleFormSubmit,children:"Continue"})]})}),1==this.state.isDataLoading?Object(i.jsx)(oe,{}):null]})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.errors&&e.errors.message?{serverErrorMessage:e.errors.message,isDataLoading:!1}:null}}]),a}(n.a.Component),Qe=Object(T.b)((function(e){return{auth:e.auth,errors:e.errors}}),{registerUser:function(e,t){return function(a){m.a.post(window.api_prefix+"/signupUser",e).then((function(e){return t.push("/login")})).catch((function(e){return a({type:x,payload:e.response.data})}))}}})(Object(d.g)(Object(F.a)()(Ke))),$e=a(21),et=a.n($e),tt=a(50),at=a.n(tt),it=function(e){Object(A.a)(a,e);var t=Object(E.a)(a);function a(e){var i;return Object(R.a)(this,a),(i=t.call(this,e)).state={searchInput:"",displayAccountModel:!1,searchSuggestions:[],historyEvents:[],listing:{},isLoading:!0},i}return Object(B.a)(a,[{key:"componentDidMount",value:function(){this.setState({listing:this.props.listing,isLoading:!1})}},{key:"render",value:function(){this.props.t;if(!0===this.state.isLoading)return null;var e;if(0==this.state.listing.avgrating||null==this.state.listing.avgrating||"undefined"==typeof this.state.listing.avgrating)e="No ratings yet.";else{e=[];for(var t=this.state.listing.avgrating,a=Math.floor(t),s=0;s<a;s++)e.push(Object(i.jsx)("img",{src:"https://staticassets2020.s3.amazonaws.com/octiconsSvg/star-yellow.svg"}));a!=t&&e.push(Object(i.jsx)("img",{src:"https://staticassets2020.s3.amazonaws.com/octiconsSvg/star-yellow-half.svg"}))}return Object(i.jsx)("div",{id:at.a.mainContainer,children:Object(i.jsxs)(l.b,{to:"/listing?id="+this.state.listing.id,children:[Object(i.jsx)("div",{className:at.a.mainDivisors,children:Object(i.jsx)("div",{id:at.a.productPicture,style:{backgroundImage:this.state.listing.pictures&&0!=this.state.listing.pictures.length?"url('"+this.state.listing.pictures[0]+"')":"url('https://staticassets2020.s3.amazonaws.com/octiconsSvg/image.svg')"},children:Object(i.jsx)("div",{id:at.a.itemStateContainer,children:Object(i.jsx)("p",{className:"regularText",children:[{id:0,name:"New"},{id:1,name:"Like new"},{id:2,name:"Lightly used"},{id:3,name:"Used"},{id:4,name:"Broken"},{id:5,name:"For parts"}][this.state.listing.condition].name})})})}),Object(i.jsx)("div",{className:at.a.mainDivisors,children:Object(i.jsxs)("div",{id:at.a.productTextContainer,children:[Object(i.jsx)("p",{className:"regularTextMedium",children:this.state.listing.title}),Object(i.jsx)("p",{className:"regularTextMedium ",children:fe(this.state.listing.price)})]})})]})})}}]),a}(n.a.Component),st=Object(F.a)()(it),nt=a(48),rt=a.n(nt),ot=function(e){Object(A.a)(a,e);var t=Object(E.a)(a);function a(e){var i;return Object(R.a)(this,a),(i=t.call(this,e)).state={historyEvents:[]},i}return Object(B.a)(a,[{key:"componentDidMount",value:function(){this.setState({historyEventsy:[{username:"John Doe",type:"RECEIVED",categoryName:"iPhone X",price:329},{username:"Ginna12e",type:"PURCHASED",categoryName:"MakerBot 3D Printer",price:1008},{username:"John Doe",type:"RECEIVED",categoryName:"iPhone X",price:329},{username:"Ginna12e",type:"PURCHASED",categoryName:"MakerBot 3D Printer",price:1008},{username:"John Doe",type:"RECEIVED",categoryName:"iPhone X",price:329},{username:"Ginna12e",type:"PURCHASED",categoryName:"MakerBot 3D Printer",price:1008},{username:"John Doe",type:"RECEIVED",categoryName:"iPhone X",price:329},{username:"Ginna12e",type:"PURCHASED",categoryName:"MakerBot 3D Printer",price:1008}]})}},{key:"render",value:function(){var e;this.props.t;return e=this.state.historyEvents.length>0?this.state.historyEvents.map((function(e,t){var a;return"RECEIVED"===e.type?null:(a=Object(i.jsxs)("p",{className:rt.a.regularTextNoMargin+" regularText",children:[Object(i.jsx)("span",{className:"regularTextMedium",children:e.username})," just bought ",Object(i.jsx)("span",{className:"regularTextMedium",children:e.categoryName})," for ",Object(i.jsx)("span",{className:"regularTextMedium",children:e.price})]}),Object(i.jsx)("div",{className:rt.a.historyEventCard,children:a},t))})):Object(i.jsx)("p",{className:"regularText "+rt.a.regularText+" "+rt.a.divTitleP,children:"No items for you yet."}),Object(i.jsxs)("div",{id:rt.a.historyTabMainContainer,children:[Object(i.jsx)("p",{className:rt.a.divTitleP+" regularTextBold",children:"Similar items for you"}),e]})}}]),a}(n.a.Component),ct=Object(F.a)()(ot),lt=["New (sealed)","Like new","Lightly used","Used","Broken","For parts"],dt=function(e){Object(A.a)(a,e);var t=Object(E.a)(a);function a(e){var i;return Object(R.a)(this,a),(i=t.call(this,e)).state={dataIsLoading:!0,id:"",name:"",reviews:[],signupDate:new Date,avgRating:1,description:"",picture:"",activeListings:[],recentPurchases:[],errorMessage:"",displayLoginPopup:!1,userIsFollowed:!1,isOwnProfile:!1},i.followUser=i.followUser.bind(Object(G.a)(i)),i}return Object(B.a)(a,[{key:"componentDidMount",value:function(){var e,t=this;Ee.a.parse(window.location.search).id?e=Ee.a.parse(window.location.search).id:this.props.history.push("/"),m.a.get(window.api_prefix+"/userReviewsReceived?id="+e).then((function(e){t.setState({reviews:e.data})})),m.a.get(window.api_prefix+"/userFromIdActiveListings?userId="+e).then((function(e){t.setState({activeListings:e.data})})),m.a.get(window.api_prefix+"/userFromIdPurchaseHistory?userId="+e).then((function(e){console.log(e),t.setState({recentPurchases:e.data})})),m.a.get(window.api_prefix+"/userProfile?id="+e).then((function(a){var i=a.data.userInfos;t.setState({id:e,userIsFollowed:!!(a.data.followedInfo&&a.data.followedInfo.length>0),dataIsLoading:!1,isOwnProfile:t.props.auth.user.id==e,signupDate:new Date(i.signupdate),name:i.name,avgRating:i.avgrating,profilePicture:i.profilepicture?i.profilepicture:"",description:i.bio?i.bio:""})})).catch((function(e){e.response&&t.setState({dataIsLoading:!1,errorMessage:e.response.data.message})}))}},{key:"followUser",value:function(){var e=this;!0===this.props.auth.isAuthenticated?(this.setState((function(e){return{userIsFollowed:!e.userIsFollowed}})),m.a.post(window.api_prefix+"/followUser",{id:this.state.id}).then((function(t){e.setState({userIsFollowed:t.data.isFollowing})})).catch((function(t){t.response&&e.setState((function(e){return{userIsFollowed:!e.userIsFollowed}}))}))):this.setState({displayLoginPopup:!0})}},{key:"render",value:function(){this.props.t;var e=Object(i.jsx)("p",{children:"No reviews yet."});if(this.state.reviews.length>0&&(e=this.state.reviews.map((function(e,t){var a,s=e.rating;if(0==s||null==s||"undefined"==typeof s)a="No ratings yet.";else{a=[];for(var n=Math.floor(s),r=0;r<n;r++)a.push(Object(i.jsx)("img",{className:et.a.starIcon,src:"https://staticassets2020.s3.amazonaws.com/octiconsSvg/star-yellow.svg"}));n!=s&&a.push(Object(i.jsx)("img",{className:et.a.starIcon,src:"https://staticassets2020.s3.amazonaws.com/octiconsSvg/star-yellow-half.svg"}))}return Object(i.jsxs)("div",{className:et.a.reviewCardContainer,children:[Object(i.jsx)(l.b,{to:"/user?id="+e.reviewerid,children:Object(i.jsxs)("div",{className:et.a.reviewCardInnerContainer,children:[Object(i.jsx)("div",{className:et.a.profilePictureImg,style:{backgroundImage:e.profilePicture&&0!=e.profilePicture.length?"url('"+e.profilePicture+"')":"url('https://staticassets2020.s3.amazonaws.com/octiconsSvg/smiley.svg')"}}),Object(i.jsxs)("p",{className:" regularText",children:[" ",e.name]})]})}),Object(i.jsx)("div",{className:et.a.reviewCardInnerContainer,children:Object(i.jsx)("p",{className:et.a.regularTextNoMargin+" regularText",children:e.comment})}),Object(i.jsx)("div",{className:et.a.reviewCardInnerContainer,children:Object(i.jsx)("p",{className:et.a.regularTextNoMargin+" regularText",children:a})})]},t)}))),!0===this.state.dataIsLoading)return Object(i.jsx)("p",{children:"Loading..."});if(this.state.errorMessage.length>0)return Object(i.jsx)("p",{children:this.state.errorMessage});var t=Object(i.jsx)("p",{children:"No listings."});this.state.activeListings.length>0&&(t=this.state.activeListings.map((function(e,t){return console.log(e),Object(i.jsx)(st,{listing:e},t)})));var a,s;this.state.recentPurchases.length>0&&this.state.recentPurchases.map((function(e,t){return Object(i.jsx)(l.b,{to:"/listing?id="+e.id,children:Object(i.jsxs)("div",{className:et.a.listingSmallCard,children:[Object(i.jsx)("div",{className:et.a.listingPicture,style:{backgroundImage:e.pictures&&0!=e.pictures.length?"url('"+e.pictures[0]+"')":"url('/https://staticassets2020.s3.amazonaws.com/octiconsSvg/image.svg')"},children:Object(i.jsx)("p",{className:et.a.listingPrice+" regularTextBold",children:fe(e.price)})}),Object(i.jsx)("p",{className:et.a.regularTextHalfMargin+" regularTextBold",children:e.title}),Object(i.jsx)("p",{className:et.a.regularTextHalfMargin+" regularText",children:lt[e.condition]})]})},t)})),a=this.state.profilePicture.length>0?Object(i.jsx)("div",{className:et.a.profilePictureImg,style:{backgroundImage:"url('"+this.state.profilePicture+"')"}}):Object(i.jsx)("div",{className:et.a.profilePictureImg,children:Object(i.jsx)("img",{src:"https://staticassets2020.s3.amazonaws.com/octiconsSvg/smiley.svg"})}),!1===this.state.isOwnProfile&&1==this.props.auth.isAuthenticated&&(s=Object(i.jsx)("div",{className:et.a.followButtonMainContainer,children:!0===this.state.userIsFollowed?Object(i.jsxs)("button",{className:"secondaryButton "+et.a.buttonCta,onClick:this.followUser,children:["Following ",Object(i.jsx)("img",{src:"https://staticassets2020.s3.amazonaws.com/octiconsSvg/check-inactive.svg"})]}):Object(i.jsxs)("button",{className:"secondaryButton "+et.a.buttonCta,onClick:this.followUser,children:["Follow ",Object(i.jsx)("img",{src:"https://staticassets2020.s3.amazonaws.com/octiconsSvg/plus.svg"})]})}));var n,r=this.state.avgRating;if(0==r||null==r||"undefined"==typeof r)n="No ratings yet.";else{n=[];for(var o=Math.floor(r),d=0;d<o;d++)n.push(Object(i.jsx)("img",{className:et.a.starIcon,src:"https://staticassets2020.s3.amazonaws.com/octiconsSvg/star-yellow.svg"}));o!=r&&n.push(Object(i.jsx)("img",{className:et.a.starIcon,src:"https://staticassets2020.s3.amazonaws.com/octiconsSvg/star-yellow-half.svg"}))}return Object(i.jsxs)("div",{children:[Object(i.jsx)(ye,{children:Object(i.jsxs)("div",{className:et.a.innerMainContainer,children:[Object(i.jsxs)("div",{className:et.a.listingComponentsMainContainer,children:[a,s,Object(i.jsxs)("div",{id:et.a.sellerTextMainContainer,children:[Object(i.jsx)("div",{children:Object(i.jsxs)("p",{className:"title2 "+et.a.regularTextNoMargin,children:["@",this.state.name]})}),Object(i.jsx)("div",{children:Object(i.jsx)("p",{className:et.a.regularTextNoMargin+" regularText",children:n})})]}),Object(i.jsxs)("div",{style:{padding:"20px 0 0 0",minHeight:"100px"},children:[Object(i.jsxs)("p",{className:et.a.regularTextNoMargin+" regularTextMedium",children:["Member since ",new Date(this.state.signupDate).getFullYear()]}),Object(i.jsx)("p",{className:et.a.regularTextNoMargin+" regularText",children:this.state.description})]})]}),Object(i.jsx)("div",{className:et.a.separatorLine}),Object(i.jsxs)("p",{className:et.a.regularText+" title2",children:["Active listings (",this.state.activeListings.length,")"]}),Object(i.jsx)("div",{className:et.a.listingCarousel,children:t}),Object(i.jsx)("div",{className:et.a.separatorLine}),Object(i.jsxs)("p",{className:et.a.regularText+" title2",children:["Reviews (",this.state.reviews.length,")"]}),e]})}),Object(i.jsx)(q,{}),Object(i.jsx)(me,Object(c.a)({},this.props)),Object(i.jsx)(he,Object(c.a)({},this.props),(new Date).getTime())]})}}]),a}(n.a.Component),ut=Object(T.b)((function(e){return{auth:e.auth}}))(dt),ht=a(5),pt=a.n(ht),gt=a(62),mt=a.n(gt),jt=function(e){Object(A.a)(a,e);var t=Object(E.a)(a);function a(){var e;Object(R.a)(this,a);for(var i=arguments.length,s=new Array(i),n=0;n<i;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))).message="",e.state={isActive:!1},e.openSnackBar=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Something went wrong...";e.message=t,e.setState({isActive:!0},(function(){setTimeout((function(){e.setState({isActive:!1})}),3e3)}))},e}return Object(B.a)(a,[{key:"render",value:function(){var e=this.state.isActive;return Object(i.jsx)("div",{className:e?[mt.a.snackbar,mt.a.show].join(" "):mt.a.snackbar,children:this.message})}}]),a}(s.PureComponent),bt=[{id:0,name:"New (sealed)"},{id:1,name:"Like new"},{id:2,name:"Lightly used"},{id:3,name:"Used"},{id:4,name:"Broken"},{id:5,name:"For parts"}],ft=function(e){Object(A.a)(a,e);var t=Object(E.a)(a);function a(e){var i;return Object(R.a)(this,a),(i=t.call(this,e)).state={dataIsLoading:!0,isDoingReservation:!1,errorMessage:"",id:"",title:"",seller:{name:"",reviews:[],avgRating:0,profilePicture:""},status:0,price:0,description:"",tags:[],isOwnListing:!1,pictures:[],displayLoginPopup:!1,makeOfferamount:1,isOfferModalDisplayed:!1,isListingFound:!1,sellerReviews:[],filters:[],isGuestListing:!0,condition:0,activePictureCarousel:-1,swipeStart:0,swipeEnd:0,activeDesktopImgCarousel:-1,isAnOfferMade:!1,buyType:0},i.makeOffer=i.makeOffer.bind(Object(G.a)(i)),i.handleInputChange=i.handleInputChange.bind(Object(G.a)(i)),i.snackbarRef=n.a.createRef(),i.shareLinkRef=n.a.createRef(),i}return Object(B.a)(a,[{key:"componentDidMount",value:function(){var e,t=this;Ee.a.parse(window.location.search).id?e=Ee.a.parse(window.location.search).id:this.props.history.push("/"),m.a.get(window.api_prefix+"/listingDetails?id="+e).then((function(a){var i=a.data.listingDetails;i?(t.setState({filters:a.data.filters,isListingFound:!0,isGuestListing:i.isguestlisting,id:e,isOwnListing:t.props.auth.user.id==i.sellerid,title:i.title,price:i.price,pictures:i.pictures,status:i.status,seller:{id:i.sellerid,name:i.name,avgRating:i.avgrating,profilePicture:i.profilepicture?i.profilepicture:""},description:i.description,condition:i.condition,dataIsLoading:!1,predefType:i.predeftype}),m.a.get(window.api_prefix+"/userReviewsReceived?id="+i.sellerid).then((function(e){t.setState({sellerReviews:e.data})}))):t.props.history.push("/home")})).catch((function(e){e.response&&t.setState({dataIsLoading:!1,errorMessage:e.response.data.message})}))}},{key:"componentWillUnmount",value:function(){window.onscroll=void 0,document.onclick=void 0}},{key:"makeOffer",value:function(){!0===this.props.auth.isAuthenticated?(this.setState({isOfferModalDisplayed:!1,makeOfferAmount:"",isAnOfferMade:!0}),m.a.post(window.api_prefix+"/makeOffer",{listingId:this.state.id,amount:this.state.makeOfferAmount}).then((function(e){})).catch((function(e){e.response}))):this.setState({displayLoginPopup:!0})}},{key:"handleInputChange",value:function(e){var t=e.target,a=t.name,i=t.value;this.setState(Object(K.a)({},a,i))}},{key:"render",value:function(){var e=this;this.props.t;if(!0===this.state.dataIsLoading)return Object(i.jsx)("p",{children:"Loading..."});if(this.state.errorMessage.length>0)return Object(i.jsx)("p",{children:this.state.errorMessage});if(0==this.state.isListingFound)return Object(i.jsx)("p",{children:"Listing not found"});for(var t=[],a=function(a){t.push(Object(i.jsx)("div",{onClick:function(){e.setState({activeDesktopImgCarousel:a})},style:{backgroundImage:"url('"+e.state.pictures[a]+"')"},className:pt.a.smallPictureImg},a))},s=1;s<4&&s<this.state.pictures.length;s++)a(s);5==this.state.pictures.length?t.push(Object(i.jsx)("div",{onClick:function(){e.setState({activeDesktopImgCarousel:4})},style:{backgroundImage:"url('"+this.state.pictures[4]+"')"},className:pt.a.smallPictureImg},4)):this.state.pictures.length>5&&t.push(Object(i.jsx)("div",{onClick:function(){e.setState({activeDesktopImgCarousel:5})},className:pt.a.smallPictureImg,children:Object(i.jsx)("p",{children:"More "})},5));for(var n=[],r=0;r<this.state.pictures.length;r++)n.push(Object(i.jsx)("div",{className:this.state.activePictureCarousel==r?pt.a.carouselDot+" "+pt.a.activeCarouselDot:pt.a.carouselDot}));var o,d,u,h,p=this.state.pictures.map((function(e,t){return Object(i.jsx)("div",{className:pt.a.mainPictureImg,style:{backgroundImage:"url('"+e+"')"}},t)}));o=this.state.pictures.length>0?Object(i.jsxs)("div",{id:pt.a.mainPictureContainer,children:[Object(i.jsx)("div",{onClick:function(){e.setState({activeDesktopImgCarousel:0})},className:pt.a.mainPictureImg,id:pt.a.mobileNoShow,style:{backgroundImage:"url('"+this.state.pictures[0]+"')"}}),p]}):Object(i.jsx)("div",{id:pt.a.mainPictureImg,children:Object(i.jsx)("img",{src:"https://staticassets2020.s3.amazonaws.com/octiconsSvg/image.svg"})}),d=this.state.sellerReviews.length>0?this.state.sellerReviews.map((function(e,t){for(var a=[],s=Math.floor(e.rating),n=0;n<s;n++)a.push(Object(i.jsx)("img",{src:"https://staticassets2020.s3.amazonaws.com/octiconsSvg/star-yellow.svg"}));return s!=e.rating&&a.push(Object(i.jsx)("img",{src:"https://staticassets2020.s3.amazonaws.com/octiconsSvg/star-yellow-half.svg"})),Object(i.jsxs)("div",{className:pt.a.reviewCardContainer,children:[Object(i.jsx)(l.b,{to:"/user?id="+e.reviewerid,children:Object(i.jsxs)("div",{className:pt.a.reviewCardInnerContainer,children:[Object(i.jsx)("div",{className:pt.a.profilePictureImg,style:{backgroundImage:e.profilepicture&&0!=e.profilepicture.length?"url('"+e.profilepicture+"')":"url('https://staticassets2020.s3.amazonaws.com/octiconsSvg/smiley.svg')"}}),Object(i.jsxs)("p",{className:" regularText",children:["@",e.name]})]})}),Object(i.jsx)("div",{className:pt.a.reviewCardInnerContainer,children:Object(i.jsx)("p",{className:pt.a.regularTextNoMargin+" regularText",children:e.comment})}),Object(i.jsx)("div",{className:pt.a.reviewCardInnerContainer,children:Object(i.jsx)("p",{className:pt.a.regularTextNoMargin+" regularText "+pt.a.starP,children:a})})]},t)})):Object(i.jsx)("p",{children:"No reviews yet."}),u=this.state.seller.profilePicture.length>0?u=Object(i.jsx)("div",{className:pt.a.profilePictureImg,style:{backgroundImage:"url('"+this.state.seller.profilePicture+"')"}}):Object(i.jsx)("div",{className:pt.a.profilePictureImg,children:Object(i.jsx)("img",{src:"https://staticassets2020.s3.amazonaws.com/octiconsSvg/smiley.svg"})});var g=[];0==this.state.isGuestListing?(g.push(Object(i.jsx)("button",{className:"secondaryButton "+pt.a.floatingButtonCta,id:pt.a.floatingButtonRight,onClick:function(){e.props.history.push("/pay?listingId="+e.state.id)},children:"Buy now"})),g.push(Object(i.jsx)("button",{className:"secondaryButton "+pt.a.floatingButtonCta,id:pt.a.floatingButtonLeft,onClick:function(){e.setState({isOfferModalDisplayed:!0})},children:"Make offer"}))):g.push(Object(i.jsx)("button",{className:"secondaryButton "+pt.a.floatingButtonFullWidth,onClick:function(){e.setState({isOfferModalDisplayed:!0})},children:"Make offer"})),!1===this.state.isOwnListing&&1!=this.state.status&&2!=this.state.status&&(h=Object(i.jsx)("div",{className:pt.a.listingComponentsMainContainer,children:g}));var m="https://joincambio.com/listing?id="+this.state.id,j="https://twitter.com/share?url="+m+"&text="+this.state.title+"... "+this.state.description,b="https://www.facebook.com/sharer/sharer.php?u="+m,f=[],x=[];-1!=this.state.activeDesktopImgCarousel&&(0!=this.state.activeDesktopImgCarousel&&(f.push(Object(i.jsx)("div",{id:pt.a.carouselLeftPic,style:{backgroundImage:"url("+this.state.pictures[this.state.activeDesktopImgCarousel-1]+")"}})),x.push(Object(i.jsx)("div",{id:pt.a.carouselArrowLeft,onClick:function(){e.setState((function(e){return{activeDesktopImgCarousel:e.activeDesktopImgCarousel-1}}))},style:{backgroundImage:"url(https://staticassets2020.s3.amazonaws.com/octiconsSvg/chevron-left.svg)"}}))),f.push(Object(i.jsx)("div",{id:pt.a.carouselMiddlePic,style:{backgroundImage:"url("+this.state.pictures[this.state.activeDesktopImgCarousel]+")"}})),this.state.activeDesktopImgCarousel!=this.state.pictures.length-1&&(f.push(Object(i.jsx)("div",{id:pt.a.carouselRightPic,style:{backgroundImage:"url("+this.state.pictures[this.state.activeDesktopImgCarousel+1]+")"}})),x.push(Object(i.jsx)("div",{id:pt.a.carouselArrowRight,onClick:function(){e.setState((function(e){return{activeDesktopImgCarousel:e.activeDesktopImgCarousel+1}}))},style:{backgroundImage:"url(https://staticassets2020.s3.amazonaws.com/octiconsSvg/chevron-right.svg)"}}))));var v,O=this.state.seller.avgRating;if(0==O||null==O||"undefined"==typeof O)v="No ratings yet.";else{v=[];for(var _=Math.floor(O),C=0;C<_;C++)v.push(Object(i.jsx)("img",{src:"https://staticassets2020.s3.amazonaws.com/octiconsSvg/star-yellow.svg"}));_!=O&&v.push(Object(i.jsx)("img",{src:"https://staticassets2020.s3.amazonaws.com/octiconsSvg/star-yellow-half.svg"}))}return Object(i.jsxs)("div",{children:[Object(i.jsxs)(ye,{children:[Object(i.jsxs)("div",{id:pt.a.desktopLeftSide,children:[Object(i.jsxs)("div",{id:pt.a.topMainContainer,children:[Object(i.jsxs)("div",{className:pt.a.listingComponentsMainContainer,children:[Object(i.jsx)("p",{className:"megaTitle "+pt.a.regularTextHalfMargin,children:Object(i.jsx)(l.b,{to:"/search?predefType="+this.state.predefType,style:{color:"black",textDecoration:"underline"},children:this.state.title})}),Object(i.jsx)("p",{className:"title1 "+pt.a.regularTextHalfMargin,children:fe(this.state.price)}),Object(i.jsx)("p",{className:"regularText "+pt.a.regularTextHalfMargin,style:{color:"grey"},children:bt[this.state.condition].name}),Object(i.jsx)("p",{className:pt.a.regularText+" regularText",children:this.state.description.length>0?this.state.description.length:"No defects, problems, or missing parts."}),Object(i.jsxs)(l.b,{to:"/user?id="+this.state.seller.id,style:{color:"#000",textDecoration:"none"},children:[u,Object(i.jsxs)("div",{id:pt.a.sellerTextMainContainer,children:[Object(i.jsx)("div",{children:Object(i.jsxs)("p",{className:pt.a.regularTextNoMargin+" regularTextMedium",children:["@",this.state.seller.name]})}),Object(i.jsx)("div",{children:Object(i.jsx)("p",{className:pt.a.regularTextNoMargin+" regularText "+pt.a.starPSmall,children:v})})]})]})]}),Object(i.jsxs)("div",{className:pt.a.innerMainContainer,children:[o,Object(i.jsx)("div",{className:pt.a.smallPicturesContainer,children:t})]})]}),Object(i.jsx)("div",{className:pt.a.mainFeedContainers,children:Object(i.jsxs)("div",{className:pt.a.innerMainContainer+" "+pt.a.sidePadding,children:[h,Object(i.jsxs)("div",{id:pt.a.shareIconsBar,children:[Object(i.jsx)("a",{href:j,target:"_blank",children:Object(i.jsx)("img",{className:pt.a.shareIcons,src:"https://staticassets2020.s3.amazonaws.com/icons/twitter-black.svg"})}),Object(i.jsx)("a",{href:b,target:"_blank",children:Object(i.jsx)("img",{className:pt.a.shareIcons,src:"https://staticassets2020.s3.amazonaws.com/icons/fb-black.svg"})}),Object(i.jsx)("img",{onClick:function(){var t=e.shareLinkRef.current;t.select(),t.setSelectionRange(0,99999),document.execCommand("copy"),e.snackbarRef.current.openSnackBar("Listing link copied!")},src:"https://staticassets2020.s3.amazonaws.com/icons/link-darkGrey.svg"}),Object(i.jsx)("input",{style:{position:"absolute",left:"-100%",opacity:0,pointerEvents:"none"},"aria-hidden":!0,readOnly:!0,ref:this.shareLinkRef,type:"text",value:m})]}),Object(i.jsx)("p",{className:pt.a.regularText+" title2",children:"Seller reviews"}),d]})})]}),Object(i.jsx)("div",{id:pt.a.desktopRightSide,children:Object(i.jsxs)("div",{id:pt.a.paymentSidebarContainer,children:[1==this.state.isGuestListing?Object(i.jsx)("p",{className:"regularTextMedium "+pt.a.regularText,children:"Make an offer"}):Object(i.jsx)("div",{id:pt.a.buyTypeSelectorContainer,children:Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{style:{margin:"0 10px 0 0"},id:0==this.state.buyType?pt.a.selectedBuyType:pt.a.unselectedBuyType,onClick:function(){e.setState({buyType:0})},children:Object(i.jsx)("p",{className:"regularText "+pt.a.regularTextNoMargin,children:"Buy now"})}),Object(i.jsx)("div",{id:0==this.state.buyType?pt.a.unselectedBuyType:pt.a.selectedBuyType,onClick:function(){e.setState({buyType:1})},children:Object(i.jsx)("p",{className:"regularText "+pt.a.regularTextNoMargin,children:"Make offer"})})]})}),0==this.state.buyType&&0==this.state.isGuestListing?Object(i.jsxs)("div",{children:[Object(i.jsxs)("p",{className:"regularText "+pt.a.regularText,children:["Item price: ",Object(i.jsx)("span",{className:"regularTextMedium",style:{float:"right"},children:fe(this.state.price)})]}),Object(i.jsxs)("p",{className:"regularText "+pt.a.regularText,children:["Shipping: ",Object(i.jsx)("span",{className:"regularTextMedium",style:{float:"right"},children:"FREE"})]}),Object(i.jsxs)("p",{className:"regularText "+pt.a.regularText,children:["Taxes: ",Object(i.jsx)("span",{className:"regularTextMedium",style:{float:"right"},children:fe(.15*this.state.price)})]}),Object(i.jsxs)("p",{className:"regularText "+pt.a.regularText,children:["Total: ",Object(i.jsx)("span",{className:"regularTextMedium",style:{float:"right"},children:fe(1.15*this.state.price)})]}),Object(i.jsx)("button",{className:"buttonCta regularTextMedium",onClick:function(){e.props.history.push("/pay?listingId="+e.state.id)},children:"Proceed to checkout"})]}):0==this.state.isAnOfferMade?Object(i.jsxs)("div",{children:[Object(i.jsx)("p",{className:"regularText "+pt.a.regularText,children:"Make an offer for this item. While the seller accepts your offer, the item can still be purchased by someone else."}),Object(i.jsx)("input",{name:"makeOfferAmount",style:{margin:"0 0 20px 0"},className:"inputText "+pt.a.inputText+" regularText",value:this.state.makeOfferAmount,onChange:this.handleInputChange,type:"number",min:"1",step:"0.01",placeholder:"Offer"}),Object(i.jsx)("button",{className:"buttonCta regularTextMedium",onClick:this.makeOffer,children:"Send offer"})]}):Object(i.jsx)("div",{children:Object(i.jsx)("p",{className:"regularText "+pt.a.regularText,children:"Thank you for making an offer. You will be able to view the offer in your buyer dashboard only when and if the seller accepts your offer."})})]})}),Object(i.jsx)("div",{id:pt.a.topMainContainer,className:pt.a.hideDesktop,children:Object(i.jsxs)("div",{className:pt.a.innerMainContainer,children:[o,Object(i.jsx)("div",{className:pt.a.smallPicturesContainer,children:t})]})}),Object(i.jsx)("div",{className:pt.a.mainFeedContainers+" "+pt.a.hideDesktop,children:Object(i.jsxs)("div",{className:pt.a.innerMainContainer+" "+pt.a.sidePadding,children:[Object(i.jsxs)("div",{className:pt.a.listingComponentsMainContainer,children:[Object(i.jsx)("p",{className:"title1 "+pt.a.regularText,children:Object(i.jsx)(l.b,{to:"/search?predefType="+this.state.predefType,style:{color:"black",textDecoration:"underline"},children:this.state.title})}),Object(i.jsx)("p",{className:"title2 "+pt.a.regularText,children:fe(this.state.price)}),Object(i.jsx)("p",{className:"regularText "+pt.a.regularText,style:{color:"grey"},children:bt[this.state.condition].name})]}),Object(i.jsx)("div",{className:pt.a.listingComponentsMainContainer,children:Object(i.jsxs)(l.b,{to:"/user?id="+this.state.seller.id,style:{color:"#000",textDecoration:"none"},children:[u,Object(i.jsxs)("div",{id:pt.a.sellerTextMainContainer,children:[Object(i.jsx)("div",{children:Object(i.jsxs)("p",{className:pt.a.regularTextNoMargin+" regularTextMedium",children:["@",this.state.seller.name]})}),Object(i.jsx)("div",{children:Object(i.jsx)("p",{className:pt.a.regularTextNoMargin+" regularText "+pt.a.starPSmall,children:v})})]})]})}),h,Object(i.jsx)("div",{className:pt.a.listingComponentsMainContainer,children:Object(i.jsx)("p",{className:pt.a.regularTextNoMargin+" regularText",style:{minHeight:"100px"},children:this.state.description.length>0?this.state.description.length:"No defects, problems, or missing parts."})}),Object(i.jsx)("div",{className:pt.a.separatorLine}),Object(i.jsxs)("div",{id:pt.a.shareIconsBar,children:[Object(i.jsx)("a",{href:j,target:"_blank",children:Object(i.jsx)("img",{className:pt.a.shareIcons,src:"https://staticassets2020.s3.amazonaws.com/icons/twitter-black.svg"})}),Object(i.jsx)("a",{href:b,target:"_blank",children:Object(i.jsx)("img",{className:pt.a.shareIcons,src:"https://staticassets2020.s3.amazonaws.com/icons/fb-black.svg"})}),Object(i.jsx)("img",{onClick:function(){var t=e.shareLinkRef.current;t.select(),t.setSelectionRange(0,99999),document.execCommand("copy"),e.snackbarRef.current.openSnackBar("Listing link copied!")},src:"https://staticassets2020.s3.amazonaws.com/icons/link-darkGrey.svg"}),Object(i.jsx)("input",{style:{position:"absolute",left:"-100%",opacity:0,pointerEvents:"none"},"aria-hidden":!0,readOnly:!0,ref:this.shareLinkRef,type:"text",value:m})]}),Object(i.jsx)("div",{className:pt.a.separatorLine}),Object(i.jsx)("p",{className:pt.a.regularText+" title2",children:"Seller reviews"}),d]})})]}),Object(i.jsx)(q,{}),Object(i.jsx)(me,Object(c.a)({},this.props)),Object(i.jsx)(he,Object(c.a)({},this.props),(new Date).getTime()),Object(i.jsxs)(ae,{title:"Make offer",closeModal:function(){e.setState({isOfferModalDisplayed:!1,makeOfferamount:1})},show:this.state.isOfferModalDisplayed,description:"Offer a certain amount for this product. If accepted by the seller, you will have 4 days to pay the item before your offer expires. It can still be purchased by someone else in the meantime.",children:[Object(i.jsx)("input",{name:"makeOfferAmount",className:"inputText "+pt.a.inputText+" regularText",value:this.state.makeOfferAmount,onChange:this.handleInputChange,type:"number",min:"1",step:"0.01",placeholder:"Offer"}),Object(i.jsx)("div",{className:"modalSubmitButtonDiv",children:Object(i.jsx)("button",{className:"modalSubmitButton regularTextMedium buttonCta",onClick:this.makeOffer,children:"Submit"})})]}),Object(i.jsxs)("div",{id:pt.a.bigImgDesktopCarouselContainer,className:-1==this.state.activeDesktopImgCarousel?pt.a.desktopCarouselIsInactive:null,children:[f,x,Object(i.jsx)("div",{onClick:function(){e.setState({activeDesktopImgCarousel:-1})},style:{backgroundImage:"url(https://staticassets2020.s3.amazonaws.com/octiconsSvg/x.svg)"},id:pt.a.carouselX})]}),1==this.state.isDoingReservation?Object(i.jsx)(oe,{}):null,Object(i.jsx)(ae,{closeModal:function(){e.setState({displayLoginPopup:!1})},show:this.state.displayLoginPopup,children:Object(i.jsx)(de,Object(c.a)({},this.props))}),Object(i.jsx)(jt,{ref:this.snackbarRef})]})}}]),a}(n.a.Component),xt=Object(T.b)((function(e){return{auth:e.auth}}))(ft),vt=a(2),Ot=a.n(vt),_t=function(e){Object(A.a)(a,e);var t=Object(E.a)(a);function a(e){var i;return Object(R.a)(this,a),(i=t.call(this,e)).state={savedListings:[]},i}return Object(B.a)(a,[{key:"componentDidMount",value:function(){this.setState({savedListings:[{title:"iPhone 8 64GB - black",condition:"Like new",price:330,seller:{username:"John Doe",rating:3.5,nbRatings:7}},{title:"iPhone 8 64GB - black",condition:"Like new",price:330,seller:{username:"John Doe",rating:3.5,nbRatings:7}},{title:"iPhone 8 64GB - black",condition:"Like new",price:330,seller:{username:"John Doe",rating:3.5,nbRatings:7}}]})}},{key:"render",value:function(){this.props.t;var e=Object(i.jsx)("p",{children:"No listings."});return this.state.savedListings.length>0&&(e=this.state.savedListings.map((function(e,t){return Object(i.jsx)(st,{listing:e},t)}))),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{id:Ot.a.topMainContainer,children:Object(i.jsxs)("div",{className:Ot.a.innerMainContainer,children:[Object(i.jsx)("p",{ref:this.savedListingsRef,className:Ot.a.sectionTitleP+" title1 ",children:"Saved listings"}),e]})}),Object(i.jsx)(q,{}),Object(i.jsx)(me,Object(c.a)({},this.props)),Object(i.jsx)(he,Object(c.a)({},this.props),(new Date).getTime())]})}}]),a}(n.a.Component),Ct=Object(F.a)()(_t),yt=a(14),Tt=a.n(yt),wt=function(e){Object(A.a)(a,e);var t=Object(E.a)(a);function a(e){var i;return Object(R.a)(this,a),(i=t.call(this,e)).state={searchInput:"",displayAccountModel:!1,searchSuggestions:[],historyEvents:[],listing:{},isLoading:!0,cardType:"offer"},i}return Object(B.a)(a,[{key:"componentDidMount",value:function(){this.setState({listing:this.props.listing,isLoading:!1,cardType:this.props.cardType})}},{key:"render",value:function(){var e=this;this.props.t;if(!0===this.state.isLoading)return null;if(console.log(this.state.listing),"waiting-payment"===this.state.cardType){var t=new Date(this.state.listing.timestamp);t.setDate(t.getDate()+4);var a=["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()]+" "+t.getDate();return Object(i.jsxs)("div",{className:Tt.a.historyCardContainer,children:[Object(i.jsxs)("div",{id:Tt.a.historyTopContainer,children:[Object(i.jsx)("div",{style:{backgroundImage:this.state.listing.pictures[0]&&this.state.listing.pictures[0].length>0?"url('"+this.state.listing.pictures[0]+"')":"url('https://staticassets2020.s3.amazonaws.com/octiconsSvg/image.svg')"},className:Tt.a.listingMainPicture}),Object(i.jsxs)("div",{className:Tt.a.historyTitleContainer,children:[Object(i.jsx)("p",{className:"title2 "+Tt.a.regularText,children:this.state.listing.title}),Object(i.jsxs)("p",{className:"regularText "+Tt.a.regularText,children:["Pay before ",a]})]})]}),Object(i.jsxs)("div",{id:Tt.a.historyTotalContainer,children:[Object(i.jsx)("p",{className:"regularText "+Tt.a.regularText,children:"Waiting for your response"}),Object(i.jsxs)("p",{className:"regularTextBold "+Tt.a.regularText,children:["Accepted price: ",fe(this.state.listing.amount)]})]}),Object(i.jsx)("div",{id:Tt.a.historyBottomContainer,children:Object(i.jsx)("button",{className:Tt.a.historyHalfCta+" regularTextMedium",onClick:function(){e.props.loadSpinner(),m.a.post(window.api_prefix+"/reserveProduct",{listingId:e.state.listing.listingid,buyNow:!1,offerId:e.state.listing.offerid}).then((function(t){e.props.removeLoadSpinner(),e.props.history.push("/payment-details?tra_id="+t.data.reservationId)})).catch((function(t){e.props.removeLoadSpinner(),e.props.showErrorSnackbar()}))},children:"Pay now"})})]})}if("offer"===this.state.cardType){var s=new Date(this.state.listing.timestamp),n=["January","February","March","April","May","June","July","August","September","October","November","December"][s.getMonth()]+" "+s.getDate()+", "+s.getFullYear();return Object(i.jsxs)("div",{className:Tt.a.historyCardContainer,children:[Object(i.jsxs)("div",{id:Tt.a.historyTopContainer,children:[Object(i.jsx)("div",{style:{backgroundImage:this.state.listing.pictures[0]&&this.state.listing.pictures[0].length>0?"url('"+this.state.listing.pictures[0]+"')":"url('https://staticassets2020.s3.amazonaws.com/octiconsSvg/image.svg')"},className:Tt.a.listingMainPicture}),Object(i.jsxs)("div",{className:Tt.a.historyTitleContainer,children:[Object(i.jsx)("p",{className:"title2 "+Tt.a.regularText,children:this.state.listing.title}),Object(i.jsx)("p",{className:"regularText "+Tt.a.regularText,children:n})]})]}),Object(i.jsxs)("div",{id:Tt.a.historyTotalContainer,children:[Object(i.jsx)("p",{className:"regularText "+Tt.a.regularText,children:"Waiting for your response"}),Object(i.jsxs)("p",{className:"regularTextBold "+Tt.a.regularText,children:["Current offer: ",fe(this.state.listing.amount)]})]}),Object(i.jsxs)("div",{id:Tt.a.historyBottomContainer,children:[Object(i.jsxs)("div",{id:Tt.a.historySellerInfoContainer,children:[Object(i.jsx)("div",{id:Tt.a.historySellerPicture,style:{backgroundImage:this.state.listing.profilepicture&&0!=this.state.listing.profilepicture.length?"url('"+this.state.listing.profilepicture+"')":"url('https://staticassets2020.s3.amazonaws.com/octiconsSvg/smiley.svg')"}}),Object(i.jsx)("p",{className:"regularText",children:this.state.listing.sendername})]}),Object(i.jsxs)(l.b,{children:[Object(i.jsx)("button",{className:Tt.a.historyHalfCta+" regularTextMedium",onClick:this.props.acceptOffer,children:"Accept"}),Object(i.jsx)("button",{className:Tt.a.historyHalfCta+" regularTextMedium",onClick:this.props.declineOffer,children:"Decline"}),Object(i.jsx)("button",{className:Tt.a.historyHalfCta+" regularTextMedium",onClick:this.props.counterOffer,children:"Counter offer"})]})]})]})}if("offer-to-me"===this.state.cardType){var r=new Date(this.state.listing.timestamp),o=["January","February","March","April","May","June","July","August","September","October","November","December"][r.getMonth()]+" "+r.getDate()+", "+r.getFullYear();return Object(i.jsxs)("div",{className:Tt.a.historyCardContainer,children:[Object(i.jsxs)("div",{id:Tt.a.historyTopContainer,children:[Object(i.jsx)("div",{style:{backgroundImage:this.state.listing.pictures[0]&&this.state.listing.pictures[0].length>0?"url('"+this.state.listing.pictures[0]+"')":"url('https://staticassets2020.s3.amazonaws.com/octiconsSvg/image.svg')"},className:Tt.a.listingMainPicture}),Object(i.jsxs)("div",{className:Tt.a.historyTitleContainer,children:[Object(i.jsx)("p",{className:"title2 "+Tt.a.regularText,children:this.state.listing.title}),Object(i.jsx)("p",{className:"regularText "+Tt.a.regularText,children:o})]})]}),Object(i.jsxs)("div",{id:Tt.a.historyTotalContainer,children:[Object(i.jsx)("p",{className:"regularText "+Tt.a.regularText,children:"Waiting for your response"}),Object(i.jsxs)("p",{className:"regularTextBold "+Tt.a.regularText,children:["Current offer: ",fe(this.state.listing.amount)]})]}),Object(i.jsxs)("div",{id:Tt.a.historyBottomContainer,children:[Object(i.jsxs)("div",{id:Tt.a.historySellerInfoContainer,children:[Object(i.jsx)("div",{id:Tt.a.historySellerPicture,style:{backgroundImage:this.state.listing.profilepicture&&0!=this.state.listing.profilepicture.length?"url('"+this.state.listing.profilepicture+"')":"url('https://staticassets2020.s3.amazonaws.com/octiconsSvg/smiley.svg')"}}),Object(i.jsx)("p",{className:"regularText",children:this.state.listing.sendername})]}),Object(i.jsxs)(l.b,{children:[Object(i.jsx)("button",{className:Tt.a.historyHalfCta+" regularTextMedium",children:"Accept"}),Object(i.jsx)("button",{className:Tt.a.historyHalfCta+" regularTextMedium",children:"Decline"})]})]})]})}if("purchase"===this.state.cardType){var c=new Date(this.state.listing.timestamp),d=["January","February","March","April","May","June","July","August","September","October","November","December"][c.getMonth()]+" "+c.getDate()+", "+c.getFullYear(),u=this.state.listing.buynowprice;return this.state.listing.offeramount&&(u=this.state.listing.offeramount),Object(i.jsxs)("div",{className:Tt.a.historyCardContainer,children:[Object(i.jsxs)("div",{id:Tt.a.historyTopContainer,children:[Object(i.jsx)("div",{style:{backgroundImage:this.state.listing.pictures[0]&&this.state.listing.pictures[0].length>0?"url('"+this.state.listing.pictures[0]+"')":"url('https://staticassets2020.s3.amazonaws.com/octiconsSvg/image.svg')"},className:Tt.a.listingMainPicture}),Object(i.jsxs)("div",{className:Tt.a.historyTitleContainer,children:[Object(i.jsx)("p",{className:"title2 "+Tt.a.regularText,children:this.state.listing.title}),Object(i.jsx)("p",{className:"regularText "+Tt.a.regularText,children:d})]})]}),Object(i.jsxs)("div",{id:Tt.a.historyTotalContainer,children:[Object(i.jsxs)("p",{className:"regularTextBold "+Tt.a.regularText,children:["Total: ",fe(u)]}),Object(i.jsx)("p",{className:"regularText "+Tt.a.regularText,children:"Generating receipt..."})]}),Object(i.jsxs)("div",{id:Tt.a.historyBottomContainer,children:[Object(i.jsx)(l.b,{to:"/user?id="+this.state.listing.sellerid,children:Object(i.jsxs)("div",{id:Tt.a.historySellerInfoContainer,children:[Object(i.jsx)("div",{id:Tt.a.historySellerPicture,style:{backgroundImage:this.state.listing.profilepicture&&0!=this.state.listing.profilepicture.length?"url('"+this.state.listing.profilepicture+"')":"url('https://staticassets2020.s3.amazonaws.com/octiconsSvg/smiley.svg')"}}),Object(i.jsx)("p",{className:"regularText",children:this.state.listing.name})]})}),Object(i.jsx)(l.b,{children:1==this.state.listing.issellerreviewed?null:Object(i.jsx)("button",{className:Tt.a.historyCta+" regularTextMedium",onClick:this.props.reviewSeller,children:"Review seller"})})]})]})}return null}}]),a}(n.a.Component),St=(Object(F.a)()(wt),a(40)),Mt=a.n(St),Nt=function(e){Object(A.a)(a,e);var t=Object(E.a)(a);function a(e){var i;return Object(R.a)(this,a),(i=t.call(this,e)).state={comment:"",rating:1,listingId:0},i.handleInputChange=i.handleInputChange.bind(Object(G.a)(i)),i.submitReview=i.submitReview.bind(Object(G.a)(i)),i}return Object(B.a)(a,[{key:"componentDidMount",value:function(){this.setState({listingId:this.props.listingId})}},{key:"handleInputChange",value:function(e){var t=e.target,a=t.name,i=t.value;this.setState(Object(K.a)({},a,i))}},{key:"submitReview",value:function(){var e=this.state.comment,t=this.state.rating,a=this.state.listingId;m.a.post(window.api_prefix+"/postReview",{comment:e,rating:t,listingId:a}).then().catch(),this.props.submitReview()}},{key:"render",value:function(){return Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{className:Mt.a.rating,children:[Object(i.jsx)("input",{type:"radio",value:"5",onChange:this.handleInputChange,checked:5==this.state.rating,name:"rating",id:Mt.a.rating5}),Object(i.jsx)("label",{htmlFor:Mt.a.rating5}),Object(i.jsx)("input",{type:"radio",value:"4",onChange:this.handleInputChange,checked:4==this.state.rating,name:"rating",id:Mt.a.rating4}),Object(i.jsx)("label",{htmlFor:Mt.a.rating4}),Object(i.jsx)("input",{type:"radio",value:"3",onChange:this.handleInputChange,checked:3==this.state.rating,name:"rating",id:Mt.a.rating3}),Object(i.jsx)("label",{htmlFor:Mt.a.rating3}),Object(i.jsx)("input",{type:"radio",value:"2",onChange:this.handleInputChange,checked:2==this.state.rating,name:"rating",id:Mt.a.rating2}),Object(i.jsx)("label",{htmlFor:Mt.a.rating2}),Object(i.jsx)("input",{type:"radio",value:"1",onChange:this.handleInputChange,checked:1==this.state.rating,name:"rating",id:Mt.a.rating1}),Object(i.jsx)("label",{htmlFor:Mt.a.rating1})]}),Object(i.jsx)("textarea",{className:"inputText "+Mt.a.textarea+" regularText",placeholder:"How was the seller?",name:"comment",value:this.state.comment,onChange:this.handleInputChange}),Object(i.jsx)("div",{className:"modalSubmitButtonDiv",children:Object(i.jsx)("button",{className:"modalSubmitButton regularTextMedium buttonCta",onClick:this.submitReview,children:"Submit"})})]})}}]),a}(n.a.Component),It=Object(F.a)()(Nt),kt=function(e){Object(A.a)(a,e);var t=Object(E.a)(a);function a(e){var i;return Object(R.a)(this,a),(i=t.call(this,e)).state={activeOffers:[],pastPurchases:[],waitingPurchases:[],isCounterOfferModalDisplayed:!1,counterOfferId:-1,counterOfferArrayIndex:-1,counterOfferValue:1,reviewsListingIndex:-1,isReviewsModalDisplayed:!1,isDoingReservation:!1,currentPage:0,mobileMoreOptionsActiveOffers:-1,mobileMoreOptionsPurchaseHistory:-1,mobileMoreOptionsAwaitingPayments:-1},i.handleInputChange=i.handleInputChange.bind(Object(G.a)(i)),i.submitCounterOffer=i.submitCounterOffer.bind(Object(G.a)(i)),i.snackbarRef=n.a.createRef(),i}return Object(B.a)(a,[{key:"componentDidMount",value:function(){var e=this;m.a.get(window.api_prefix+"/listingsAwaitingYourPayment").then((function(t){e.setState({waitingPurchases:t.data})})).catch(),m.a.get(window.api_prefix+"/purchaseHistory").then((function(t){e.setState({pastPurchases:t.data})})).catch(),m.a.get(window.api_prefix+"/offers").then((function(t){e.setState({activeOffers:t.data})})).catch()}},{key:"acceptOffer",value:function(e){var t=this.state.activeOffers,a=this.state.waitingPurchases,i=t[e].id,s=t[e];s.id=s.listingid,a.push(s),t.splice(e,1),this.setState({activeOffers:t,waitingPurchases:a,mobileMoreOptionsActiveOffers:-1,mobileMoreOptionsPurchaseHistory:-1,mobileMoreOptionsAwaitingPayments:-1}),m.a.post(window.api_prefix+"/acceptOffer",{offerId:i}).then().catch()}},{key:"counterOffer",value:function(e){var t=this.state.activeOffers[e].id;this.setState({counterOfferArrayIndex:e,counterOfferId:t,isCounterOfferModalDisplayed:!0,mobileMoreOptionsActiveOffers:-1,mobileMoreOptionsPurchaseHistory:-1,mobileMoreOptionsAwaitingPayments:-1})}},{key:"declineOffer",value:function(e){var t=this.state.activeOffers,a=t[e].id;t.splice(e,1),this.setState({activeOffers:t,mobileMoreOptionsActiveOffers:-1,mobileMoreOptionsPurchaseHistory:-1,mobileMoreOptionsAwaitingPayments:-1}),m.a.post(window.api_prefix+"/declineOffer",{offerId:a}).then().catch()}},{key:"submitCounterOffer",value:function(){var e=this.state.activeOffers;e.splice(this.state.counterOfferArrayIndex,1),this.setState({activeOffers:e,counterOfferId:-1,counterOfferArrayIndex:-1,counterOfferValue:1,isCounterOfferModalDisplayed:!1}),m.a.post(window.api_prefix+"/submitCounterOffer",{offerId:this.state.counterOfferId,offerValue:this.state.counterOfferValue}).then().catch()}},{key:"handleInputChange",value:function(e){var t=e.target,a=t.value,i=t.name;this.setState(Object(K.a)({},i,a))}},{key:"render",value:function(){var e,t=this;this.props.t;if(0==this.state.currentPage){var a=Object(i.jsx)("p",{className:Ot.a.regularTextNoMargin+" regularText",children:"No purchases waiting for payment."}),s=Object(i.jsx)("p",{className:Ot.a.regularTextNoMargin+" regularText",children:"No purchases waiting for payment."});this.state.waitingPurchases.length>0&&(s=[],a=this.state.waitingPurchases.map((function(e,a){var n=new Date(e.timestamp);n.setDate(n.getDate()+4);n.getMonth(),n.getDate();return s.push(Object(i.jsxs)("div",{className:Ot.a.mobileCardSellingBuying,children:[Object(i.jsxs)("div",{className:Ot.a.mobileCardSellingBuyingLeftContainer,children:[Object(i.jsx)("p",{className:Ot.a.regularTextHalfMargin+" regularTextMedium",children:e.title}),Object(i.jsx)("p",{className:Ot.a.regularTextHalfMargin+" regularText",children:fe(e.amount)})]}),Object(i.jsx)("div",{className:Ot.a.mobileCardSellingBuyingRightContainer,children:Object(i.jsx)("div",{className:Ot.a.kebabContainer,onClick:function(){t.setState({mobileMoreOptionsActiveOffers:-1,mobileMoreOptionsPastPurchases:-1,mobileMoreOptionsAwaitingPayments:a})},children:Object(i.jsx)("img",{src:"https://staticassets2020.s3.amazonaws.com/octiconsSvg/kebab-horizontal.svg"})})})]})),Object(i.jsxs)("tr",{children:[Object(i.jsx)("td",{children:e.title}),Object(i.jsx)("td",{children:fe(e.amount)}),Object(i.jsx)("td",{children:Object(i.jsx)("button",{className:Ot.a.buttonCta+" regularTextMedium",onClick:function(){t.props.history.push("/pay?listingId="+e.id+"&offerId="+e.offerid)},children:"Pay now"})})]})}))),e=Object(i.jsx)("div",{children:Object(i.jsxs)("div",{id:Ot.a.tableContainer,children:[Object(i.jsx)("p",{className:"title1 "+Ot.a.regularText+" "+Ot.a.hideMobile,children:"Awaiting payments"}),Object(i.jsx)("p",{className:Ot.a.regularText,children:"Offers you have made for an item that were accepted by the seller or offers from a seller that you accepted will appear here for you to pay. Beware, other users can still purchase the item so hurry up."}),Object(i.jsxs)("table",{className:Ot.a.dataTable+" "+Ot.a.hideMobile,children:[Object(i.jsxs)("thead",{className:Ot.a.tableTHead,children:[Object(i.jsx)("td",{className:"regularTextMedium",children:"Item"}),Object(i.jsx)("td",{className:"regularTextMedium",children:"Price"}),Object(i.jsx)("td",{className:"regularTextMedium",children:"Actions"})]}),Object(i.jsx)("tbody",{className:Ot.a.tableTBody,children:a})]}),Object(i.jsx)("div",{className:Ot.a.mobileCardSellingBuyingContainer,children:s})]})})}else if(1==this.state.currentPage){var n=Object(i.jsx)("p",{className:Ot.a.regularTextNoMargin+" regularText",children:"No active offers."}),r=Object(i.jsx)("p",{className:Ot.a.regularTextNoMargin+" regularText",children:"No active offers."});this.state.activeOffers.length>0&&(r=[],n=this.state.activeOffers.map((function(e,a){var s=new Date(e.timestamp);s.setDate(s.getDate()+4);s.getMonth(),s.getDate();return r.push(Object(i.jsxs)("div",{className:Ot.a.mobileCardSellingBuying,children:[Object(i.jsxs)("div",{className:Ot.a.mobileCardSellingBuyingLeftContainer,children:[Object(i.jsx)("p",{className:Ot.a.regularTextHalfMargin+" regularTextMedium",children:e.title}),Object(i.jsx)("p",{className:Ot.a.regularTextHalfMargin+" regularText",children:fe(e.amount)})]}),Object(i.jsx)("div",{className:Ot.a.mobileCardSellingBuyingRightContainer,children:Object(i.jsx)("div",{className:Ot.a.kebabContainer,onClick:function(){t.setState({mobileMoreOptionsActiveOffers:a,mobileMoreOptionsAwaitingPayments:-1,mobileMoreOptionsPurchaseHistory:-1})},children:Object(i.jsx)("img",{src:"https://staticassets2020.s3.amazonaws.com/octiconsSvg/kebab-horizontal.svg"})})})]})),Object(i.jsxs)("tr",{children:[Object(i.jsx)("td",{children:e.title}),Object(i.jsx)("td",{children:fe(e.amount)}),Object(i.jsxs)("td",{children:["@",e.sendername]}),Object(i.jsxs)("td",{children:[Object(i.jsx)("button",{className:Ot.a.buttonCta+" regularTextMedium",onClick:function(){t.counterOffer(a)},children:"Counter offer"}),Object(i.jsx)("button",{className:Ot.a.buttonCta+" regularTextMedium",onClick:function(){t.acceptOffer(a)},children:"Accept"}),Object(i.jsx)("button",{className:Ot.a.buttonCta+" regularTextMedium",onClick:function(){t.declineOffer(a)},children:"Decline"})]})]})}))),e=Object(i.jsx)("div",{children:Object(i.jsxs)("div",{id:Ot.a.tableContainer,children:[Object(i.jsx)("p",{className:"title1 "+Ot.a.regularText+" "+Ot.a.hideMobile,children:"Active offers"}),Object(i.jsx)("p",{className:Ot.a.regularText,children:"Sellers having made a counter offer for a product you want to buy will appear here."}),Object(i.jsxs)("table",{className:Ot.a.dataTable+" "+Ot.a.hideMobile,children:[Object(i.jsxs)("thead",{className:Ot.a.tableTHead,children:[Object(i.jsx)("td",{className:"regularTextMedium",children:"Item"}),Object(i.jsx)("td",{className:"regularTextMedium",children:"Seller offer"}),Object(i.jsx)("td",{className:"regularTextMedium",children:"Seller"}),Object(i.jsx)("td",{className:"regularTextMedium",children:"Actions"})]}),Object(i.jsx)("tbody",{className:Ot.a.tableTBody,children:n})]}),Object(i.jsx)("div",{className:Ot.a.mobileCardSellingBuyingContainer,children:r})]})})}else if(2==this.state.currentPage){var o=Object(i.jsx)("p",{className:Ot.a.regularTextNoMargin+" regularText",children:"No purchases yet."}),d=Object(i.jsx)("p",{className:Ot.a.regularTextNoMargin+" regularText",children:"No purchases yet."});this.state.pastPurchases.length>0&&(d=[],o=this.state.pastPurchases.map((function(e,a){var s=new Date(e.timestamp),n=["January","February","March","April","May","June","July","August","September","October","November","December"][s.getMonth()]+" "+s.getDate()+", "+s.getFullYear(),r=e.buynowprice;e.offeramount&&(r=e.offeramount);var o="";return o=0==e.status?"No tracking number added yet":1==e.status?"Shipped":"Delivered",d.push(Object(i.jsxs)("div",{className:Ot.a.mobileCardSellingBuying,children:[Object(i.jsxs)("div",{className:Ot.a.mobileCardSellingBuyingLeftContainer,children:[Object(i.jsxs)("p",{className:Ot.a.regularTextHalfMargin+" regularText",children:["Order# ",e.ordernb]}),Object(i.jsxs)("p",{className:Ot.a.regularTextHalfMargin+" regularTextMedium",children:[e.title," (",fe(r),")"]}),Object(i.jsx)("p",{className:Ot.a.regularTextHalfMargin+" regularText",children:o}),Object(i.jsx)("p",{className:Ot.a.regularTextHalfMargin+" regularText",children:n}),e.receiptlink&&e.receiptlink.length>0?Object(i.jsx)(l.b,{to:e.receiptlink,target:"_blank",className:Ot.a.regularTextHalfMargin+" regularText",children:"listing.receiptlink"}):Object(i.jsx)("p",{className:Ot.a.regularTextHalfMargin+" regularText",children:"Generating receipt..."})]}),Object(i.jsx)("div",{className:Ot.a.mobileCardSellingBuyingRightContainer,children:Object(i.jsx)("div",{className:Ot.a.kebabContainer,onClick:function(){t.setState({mobileMoreOptionsActiveOffers:-1,mobileMoreOptionsAwaitingPayments:-1,mobileMoreOptionsPurchaseHistory:a})},children:Object(i.jsx)("img",{src:"https://staticassets2020.s3.amazonaws.com/octiconsSvg/kebab-horizontal.svg"})})})]})),Object(i.jsxs)("tr",{children:[Object(i.jsx)("td",{children:e.ordernb}),Object(i.jsx)("td",{children:e.title}),Object(i.jsx)("td",{children:fe(r)}),Object(i.jsx)("td",{children:o}),Object(i.jsx)("td",{children:n}),Object(i.jsx)("td",{children:e.receiptlink&&e.receiptlink.length>0?Object(i.jsx)(l.b,{to:e.receiptlink,target:"_blank",children:"listing.receiptlink"}):"Generating receipt..."}),Object(i.jsx)("td",{children:1==e.issellerreviewed?null:Object(i.jsx)("button",{className:Ot.a.buttonCta+" regularTextMedium",onClick:function(){t.setState({reviewsListingIndex:a,isReviewsModalDisplayed:!0})},children:"Review seller"})})]})}))),e=Object(i.jsx)("div",{children:Object(i.jsxs)("div",{id:Ot.a.tableContainer,children:[Object(i.jsx)("p",{className:"title1 "+Ot.a.regularText+" "+Ot.a.hideMobile,children:"Purchase history"}),Object(i.jsxs)("table",{className:Ot.a.dataTable+" "+Ot.a.hideMobile,children:[Object(i.jsxs)("thead",{className:Ot.a.tableTHead,children:[Object(i.jsx)("td",{className:"regularTextMedium",children:"Order #"}),Object(i.jsx)("td",{className:"regularTextMedium",children:"Item"}),Object(i.jsx)("td",{className:"regularTextMedium",children:"Price"}),Object(i.jsx)("td",{className:"regularTextMedium",children:"Status"}),Object(i.jsx)("td",{className:"regularTextMedium",children:"Date"}),Object(i.jsx)("td",{className:"regularTextMedium",children:"Receipt"}),Object(i.jsx)("td",{className:"regularTextMedium",children:"Actions"})]}),Object(i.jsx)("tbody",{className:Ot.a.tableTBody,children:o})]}),Object(i.jsx)("div",{className:Ot.a.mobileCardSellingBuyingContainer,children:d})]})})}var u=null,h=[];return-1!=this.state.mobileMoreOptionsActiveOffers?(h=[Object(i.jsx)("button",{className:Ot.a.buttonCta+" regularTextMedium",onClick:function(){t.counterOffer(t.state.mobileMoreOptionsActiveOffers)},children:"Counter offer"}),Object(i.jsx)("button",{className:Ot.a.buttonCta+" regularTextMedium",onClick:function(){t.acceptOffer(t.state.mobileMoreOptionsActiveOffers)},children:"Accept"}),Object(i.jsx)("button",{className:Ot.a.buttonCta+" regularTextMedium",onClick:function(){t.declineOffer(t.state.mobileMoreOptionsActiveOffers)},children:"Decline"})],u=Object(i.jsx)("div",{onClick:this.handleMobileMoreOptionsOutsideClick,ref:this.handleMobileMoreOptionsRef,id:Ot.a.mobileMoreOptionsFullPageContainer,children:Object(i.jsx)("div",{id:Ot.a.mobileMoreOptionsContainer,children:h})})):-1!=this.state.mobileMoreOptionsPurchaseHistory?(1!=this.state.pastPurchases[this.state.mobileMoreOptionsPurchaseHistory].issellerreviewed&&h.push(Object(i.jsx)("button",{className:Ot.a.buttonCta+" regularTextMedium",onClick:function(){t.setState({reviewsListingIndex:t.state.mobileMoreOptionsPurchaseHistory,isReviewsModalDisplayed:!0,mobileMoreOptionsActiveOffers:-1,mobileMoreOptionsPurchaseHistory:-1,mobileMoreOptionsAwaitingPayments:-1})},children:"Review seller"})),u=Object(i.jsx)("div",{onClick:this.handleMobileMoreOptionsOutsideClick,ref:this.handleMobileMoreOptionsRef,id:Ot.a.mobileMoreOptionsFullPageContainer,children:Object(i.jsx)("div",{id:Ot.a.mobileMoreOptionsContainer,children:h})})):-1!=this.state.mobileMoreOptionsAwaitingPayments&&(h.push(Object(i.jsx)("button",{className:Ot.a.buttonCta+" regularTextMedium",onClick:function(){t.props.history.push("/pay?listingId="+t.state.waitingPurchases[t.state.mobileMoreOptionsAwaitingPayments].id+"&offerId="+t.state.waitingPurchases[t.state.mobileMoreOptionsAwaitingPayments].offerid)},children:"Pay now"})),u=Object(i.jsx)("div",{onClick:this.handleMobileMoreOptionsOutsideClick,ref:this.handleMobileMoreOptionsRef,id:Ot.a.mobileMoreOptionsFullPageContainer,children:Object(i.jsx)("div",{id:Ot.a.mobileMoreOptionsContainer,children:h})})),Object(i.jsxs)("div",{children:[Object(i.jsx)(ye,{children:Object(i.jsxs)("div",{className:Ot.a.innerMainContainer,children:[Object(i.jsxs)("div",{id:Ot.a.bodyLeftSeparator,children:[Object(i.jsx)("p",{className:Ot.a.noDisplayDesktop+" title1 "+Ot.a.pageTitle,children:"Manage purchases"}),Object(i.jsxs)("div",{id:Ot.a.categoriesMainContainer,children:[Object(i.jsx)("p",{className:Ot.a.regularTextNoMargin+" regularTextBold "+Ot.a.noDisplayMobile,children:"Manage purchases"}),Object(i.jsx)("p",{className:0===this.state.currentPage?Ot.a.searchSuggestP+" "+Ot.a.activeLink:Ot.a.searchSuggestP,onClick:function(){t.setState({currentPage:0})},children:"Awaiting payments"}),Object(i.jsx)("p",{className:1===this.state.currentPage?Ot.a.searchSuggestP+" "+Ot.a.activeLink:Ot.a.searchSuggestP,onClick:function(){t.setState({currentPage:1})},children:"Active offers"}),Object(i.jsx)("p",{className:2===this.state.currentPage?Ot.a.searchSuggestP+" "+Ot.a.activeLink:Ot.a.searchSuggestP,onClick:function(){t.setState({currentPage:2})},children:"Purchase history"})]})]}),Object(i.jsx)("div",{id:Ot.a.bodyRightSeparator,children:e})]})}),Object(i.jsx)(q,{}),Object(i.jsx)(me,Object(c.a)({},this.props)),Object(i.jsx)(he,Object(c.a)({},this.props),(new Date).getTime()),Object(i.jsxs)(ae,{title:"Counter offer",closeModal:function(){t.setState({isCounterOfferModalDisplayed:!1,counterOfferArrayIndex:-1,counterOfferId:-1,counterOfferValue:1})},show:this.state.isCounterOfferModalDisplayed,description:-1!=this.state.counterOfferId&&-1!=this.state.counterOfferArrayIndex?"The seller currently offer is "+fe(this.state.activeOffers[this.state.counterOfferArrayIndex].amount)+". Send your counter offer.":"",children:[Object(i.jsx)("input",{name:"counterOfferValue",value:this.state.counterOfferValue,onChange:this.handleInputChange,type:"number",min:"1",step:"0.01",placeholder:"Counter offer"}),Object(i.jsx)("div",{className:"modalSubmitButtonDiv",children:Object(i.jsx)("button",{className:"modalSubmitButton regularTextMedium buttonCta",onClick:this.submitCounterOffer,children:"Submit"})})]}),Object(i.jsx)(ae,{title:"Review the seller",closeModal:function(){t.setState({isReviewsModalDisplayed:!1,reviewsListingIndex:-1})},show:this.state.isReviewsModalDisplayed,children:Object(i.jsx)(It,{listingId:-1==this.state.reviewsListingIndex?-1:this.state.pastPurchases[this.state.reviewsListingIndex].id,submitReview:function(){var e=t.state.pastPurchases;e[t.state.reviewsListingIndex].issellerreviewed=!0,t.setState({isReviewsModalDisplayed:!1,reviewsListingIndex:-1,pastPurchases:e})}})}),u,1==this.state.isDoingReservation?Object(i.jsx)(oe,{}):null,Object(i.jsx)(jt,{ref:this.snackbarRef})]})}}]),a}(n.a.Component),Pt=Object(F.a)()(kt),Lt=function(e){Object(A.a)(a,e);var t=Object(E.a)(a);function a(e){var i;return Object(R.a)(this,a),(i=t.call(this,e)).state={activeListings:[],activeListingsIsLoaded:!1,soldListings:[],soldListingsIsLoaded:!1,activeOffers:[],activeOffersIsLoaded:!1,currentPage:0,loading:!0,isCounterOfferModalDisplayed:!1,isDeleteConfirmModalDisplayed:!1,isPickBuyerModalDisplayed:!1,pickBuyerListingIndex:-1,counterOfferArrayIndex:-1,counterOfferValue:1,confirmDeleteListingIndex:-1,isReviewsModalDisplayed:!1,reviewsListingIndex:-1,isFetchingData:!1,markAsSoldBuyersDetails:[],isTrackingNumberModalDisplayed:!1,trackingNumberListingIndex:-1,carrierNameValue:"",trackingNumberValue:"",mobileMoreOptionsActiveOffers:-1,mobileMoreOptionsActiveListings:-1,mobileMoreOptionsSoldItems:-1},i.submitCounterOffer=i.submitCounterOffer.bind(Object(G.a)(i)),i.handleInputChange=i.handleInputChange.bind(Object(G.a)(i)),i.deleteListing=i.deleteListing.bind(Object(G.a)(i)),i.handleMobileMoreOptionsRef=n.a.createRef(),i.handleMobileMoreOptionsOutsideClick=i.handleMobileMoreOptionsOutsideClick.bind(Object(G.a)(i)),i}return Object(B.a)(a,[{key:"componentDidMount",value:function(){var e=this;if("undefined"!=typeof Ee.a.parse(window.location.search).activeTab&&!isNaN(Ee.a.parse(window.location.search).activeTab)){var t=parseInt(Ee.a.parse(window.location.search).activeTab);t>=0&&t<=2&&this.setState({currentPage:t})}m.a.get(window.api_prefix+"/sellingHistory").then((function(t){e.setState({soldListings:t.data,soldListingsIsLoaded:!0})})).catch(),m.a.get(window.api_prefix+"/userActiveListings").then((function(t){e.setState({activeListings:t.data,activeListingsIsLoaded:!0})})).catch(),m.a.get(window.api_prefix+"/activeListingsOffers").then((function(t){e.setState({activeOffers:t.data,activeOffersIsLoaded:!0})})).catch()}},{key:"handleMobileMoreOptionsOutsideClick",value:function(e){e.target==this.handleMobileMoreOptionsRef.current&&this.setState({mobileMoreOptionsActiveOffers:-1,mobileMoreOptionsActiveListings:-1,mobileMoreOptionsSoldItems:-1})}},{key:"handleInputChange",value:function(e){var t=e.target,a=t.name,i=t.value;this.setState(Object(K.a)({},a,i))}},{key:"acceptOffer",value:function(e){var t=this.state.activeOffers,a=t[e].id;t.splice(e,1),this.setState({activeOffers:t,mobileMoreOptionsActiveOffers:-1,mobileMoreOptionsActiveListings:-1,mobileMoreOptionsSoldItems:-1}),m.a.post(window.api_prefix+"/acceptOffer",{offerId:a}).then().catch()}},{key:"counterOffer",value:function(e){alert(e),this.setState({counterOfferArrayIndex:e,isCounterOfferModalDisplayed:!0})}},{key:"declineOffer",value:function(e){var t=this.state.activeOffers,a=t[e].id;t.splice(e,1),this.setState({activeOffers:t,mobileMoreOptionsActiveOffers:-1,mobileMoreOptionsActiveListings:-1,mobileMoreOptionsSoldItems:-1}),m.a.post(window.api_prefix+"/declineOffer",{offerId:a}).then().catch()}},{key:"submitCounterOffer",value:function(){var e=this.state.activeOffers,t=e[this.state.counterOfferArrayIndex].id;e.splice(this.state.counterOfferArrayIndex,1),this.setState({activeOffers:e,counterOfferArrayIndex:-1,counterOfferValue:1,isCounterOfferModalDisplayed:!1,mobileMoreOptionsActiveOffers:-1,mobileMoreOptionsActiveListings:-1,mobileMoreOptionsSoldItems:-1}),m.a.post(window.api_prefix+"/submitCounterOffer",{offerId:t,offerValue:this.state.counterOfferValue}).then().catch()}},{key:"deleteListing",value:function(){var e=this.state.activeListings,t=this.state.activeListings[this.state.confirmDeleteListingIndex].id;e.splice(this.state.confirmDeleteListingIndex,1),this.setState({activeListings:e,isDeleteConfirmModalDisplayed:!1,confirmDeleteListingIndex:-1}),m.a.post(window.api_prefix+"/deleteListing",{listingId:t})}},{key:"render",value:function(){var e,t=this;this.props.t;if(0===this.state.currentPage&&this.state.activeListingsIsLoaded&&this.state.activeOffersIsLoaded){var a=Object(i.jsx)("p",{className:Ot.a.regularTextNoMargin+" regularText",children:"No offers yet."}),s=Object(i.jsx)("p",{className:Ot.a.regularTextNoMargin+" regularText",children:"No offers yet."});this.state.activeOffers.length>0&&this.state.activeListings.length>0&&function(){s=[],a=[];for(var e=[],n=0;n<t.state.activeListings.length;n++){var r=t.state.activeListings[n];r.offers=[],e.push(r)}for(var o=0;o<t.state.activeOffers.length;o++)for(var c=0;c<e.length;c++)if(e[c].id==t.state.activeOffers[o].listingid){var l=t.state.activeOffers[o];l.arrayIndex=o,e[c].offers.push(l);break}for(var d=function(n){if(!(e[n].offers.length>0))return"continue";for(var r=function(r){a.push(Object(i.jsxs)("tr",{children:[Object(i.jsx)("td",{children:e[n].title}),Object(i.jsx)("td",{children:fe(e[n].offers[r].amount)}),Object(i.jsx)("td",{children:fe(e[n].price)}),Object(i.jsxs)("td",{children:["@",e[n].offers[r].sendername]}),Object(i.jsxs)("td",{children:[Object(i.jsx)("button",{className:Ot.a.buttonCta+" regularTextMedium",onClick:function(){t.counterOffer(e[n].offers[r].arrayIndex)},children:"Counter offer"}),Object(i.jsx)("button",{className:Ot.a.buttonCta+" regularTextMedium",onClick:function(){t.acceptOffer(e[n].offers[r].arrayIndex)},children:"Accept"}),Object(i.jsx)("button",{className:Ot.a.buttonCta+" regularTextMedium",onClick:function(){t.declineOffer(e[n].offers[r].arrayIndex)},children:"Decline"})]})]},r+"_"+n)),s.push(Object(i.jsxs)("div",{className:Ot.a.mobileCardSellingBuying,children:[Object(i.jsxs)("div",{className:Ot.a.mobileCardSellingBuyingLeftContainer,children:[Object(i.jsx)("p",{className:Ot.a.regularTextHalfMargin+" regularTextMedium",children:e[n].title}),Object(i.jsxs)("p",{className:Ot.a.regularTextHalfMargin+" regularText",children:["@",e[n].offers[r].sendername]}),Object(i.jsx)("p",{className:Ot.a.regularTextHalfMargin+" regularText",children:fe(e[n].offers[r].amount)})]}),Object(i.jsx)("div",{className:Ot.a.mobileCardSellingBuyingRightContainer,children:Object(i.jsx)("div",{className:Ot.a.kebabContainer,onClick:function(){t.setState({mobileMoreOptionsActiveOffers:e[n].offers[r].arrayIndex,mobileMoreOptionsActiveListings:-1,mobileMoreOptionsSoldItems:-1})},children:Object(i.jsx)("img",{src:"https://staticassets2020.s3.amazonaws.com/octiconsSvg/kebab-horizontal.svg"})})})]},r+"_"+n+"2"))},o=0;o<e[n].offers.length;o++)r(o)},u=0;u<e.length;u++)d(u)}(),e=Object(i.jsx)("div",{children:Object(i.jsxs)("div",{id:Ot.a.tableContainer,children:[Object(i.jsx)("p",{className:"title1 "+Ot.a.regularText+" "+Ot.a.hideMobile,children:"Active offers"}),Object(i.jsx)("p",{className:Ot.a.regularText,children:"Offers or counter offers made by buyers for a product you\u2019re selling will appear here. You only have 24 hours to accept/decline/counter-offer or it will automatically be declined."}),Object(i.jsxs)("table",{className:Ot.a.dataTable+" "+Ot.a.hideMobile,children:[Object(i.jsx)("thead",{className:Ot.a.tableTHead,children:Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{className:"regularTextMedium",children:"Item"}),Object(i.jsx)("th",{className:"regularTextMedium",children:"Seller offer"}),Object(i.jsx)("th",{className:"regularTextMedium",children:"Original price"}),Object(i.jsx)("th",{className:"regularTextMedium",children:"Buyer"}),Object(i.jsx)("th",{className:"regularTextMedium",children:"Actions"})]})}),Object(i.jsx)("tbody",{className:Ot.a.tableTBody,children:a})]}),Object(i.jsx)("div",{className:Ot.a.mobileCardSellingBuyingContainer,children:s})]})})}else if(1===this.state.currentPage&&this.state.activeListingsIsLoaded){var n=Object(i.jsx)("p",{className:Ot.a.regularTextNoMargin+" regularText",children:"No listings yet."}),r=Object(i.jsx)("p",{className:Ot.a.regularTextNoMargin+" regularText",children:"No listings yet."});this.state.activeListings.length>0&&(r=[],n=this.state.activeListings.map((function(e,a){var s=new Date(e.timestamp),n=["January","February","March","April","May","June","July","August","September","October","November","December"][s.getMonth()]+" "+s.getDate()+", "+s.getFullYear(),o=["Not verified","Verification in progress...","Verification not approved","Verification approved"][e.verificationstatus];return r.push(Object(i.jsxs)("div",{className:Ot.a.mobileCardSellingBuying,children:[Object(i.jsxs)("div",{className:Ot.a.mobileCardSellingBuyingLeftContainer,children:[Object(i.jsx)("p",{className:Ot.a.regularTextHalfMargin+" regularTextMedium",children:e.title}),Object(i.jsx)("p",{className:Ot.a.regularTextHalfMargin+" regularText",children:o}),Object(i.jsx)("p",{className:Ot.a.regularTextHalfMargin+" regularText",children:n})]}),Object(i.jsx)("div",{className:Ot.a.mobileCardSellingBuyingRightContainer,children:Object(i.jsx)("div",{className:Ot.a.kebabContainer,onClick:function(){t.setState({mobileMoreOptionsActiveOffers:-1,mobileMoreOptionsActiveListings:a,mobileMoreOptionsSoldItems:-1})},children:Object(i.jsx)("img",{src:"https://staticassets2020.s3.amazonaws.com/octiconsSvg/kebab-horizontal.svg"})})})]})),Object(i.jsxs)("tr",{children:[Object(i.jsx)("td",{children:e.title}),Object(i.jsx)("td",{}),Object(i.jsx)("td",{children:n}),Object(i.jsx)("td",{children:o}),Object(i.jsxs)("td",{children:[Object(i.jsx)(l.b,{to:"/new-listing?listingid="+e.id+"&listingmode=1",children:Object(i.jsx)("button",{className:Ot.a.buttonCta+" regularTextMedium",children:"Edit"})}),Object(i.jsx)("button",{className:Ot.a.buttonCta+" regularTextMedium",onClick:function(){t.setState({isDeleteConfirmModalDisplayed:!0,confirmDeleteListingIndex:a})},children:"Delete"}),undefined]})]},a)}))),e=Object(i.jsx)("div",{children:Object(i.jsxs)("div",{id:Ot.a.tableContainer,children:[Object(i.jsx)("p",{className:"title1 "+Ot.a.regularText+" "+Ot.a.hideMobile,children:"Active listings"}),Object(i.jsxs)("table",{className:Ot.a.dataTable+" "+Ot.a.hideMobile,children:[Object(i.jsx)("thead",{className:Ot.a.tableTHead,children:Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{className:"regularTextMedium",children:"Item"}),Object(i.jsx)("th",{className:"regularTextMedium",children:"Price"}),Object(i.jsx)("th",{className:"regularTextMedium",children:"Date"}),Object(i.jsx)("th",{className:"regularTextMedium",children:"Status"}),Object(i.jsx)("th",{className:"regularTextMedium",children:"Actions"})]})}),Object(i.jsx)("tbody",{className:Ot.a.tableTBody,children:n})]}),Object(i.jsx)("div",{className:Ot.a.mobileCardSellingBuyingContainer,children:r})]})})}else{if(!this.state.soldListingsIsLoaded)return null;var o=Object(i.jsx)("p",{className:Ot.a.regularText+" regularText",children:"No sold items yet."}),d=Object(i.jsx)("p",{className:Ot.a.regularTextNoMargin+" regularText",children:"No listings yet."});this.state.soldListings.length>0&&(d=[],o=this.state.soldListings.map((function(e,a){var s=new Date(e.timestamp),n=["January","February","March","April","May","June","July","August","September","October","November","December"][s.getMonth()]+" "+s.getDate()+", "+s.getFullYear(),r="";return r=0==e.status?"No tracking number added yet":1==e.status?"Shipped":"Delivered",d.push(Object(i.jsxs)("div",{className:Ot.a.mobileCardSellingBuying,children:[Object(i.jsxs)("div",{className:Ot.a.mobileCardSellingBuyingLeftContainer,children:[Object(i.jsxs)("p",{className:Ot.a.regularTextHalfMargin+" regularText",children:["Order #",e.ordernb]}),Object(i.jsx)("p",{className:Ot.a.regularTextHalfMargin+" regularTextMedium",children:e.title}),Object(i.jsx)("p",{className:Ot.a.regularTextHalfMargin+" regularText",children:r}),Object(i.jsx)("p",{className:Ot.a.regularTextHalfMargin+" regularText",children:n}),e.sellerreceiptlink&&e.sellerreceiptlink.length>0?Object(i.jsx)(l.b,{children:e.sellerreceiptlink}):Object(i.jsx)("p",{children:"Generating receipt..."})]}),Object(i.jsx)("div",{className:Ot.a.mobileCardSellingBuyingRightContainer,children:Object(i.jsx)("div",{className:Ot.a.kebabContainer,onClick:function(){t.setState({mobileMoreOptionsActiveOffers:-1,mobileMoreOptionsActiveListings:-1,mobileMoreOptionsSoldItems:a})},children:Object(i.jsx)("img",{src:"https://staticassets2020.s3.amazonaws.com/octiconsSvg/kebab-horizontal.svg"})})})]})),Object(i.jsxs)("tr",{children:[Object(i.jsx)("td",{children:e.ordernb}),Object(i.jsx)("td",{children:e.title}),Object(i.jsx)("td",{children:r}),Object(i.jsx)("td",{children:n}),Object(i.jsx)("td",{children:e.sellerreceiptlink&&e.sellerreceiptlink.length>0?Object(i.jsx)(l.b,{children:"listing.sellerreceiptlink"}):"Generating receipt..."}),Object(i.jsxs)("td",{children:[1==e.isbuyerreviewed?null:Object(i.jsx)("button",{className:Ot.a.buttonCta+" regularTextMedium",onClick:function(){t.setState({isReviewsModalDisplayed:!0,reviewsListingIndex:a})},children:"Review buyer"}),e.trackingnumber?null:Object(i.jsx)("button",{className:Ot.a.buttonCta+" regularTextMedium",onClick:function(){t.setState({isTrackingNumberModalDisplayed:!0,trackingNumberListingIndex:a})},children:"Add tracking number"})]})]},a)}))),e=Object(i.jsx)("div",{children:Object(i.jsxs)("div",{id:Ot.a.tableContainer,children:[Object(i.jsx)("p",{className:"title1 "+Ot.a.regularText+" "+Ot.a.hideMobile,children:"Sold items"}),Object(i.jsxs)("table",{className:Ot.a.dataTable+" "+Ot.a.hideMobile,children:[Object(i.jsx)("thead",{className:Ot.a.tableTHead,children:Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{className:"regularTextMedium",children:"Order #"}),Object(i.jsx)("th",{className:"regularTextMedium",children:"Item"}),Object(i.jsx)("th",{className:"regularTextMedium",children:"Status"}),Object(i.jsx)("th",{className:"regularTextMedium",children:"Date"}),Object(i.jsx)("th",{className:"regularTextMedium",children:"Receipt"}),Object(i.jsx)("th",{className:"regularTextMedium",children:"Actions"})]})}),Object(i.jsx)("tbody",{className:Ot.a.tableTBody,children:o})]}),Object(i.jsx)("div",{className:Ot.a.mobileCardSellingBuyingContainer,children:d})]})})}var u=[];this.state.markAsSoldBuyersDetails.length>0&&1==this.state.isPickBuyerModalDisplayed&&(u=this.state.markAsSoldBuyersDetails.map((function(e,a){var s=" paying the original buy now price.";return null!=e.offeramount&&(s=" paying "+fe(e.offeramount)),Object(i.jsx)("div",{className:Ot.a.buyersListRow,onClick:function(){t.setState({isFetchingData:!0}),m.a.post(window.api_prefix+"/markListingAsSold",{reservationId:e.reservationid,buyerId:e.buyerid,listingId:t.state.activeListings[t.state.pickBuyerListingIndex].id}).then((function(e){var a=t.state.pickBuyerListingIndex,i=t.state.activeListings,s=i[a];i.splice(i,1);var n=t.state.soldListings;n.push(s),t.setState({isFetchingData:!1,isPickBuyerModalDisplayed:!1,pickBuyerListingIndex:-1,activeListings:i,soldListings:n})})).catch((function(e){t.setState({isFetchingData:!1,isPickBuyerModalDisplayed:!1,pickBuyerListingIndex:-1})}))},children:Object(i.jsxs)("p",{children:["@",e.buyername+s]})},a)})));var h=null,p=[];return-1!=this.state.mobileMoreOptionsActiveOffers?(p=[Object(i.jsx)("button",{className:Ot.a.buttonCta+" regularTextMedium",onClick:function(){t.counterOffer(t.state.mobileMoreOptionsActiveOffers)},children:"Counter offer"}),Object(i.jsx)("button",{className:Ot.a.buttonCta+" regularTextMedium",onClick:function(){t.acceptOffer(t.state.mobileMoreOptionsActiveOffers)},children:"Accept"}),Object(i.jsx)("button",{className:Ot.a.buttonCta+" regularTextMedium",onClick:function(){t.declineOffer(t.state.mobileMoreOptionsActiveOffers)},children:"Decline"})],h=Object(i.jsx)("div",{onClick:this.handleMobileMoreOptionsOutsideClick,ref:this.handleMobileMoreOptionsRef,id:Ot.a.mobileMoreOptionsFullPageContainer,children:Object(i.jsx)("div",{id:Ot.a.mobileMoreOptionsContainer,children:p})})):-1!=this.state.mobileMoreOptionsActiveListings?(p.push(Object(i.jsx)(l.b,{style:{textDecoration:"none"},to:"/new-listing?listingid="+this.state.activeListings[this.state.mobileMoreOptionsActiveListings].id+"&listingmode=1",children:Object(i.jsx)("button",{className:Ot.a.buttonCta+" regularTextMedium",children:"Edit"})}),Object(i.jsx)("button",{className:Ot.a.buttonCta+" regularTextMedium",onClick:function(){t.setState({isDeleteConfirmModalDisplayed:!0,confirmDeleteListingIndex:t.state.mobileMoreOptionsActiveListings,mobileMoreOptionsActiveOffers:-1,mobileMoreOptionsActiveListings:-1,mobileMoreOptionsSoldItems:-1})},children:"Delete"})),0!=this.state.activeListings[this.state.mobileMoreOptionsActiveListings].verificationstatus&&2!=this.state.activeListings[this.state.mobileMoreOptionsActiveListings].verificationstatus||p.push(Object(i.jsx)(l.b,{style:{textDecoration:"none"},to:"/verifyListing?id="+this.state.activeListings[this.state.mobileMoreOptionsActiveListings].id,children:Object(i.jsx)("button",{className:Ot.a.buttonCta+" regularTextMedium",children:"Verify now"})})),h=Object(i.jsx)("div",{onClick:this.handleMobileMoreOptionsOutsideClick,ref:this.handleMobileMoreOptionsRef,id:Ot.a.mobileMoreOptionsFullPageContainer,children:Object(i.jsx)("div",{id:Ot.a.mobileMoreOptionsContainer,children:p})})):-1!=this.state.mobileMoreOptionsSoldItems&&(1!=this.state.soldListings[this.state.mobileMoreOptionsSoldItems].isbuyerreviewed&&p.push(Object(i.jsx)("button",{className:Ot.a.buttonCta+" regularTextMedium",onClick:function(){t.setState({isReviewsModalDisplayed:!0,reviewsListingIndex:t.state.mobileMoreOptionsSoldItems,mobileMoreOptionsActiveOffers:-1,mobileMoreOptionsActiveListings:-1,mobileMoreOptionsSoldItems:-1})},children:"Review buyer"})),this.state.soldListings[this.state.mobileMoreOptionsSoldItems].trackingnumber&&0!=this.state.soldListings[this.state.mobileMoreOptionsSoldItems].trackingnumber.length||p.push(Object(i.jsx)("button",{className:Ot.a.buttonCta+" regularTextMedium",onClick:function(){t.setState({isTrackingNumberModalDisplayed:!0,trackingNumberListingIndex:t.state.mobileMoreOptionsSoldItems,mobileMoreOptionsActiveOffers:-1,mobileMoreOptionsActiveListings:-1,mobileMoreOptionsSoldItems:-1})},children:"Add tracking number"})),h=Object(i.jsx)("div",{onClick:this.handleMobileMoreOptionsOutsideClick,ref:this.handleMobileMoreOptionsRef,id:Ot.a.mobileMoreOptionsFullPageContainer,children:Object(i.jsx)("div",{id:Ot.a.mobileMoreOptionsContainer,children:p})})),Object(i.jsxs)("div",{children:[Object(i.jsx)(ye,{children:Object(i.jsxs)("div",{className:Ot.a.innerMainContainer,children:[Object(i.jsxs)("div",{id:Ot.a.bodyLeftSeparator,children:[Object(i.jsx)("p",{className:Ot.a.noDisplayDesktop+" title1 "+Ot.a.pageTitle,children:"Selling"}),Object(i.jsxs)("div",{id:Ot.a.categoriesMainContainer,children:[Object(i.jsx)("p",{className:Ot.a.regularTextNoMargin+" regularTextBold "+Ot.a.noDisplayMobile,children:"Selling"}),Object(i.jsx)("p",{className:0===this.state.currentPage?Ot.a.searchSuggestP+" "+Ot.a.activeLink:Ot.a.searchSuggestP,onClick:function(){t.setState({currentPage:0})},children:"Active offers"}),Object(i.jsx)("p",{className:1===this.state.currentPage?Ot.a.searchSuggestP+" "+Ot.a.activeLink:Ot.a.searchSuggestP,onClick:function(){t.setState({currentPage:1})},children:"Active listings"}),Object(i.jsx)("p",{className:2===this.state.currentPage?Ot.a.searchSuggestP+" "+Ot.a.activeLink:Ot.a.searchSuggestP,onClick:function(){t.setState({currentPage:2})},children:"Sold items"})]})]}),Object(i.jsx)("div",{id:Ot.a.bodyRightSeparator,children:e})]})}),Object(i.jsx)(q,{}),Object(i.jsx)(me,Object(c.a)({},this.props)),Object(i.jsx)(he,Object(c.a)({},this.props),(new Date).getTime()),Object(i.jsxs)(ae,{title:"Counter offer",closeModal:function(){t.setState({isCounterOfferModalDisplayed:!1,counterOfferArrayIndex:-1,counterOfferValue:1})},show:this.state.isCounterOfferModalDisplayed,description:-1!=this.state.counterOfferArrayIndex?"The buyer offered "+fe(this.state.activeOffers[this.state.counterOfferArrayIndex].amount)+". Send your counter offer.":"",children:[Object(i.jsx)("input",{name:"counterOfferValue",value:this.state.counterOfferValue,onChange:this.handleInputChange,type:"number",min:"1",step:"0.01",placeholder:"Counter offer"}),Object(i.jsx)("div",{className:"modalSubmitButtonDiv",children:Object(i.jsx)("button",{className:"modalSubmitButton regularTextMedium buttonCta",onClick:this.submitCounterOffer,children:"Submit offer"})})]}),Object(i.jsx)(ae,{title:"Confirm listing's deletion",closeModal:function(){t.setState({isDeleteConfirmModalDisplayed:!1,confirmDeleteListingIndex:-1})},show:this.state.isDeleteConfirmModalDisplayed,description:"Do you really want to delete this listing?",children:Object(i.jsxs)("div",{className:"modalSubmitButtonDiv",children:[Object(i.jsx)("button",{className:"modalCancelButton regularText",onClick:function(){t.setState({isDeleteConfirmModalDisplayed:!1,confirmDeleteListingIndex:-1})},children:"Cancel"}),Object(i.jsx)("button",{className:"modalSubmitButton regularTextMedium buttonCta",onClick:this.deleteListing,children:"Confirm"})]})}),Object(i.jsxs)(ae,{title:"Who bought your item?",closeModal:function(){t.setState({isPickBuyerModalDisplayed:!1,pickBuyerListingIndex:-1})},show:this.state.isPickBuyerModalDisplayed&&this.state.markAsSoldBuyersDetails.length>0,children:[Object(i.jsx)("div",{children:u}),Object(i.jsx)("div",{className:"modalSubmitButtonDiv",children:Object(i.jsx)("button",{className:"modalCancelButton regularText",onClick:function(){t.setState({isPickBuyerModalDisplayed:!1,pickBuyerListingIndex:-1})},children:"Cancel"})})]}),Object(i.jsx)(ae,{title:"Review the buyer",closeModal:function(){t.setState({isReviewsModalDisplayed:!1,reviewsListingIndex:-1})},show:this.state.isReviewsModalDisplayed,children:Object(i.jsx)(It,{listingId:-1==this.state.reviewsListingIndex?-1:this.state.soldListings[this.state.reviewsListingIndex].id,submitReview:function(){var e=t.state.soldListings;e[t.state.reviewsListingIndex].isbuyerreviewed=!0,t.setState({isReviewsModalDisplayed:!1,reviewsListingIndex:-1,soldListings:e})}})}),Object(i.jsxs)(ae,{title:"Add a tracking number",closeModal:function(){t.setState({isTrackingNumberModalDisplayed:!1,trackingNumberListingIndex:-1})},show:this.state.isTrackingNumberModalDisplayed,description:"Add the parcel's shipping carrier and tracking number so us and the buyer can track it.",children:[Object(i.jsx)("input",{name:"carrierNameValue",value:this.state.carrierNameValue,onChange:this.handleInputChange,type:"text",placeholder:"Shipping carrier name"}),Object(i.jsx)("input",{name:"trackingNumberValue",value:this.state.trackingNumberValue,onChange:this.handleInputChange,type:"text",placeholder:"Tracking  number"}),Object(i.jsxs)("div",{className:"modalSubmitButtonDiv",children:[Object(i.jsx)("button",{className:"modalCancelButton regularText",onClick:function(){t.setState({isTrackingNumberModalDisplayed:!1,trackingNumberListingIndex:-1})},children:"Cancel"}),Object(i.jsx)("button",{className:"modalSubmitButton regularTextMedium buttonCta",onClick:function(){m.a.post(window.api_prefix+"/addTrackingNumber",{carrierName:t.state.carrierNameValue,trackingNumber:t.state.trackingNumberValue,listingId:t.state.soldListings[t.state.trackingNumberListingIndex].id});var e=t.state.soldListings;e[t.state.trackingNumberListingIndex].trackingnumber="222",t.setState({isTrackingNumberModalDisplayed:!1,trackingNumberListingIndex:-1,soldListings:e})},children:"Confirm"})]})]}),h,1==this.state.isFetchingData?Object(i.jsx)(oe,{}):null]})}}]),a}(n.a.Component),Dt=Object(F.a)()(Lt),Rt=a(60),Bt=Object(T.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.component,a=e.auth,s=Object(Rt.a)(e,["component","auth"]);return Object(i.jsx)(d.b,Object(c.a)(Object(c.a)({},s),{},{render:function(e){return!1===a.isAuthenticated?Object(i.jsx)(t,Object(c.a)({},e)):Object(i.jsx)(d.a,{to:"/home"})}}))})),At=Object(T.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.component,a=e.auth,s=Object(Rt.a)(e,["component","auth"]);return Object(i.jsx)(d.b,Object(c.a)(Object(c.a)({},s),{},{render:function(e){return!0===a.isAuthenticated?Object(i.jsx)(t,Object(c.a)({},e)):Object(i.jsx)(d.a,{to:"/login"})}}))})),Et=a(19),Ft=a.n(Et),zt=function(e){Object(A.a)(a,e);var t=Object(E.a)(a);function a(e){var i;return Object(R.a)(this,a),(i=t.call(this,e)).state={posts:[],errorMessage:""},i}return Object(B.a)(a,[{key:"componentDidMount",value:function(){var e=this;m.a.get(window.api_prefix+"/allBlogPosts").then((function(t){e.setState({posts:t.data})}))}},{key:"deleteBlogPost",value:function(e,t){var a=this;this.setState({errorMessage:""}),m.a.post(window.api_prefix+"/deleteBlogPost",{postId:e,token:this.props.token}).then((function(e){var i=a.state.posts;i.splice(t,1),a.setState({posts:i})})).catch((function(e){e.response&&a.setState({errorMessage:e.response.data.message})}))}},{key:"render",value:function(){var e=this,t=(this.props.t,Object(i.jsx)("p",{children:"There are no posts for the moment."}));return this.state.posts.length>0&&(t=this.state.posts.map((function(t,a){return Object(i.jsxs)("div",{style:{border:"1px solid #000",padding:"20px",marginBottom:"50px"},className:Ft.a.postCard,children:[Object(i.jsx)("p",{className:"title2 "+Ft.a.regularText,children:t.title}),Object(i.jsx)("p",{className:"regularText "+Ft.a.regularText,children:t.summary}),Object(i.jsx)("button",{style:{margin:"0 20px 0 0"},onClick:function(){e.props.editSpecificBlogPost(t.id)},className:Ft.a.linkP+" "+Ft.a.regularTextNoMargin,children:"Edit"}),Object(i.jsx)("button",{onClick:function(){e.deleteBlogPost(t.id,a)},className:Ft.a.linkP+" "+Ft.a.regularTextNoMargin,children:"Delete"})]},a)}))),Object(i.jsx)("div",{children:Object(i.jsxs)("div",{id:Ft.a.articleContainer,children:[Object(i.jsx)("p",{className:"title1 "+Ft.a.regularText,children:"All posts"}),this.state.errorMessage.length>0?this.state.errorMessage:null,Object(i.jsx)("button",{className:Ft.a.button,onClick:this.props.newBlogPost,children:"NEW BLOG POST"}),t]})})}}]),a}(n.a.Component),Ut=Object(F.a)()(zt),Ht=function(e){Object(A.a)(a,e);var t=Object(E.a)(a);function a(e){var i;return Object(R.a)(this,a),(i=t.call(this,e)).state={isDataLoading:!0,post:[],title:"",summary:"",createPost:!1,postId:-1},i.handleInputChange=i.handleInputChange.bind(Object(G.a)(i)),i.handleNameInputChange=i.handleNameInputChange.bind(Object(G.a)(i)),i.savePost=i.savePost.bind(Object(G.a)(i)),i}return Object(B.a)(a,[{key:"componentDidMount",value:function(){var e=this;if(this.props.createPost)this.setState({createPost:!0,isDataLoading:!1});else if(this.props.postId){var t=this.props.postId;m.a.get(window.api_prefix+"/blogPost?id="+t).then((function(t){var a=t.data.body.split("<%b%>").map((function(e,t){return"<p%>"==e.substring(0,4)?{content:e.substring(4,e.length),type:"p"}:"<t%>"==e.substring(0,4)?{content:e.substring(4,e.length),type:"t"}:null}));e.setState({post:a,isDataLoading:!1,title:t.data.title,summary:t.data.summary})}))}}},{key:"handleNameInputChange",value:function(e){var t=e.target,a=t.name,i=t.value;this.setState(Object(K.a)({},a,i))}},{key:"handleInputChange",value:function(e,t){var a=this.state.post;a[e].content=t.target.value,this.setState({post:a})}},{key:"handleRemoveSection",value:function(e,t){var a=this.state.post;a.splice(e,1),this.setState({post:a})}},{key:"addSection",value:function(e){var t=this.state.post;("t"==e||(e="p"))&&t.push({content:"",type:e}),this.setState({post:t})}},{key:"savePost",value:function(){for(var e=this,t={title:this.state.title,summary:this.state.summary,postId:this.props.postId},a="",i=0;i<this.state.post.length;i++){var s=this.state.post[i];"t"==s.type?a+="<t%>"+s.content+"<%b%>":a+="<p%>"+s.content+"<%b%>"}a=a.substring(0,a.length-5),t.body=a,1==this.state.createPost?m.a.post(window.api_prefix+"/createBlogPost",{token:this.props.token,post:t}).then((function(t){e.props.returnDashboard()})).catch((function(t){t.response&&e.setState({errorMessage:t.response.data.message})})):m.a.post(window.api_prefix+"/updateBlogPost",{token:this.props.token,post:t}).then((function(t){e.props.returnDashboard()})).catch((function(t){t.response&&e.setState({errorMessage:t.response.data.message})}))}},{key:"render",value:function(){var e=this;this.props.t;if(1==this.state.isDataLoading)return Object(i.jsx)("p",{children:"Loading..."});var t=this.state.post.map((function(t,a){return"p"==t.type?Object(i.jsxs)("div",{children:[Object(i.jsx)("p",{className:Ft.a.regularText+" title2",children:"Section text"}),Object(i.jsx)("textarea",{className:Ft.a.textareaNoMargin,type:"text",onChange:e.handleInputChange.bind(e,a),value:t.content},a),Object(i.jsx)("button",{className:Ft.a.button,onClick:e.handleRemoveSection.bind(e,a),children:" Remove"})]}):"t"==t.type?Object(i.jsxs)("div",{children:[Object(i.jsx)("p",{className:Ft.a.regularText+" title2",children:"Section title"}),Object(i.jsx)("textarea",{className:Ft.a.textareaNoMargin,type:"text",onChange:e.handleInputChange.bind(e,a),value:t.content},a),Object(i.jsx)("br",{}),Object(i.jsx)("button",{className:Ft.a.button,onClick:e.handleRemoveSection.bind(e,a),children:"Remove"})]}):null}));return Object(i.jsx)("div",{children:Object(i.jsxs)("div",{id:Ft.a.articleContainer,children:[Object(i.jsx)("p",{className:Ft.a.regularText+" title2",children:"Post title"}),Object(i.jsx)("textarea",{className:Ft.a.textarea,type:"text",name:"title",value:this.state.title,onChange:this.handleNameInputChange}),Object(i.jsx)("p",{className:Ft.a.regularText+" title2",children:"Post summary"}),Object(i.jsx)("textarea",{className:Ft.a.textarea,type:"text",name:"summary",value:this.state.summary,onChange:this.handleNameInputChange}),t,Object(i.jsx)("button",{className:Ft.a.inlineButton,onClick:function(){e.addSection("t")},children:"Add section title"}),Object(i.jsx)("button",{className:Ft.a.inlineButton,onClick:function(){e.addSection("p")},children:"Add section text"}),Object(i.jsx)("br",{}),Object(i.jsx)("button",{className:Ft.a.button,onClick:this.savePost,children:"Save post"})]})})}}]),a}(n.a.Component),Vt=Object(F.a)()(Ht),Gt=function(e){Object(A.a)(a,e);var t=Object(E.a)(a);function a(e){var i;return Object(R.a)(this,a),(i=t.call(this,e)).state={isDataLoading:!0,listings:[],errorMessage:""},i.verifyListing=i.verifyListing.bind(Object(G.a)(i)),i}return Object(B.a)(a,[{key:"componentDidMount",value:function(){var e=this;m.a.get(window.api_prefix+"/allListingsToVerify").then((function(t){e.setState({listings:t.data,isDataLoading:!1})}))}},{key:"verifyListing",value:function(e,t,a){var i=this;m.a.post(window.api_prefix+"/verifyListing",{update:{decision:a,listingId:t},token:this.props.token}).then((function(t){var a=i.state.listings;a.splice(e,1),i.setState({listings:a})})).catch((function(e){e.response&&i.setState({errorMessage:e.response.data.message})}))}},{key:"render",value:function(){var e=this;this.props.t;if(1==this.state.isDataLoading)return Object(i.jsx)("p",{children:"Loading..."});var t=Object(i.jsx)("p",{children:"No listings to verify"});return this.state.listings.length>0&&(t=this.state.listings.map((function(t,a){return Object(i.jsxs)("div",{style:{marginBottom:"50px",border:"1px solid #000",padding:"20px"},children:[Object(i.jsx)("img",{style:{height:"200px"},src:t.verificationpicture}),Object(i.jsxs)("p",{children:["Listing id: ",t.id]}),Object(i.jsxs)("p",{children:["Type: ",t.title]}),Object(i.jsxs)("p",{children:["Paper must contain @",t.sellerusername," and token ",t.verificationtimestamp]}),Object(i.jsx)("button",{onClick:function(){e.verifyListing(a,t.id,3)},children:"Accept"}),Object(i.jsx)("button",{onClick:function(){e.verifyListing(a,t.id,2)},children:"Decline"})]},a)}))),Object(i.jsx)("div",{children:Object(i.jsxs)("div",{id:Ft.a.articleContainer,children:[Object(i.jsx)("p",{className:"megaTitle",children:"Verify listings"}),t]})})}}]),a}(n.a.Component),Jt=Object(F.a)()(Gt),Yt=function(e){Object(A.a)(a,e);var t=Object(E.a)(a);function a(e){var i;return Object(R.a)(this,a),(i=t.call(this,e)).state={userName:"",signupSource:0,email:"",errorMessage:"",description:"",signupSourceValues:["organic","guest_fake_supply"],allGuestUsers:[],guestUserSelect:0},i.createUser=i.createUser.bind(Object(G.a)(i)),i.handleChange=i.handleChange.bind(Object(G.a)(i)),i}return Object(B.a)(a,[{key:"componentDidMount",value:function(){var e=this;m.a.get(window.api_prefix+"/getAllGuestUsers").then((function(t){e.setState({allGuestUsers:t.data})})).catch((function(e){e.response&&alert("Error retrieving guest users")}))}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,i=t.value;this.setState(Object(K.a)({},a,i))}},{key:"createUser",value:function(){var e=this;if(this.setState({errorMessage:""}),0==this.state.userName.length||0==this.state.description.length)return this.setState({errorMessage:"Please fill in all fields."});m.a.post(window.api_prefix+"/createGuestUser",{email:this.state.email,username:this.state.userName,description:this.state.description}).then((function(e){alert("SUCCESS!")})).catch((function(t){t.response&&e.setState({errorMessage:t.response.data.message})}))}},{key:"render",value:function(){var e=this.state.allGuestUsers.map((function(e,t){return Object(i.jsx)("option",{value:t,children:e.name},t)})),t="";return e.length>0&&(t="https://joincambio.com/signup?token=50&pwd="+this.state.allGuestUsers[this.state.guestUserSelect].password+"&uid="+this.state.allGuestUsers[this.state.guestUserSelect].id),Object(i.jsx)("div",{children:Object(i.jsxs)("div",{id:Ft.a.articleContainer,children:[Object(i.jsx)("p",{className:"regularText "+Ft.a.regularText,children:"username"}),Object(i.jsx)("input",{type:"text",value:this.state.userName,onChange:this.handleChange,name:"userName"}),Object(i.jsx)("p",{className:"regularText "+Ft.a.regularText,children:"email"}),Object(i.jsx)("input",{type:"text",value:this.state.email,onChange:this.handleChange,name:"email"}),Object(i.jsx)("p",{className:"regularText "+Ft.a.regularText,children:"description"}),Object(i.jsx)("textarea",{value:this.state.description,name:"description",onChange:this.handleChange}),this.state.errorMessage.length>0?this.state.errorMessage:null,Object(i.jsx)("button",{className:Ft.a.button,onClick:this.createUser,children:"Create user"}),Object(i.jsx)("p",{className:"title2",children:"Guest user signup link generator"}),Object(i.jsx)("select",{name:"guestUserSelect",value:this.state.guestUserSelect,onChange:this.handleChange,children:e}),Object(i.jsx)("input",{type:"text",value:t})]})})}}]),a}(n.a.Component),Wt=Object(F.a)()(Yt),qt=a(12),Xt=a.n(qt),Zt=function(e){Object(A.a)(a,e);var t=Object(E.a)(a);function a(e){var i;return Object(R.a)(this,a),(i=t.call(this,e)).state={title:"",category:1,price:1,description:"",pictures:[],condition:0,categoryOptions:[],filterTypes:[],listingId:0,listingMode:0,formError:"",isDataLoading:!1,currentPage:0,predefItemSearch:"",isUnlistedItemModalDisplayed:!1,recommendItemInput:"",blockAutofillDiv:!1,predefItemsSearchResult:[],predefItemId:-1,predefItemName:"",allGuestUsers:[],guestUserSelect:0},i.pictureInputRef=n.a.createRef(),i.predefItemAutofillRef=n.a.createRef(),i.predefItemInputRef=n.a.createRef(),i.handleInputChange=i.handleInputChange.bind(Object(G.a)(i)),i.handleImageUpload=i.handleImageUpload.bind(Object(G.a)(i)),i.removePicture=i.removePicture.bind(Object(G.a)(i)),i.handleFilterValueChange=i.handleFilterValueChange.bind(Object(G.a)(i)),i.postListing=i.postListing.bind(Object(G.a)(i)),i}return Object(B.a)(a,[{key:"componentDidMount",value:function(){var e,t,a=this;Ee.a.parse(window.location.search).listingid&&Ee.a.parse(window.location.search).listingmode?(e=Ee.a.parse(window.location.search).listingid,1==(t=Ee.a.parse(window.location.search).listingmode)||2==t?m.a.get(window.api_prefix+"/listingDetails?id="+e).then((function(t){var i=t.data.listingDetails;t.data.filters;i?a.setState({title:i.title,price:xe(i.price),condition:i.condition,description:i.description,pictures:i.pictures,category:i.categoryid,listingMode:1,currentPage:1,listingId:e}):a.setState({listingMode:0})})):(m.a.get(window.api_prefix+"/getAllGuestUsers").then((function(e){a.setState({allGuestUsers:e.data})})).catch((function(e){e.response&&alert("Error retrieving guest users")})),this.setState({listingMode:0}))):(m.a.get(window.api_prefix+"/getAllGuestUsers").then((function(e){a.setState({allGuestUsers:e.data})})).catch((function(e){e.response&&alert("Error retrieving guest users")})),this.setState({listingMode:0})),m.a.get(window.api_prefix+"/allLeafCategories").then((function(e){a.setState({categoryOptions:e.data})})).catch(),document.addEventListener("click",(function(e){a.predefItemAutofillRef.current&&(e.target===a.predefItemAutofillRef.current||e.target.classList.contains(Xt.a.predefItemAutoFillInnerContainer)||a.setState({blockAutofillDiv:!0}))}))}},{key:"handleInputChange",value:function(e){var t=this,a=e.target,i=a.name,s=a.value;if("category"==i)this.setState(Object(K.a)({},i,s));else if("predefItemSearch"==i){var n;this.setState((n={},Object(K.a)(n,i,s),Object(K.a)(n,"blockAutofillDiv",!1),Object(K.a)(n,"predefItemsSearchResult",[]),n)),s.length>0&&m.a.get(window.api_prefix+"/searchPredefItemsByName?search="+s).then((function(e){t.setState({predefItemsSearchResult:e.data})})).catch()}else this.setState(Object(K.a)({},i,s))}},{key:"handleFilterValueChange",value:function(e,t){var a=this.state.filterTypes,i=a[e];0==i.type?i.userSelection=t.target.value:1==i.type?(i.userSelection=t.target.value,i.searchValue=""):2==i.type&&(i.userSelection=t.target.value),a[e]=i,this.setState({filterTypes:a})}},{key:"handleCustomFilterValueChange",value:function(e,t){var a=this.state.filterTypes,i=a[e];i.searchValue=t.target.value,a[e]=i,this.setState({filterTypes:a})}},{key:"removePicture",value:function(e){var t=this.state.pictures;t.splice(e,1),this.setState({pictures:t})}},{key:"handleImageUpload",value:function(e){var t=this,a=e.target.files;try{var i=function(){if(!a)throw new Error("Select a file first!");var e=5-t.state.pictures.length,i=0;t.setState({isDataLoading:!0});for(var s=a.length,n=function(n){if(n>=e)return t.setState({isDataLoading:!1,formError:"You have uploaded the maximum number of pictures. Only "+e+" pictures were uploaded."}),{v:{v:void 0}};var r=a[n].name,o=new FormData;o.append("file",a[n]),m.a.post(window.api_prefix+"/uploadListingPicture",o,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){++i==s&&t.setState({isDataLoading:!1});var a=t.state.pictures;a.push(e.data.Location),t.setState({pictures:a})})).catch((function(e){e.response&&t.setState({isDataLoading:!1,formError:"Your file "+r+" could not be uploaded, please try again."})}))},r=0;r<s;r++){var o=n(r);if("object"===typeof o)return o.v}t.pictureInputRef.current.value=null}();if("object"===typeof i)return i.v}catch(s){this.setState({isDataLoading:!1})}}},{key:"postListing",value:function(){var e=this.state.price,t=this.state.description,a=this.state.condition,i=this.state.predefItemId,s=this.state.predefItemName,n=this.state.pictures,r=this.state.allGuestUsers[this.state.guestUserSelect].id;if(-1!=i&&s.length>0)if(e.toString().length>0&&e.toString().length<255)if(t.length<255)if(n.length>0)if(n.length<6){var o={listingId:this.state.listingId,predefTypeName:s,price:e,description:t,sellerId:r,condition:a,pictures:n,predefType:i};1==this.state.listingMode?m.a.post(window.api_prefix+"/editGuestListing",o).then((function(e){alert("SUCCESS!!")})).catch((function(e){e.response&&alert("ERROR!")})):m.a.post(window.api_prefix+"/postGuestListing",o).then((function(e){alert("SUCCESS!!")})).catch((function(e){e.response&&alert("ERROR!")}))}else this.setState({formError:"You have exceeded the amount of authorized pictures. Please remove at least 1 picture."});else this.setState({formError:"Please upload at least 1 picture."});else this.setState({formError:"Your listing description should be between 1 and 255 characters."});else this.setState({formError:"Please fill in a listing price."});else this.setState({formError:"Please select an item type that we accept."})}},{key:"render",value:function(){var e=this,t=(this.props.t,[]);if(this.state.pictures.length>1)for(var a=1;a<this.state.pictures.length;a++)t.push(Object(i.jsx)("div",{style:{backgroundImage:"url('/assets/landingPage/stockPic3.jpg')"},className:Xt.a.smallPictureImg},a));var s=[{id:0,name:"New (sealed)"},{id:1,name:"Like new"},{id:2,name:"Lightly used"},{id:3,name:"Used"},{id:4,name:"Broken"},{id:5,name:"For parts"}].map((function(e,t){return Object(i.jsx)("option",{value:e.id,children:e.name},t)})),n="New listing";1==this.state.listingMode?n="Edit listing":2==this.state.listingMode?n="Publish draft listing":0==this.state.listingMode&&this.state.predefItemName.length>0&&(n="Selling "+this.state.predefItemName);var r,o=this.state.pictures.map((function(t,a){return Object(i.jsx)("div",{className:Xt.a.pictureSquare,onClick:function(){return e.removePicture(a)},style:{backgroundImage:"url('"+t+"')"},children:Object(i.jsx)("div",{children:Object(i.jsx)("img",{src:"https://staticassets2020.s3.amazonaws.com/octiconsSvg/x.svg"})})},a)})),c=null;if(this.predefItemInputRef.current){var l=this.predefItemInputRef.current.getBoundingClientRect();1!=this.state.currentPage&&this.state.predefItemSearch.length>0&&0==this.state.blockAutofillDiv&&(c=Object(i.jsx)("div",{id:Xt.a.predefItemAutofillContainer,style:{left:l.left,top:l.top+50,width:this.predefItemInputRef.current.offsetWidth},ref:this.predefItemAutofillRef,children:0==this.state.predefItemsSearchResult.length?Object(i.jsx)("p",{children:"No result"}):this.state.predefItemsSearchResult.map((function(t,a){return Object(i.jsx)("div",{className:Xt.a.predefItemAutofillInnerContainer,onClick:function(){e.setState((function(e){return{currentPage:1,predefItemId:e.predefItemsSearchResult[a].id,predefItemName:e.predefItemsSearchResult[a].title}}))},children:Object(i.jsx)("p",{children:t.title})},a)}))}))}var d=this.state.allGuestUsers.map((function(e,t){return Object(i.jsxs)("option",{value:t,children:["@",e.name]},t)}));return r=1==this.state.currentPage?Object(i.jsxs)("div",{id:Xt.a.formContainer,children:[Object(i.jsx)("p",{className:Xt.a.regularText+" title1",children:n}),Object(i.jsx)("p",{className:Xt.a.regularTextHalfMargin+" regularTextMedium",children:"Seller user name"}),Object(i.jsx)("select",{value:this.state.guestUserSelect,onChange:this.handleInputChange,className:Xt.a.selectInput+" regularText",name:"guestUserSelect",children:d}),Object(i.jsx)("p",{className:Xt.a.regularTextHalfMargin+" regularTextMedium",children:"In what condition is the item?"}),Object(i.jsx)("select",{value:this.state.condition,onChange:this.handleInputChange,className:Xt.a.selectInput+" regularText",name:"condition",children:s}),Object(i.jsx)("p",{className:Xt.a.regularTextHalfMargin+" regularTextMedium",children:"At what price will your item be listed?"}),Object(i.jsx)("input",{min:"1",step:"0.05",className:Xt.a.textInput+" regularText",name:"price",value:this.state.price,onChange:this.handleInputChange,type:"number"}),Object(i.jsx)("p",{className:Xt.a.regularTextHalfMargin+" regularTextMedium",children:"List all defects, errors, missing parts your item might have"}),Object(i.jsx)("textarea",{id:Xt.a.descriptionTextarea,name:"description",value:this.state.description,onChange:this.handleInputChange}),Object(i.jsx)("p",{className:Xt.a.regularTextHalfMargin+" regularTextMedium",children:"Pictures"}),o,this.state.pictures.length<5?Object(i.jsx)("label",{id:Xt.a.fileInputLabel,htmlFor:Xt.a.fileInput,children:Object(i.jsx)("div",{children:Object(i.jsx)("img",{src:"https://staticassets2020.s3.amazonaws.com/octiconsSvg/plus.svg"})})}):null,Object(i.jsx)("input",{id:Xt.a.fileInput,onChange:this.handleImageUpload,ref:this.pictureInputRef,type:"file",accept:".jpg, .jpeg, .png, .svg",multiple:!0}),Object(i.jsx)("p",{children:this.state.formError}),Object(i.jsx)("button",{className:"buttonCta regularTextMedium "+Xt.a.ctaButton,onClick:this.postListing,children:"List now"})]}):Object(i.jsxs)("div",{id:Xt.a.formContainer,children:[Object(i.jsx)("p",{className:Xt.a.regularText+" title1",children:n}),Object(i.jsx)("p",{className:Xt.a.regularTextHalfMargin+" regularTextMedium",children:"What item are you selling?"}),Object(i.jsx)("input",{ref:this.predefItemInputRef,className:Xt.a.textInput+" regularText",placeholder:"search for brand, model, color, storage",name:"predefItemSearch",value:this.state.predefItemSearch,onChange:this.handleInputChange,type:"text"}),Object(i.jsx)("p",{children:this.state.formError})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{id:Xt.a.topMainContainer,children:r}),c,1==this.state.isDataLoading?Object(i.jsx)(oe,{}):null]})}}]),a}(n.a.Component),Kt=Object(F.a)()(Zt),Qt=function(e){Object(A.a)(a,e);var t=Object(E.a)(a);function a(e){var i;return Object(R.a)(this,a),(i=t.call(this,e)).state={title:"",category:1,categoryOptions:[],filterTypes:[],listingId:0,listingMode:0,formError:"",isDataLoading:!1},i.handleInputChange=i.handleInputChange.bind(Object(G.a)(i)),i.handleFilterValueChange=i.handleFilterValueChange.bind(Object(G.a)(i)),i.postListing=i.postListing.bind(Object(G.a)(i)),i.fetchFilters=i.fetchFilters.bind(Object(G.a)(i)),i}return Object(B.a)(a,[{key:"componentDidMount",value:function(){var e,t,a=this;Ee.a.parse(window.location.search).listingid&&Ee.a.parse(window.location.search).listingmode?(e=Ee.a.parse(window.location.search).listingid,1==(t=Ee.a.parse(window.location.search).listingmode)||2==t?m.a.get(window.api_prefix+"/listingDetails?id="+e).then((function(t){var i=t.data.listingDetails,s=t.data.filters;i?(a.setState({title:i.title,category:i.categoryid,listingMode:1,listingId:e}),a.fetchFilters(i.categoryid,(function(){for(var e=a.state.filterTypes,t=0;t<e.length;t++)for(var i=0;i<s.length;i++)if(e[t].id==s[i].filtertypeid){if(0==e[t].type)e[t].userSelection=s[i].value;else if(1==e[t].type)if(-1==s[i].value)e[t].searchValue=s[i].textvalue;else{e[t].searchValue="";for(var n=0,r=0;r<e[t].options.length;r++)if(e[t].options[r].value==s[i].value){n=r;break}e[t].searchValue=n}else 2==e[t].type&&(e[t].userSelection=s[i].value);s.splice(i,1);break}a.setState({filterTypes:e})}))):a.setState({listingMode:0})})):(this.fetchFilters(1,null),this.setState({listingMode:0}))):(this.fetchFilters(1,null),this.setState({listingMode:0})),m.a.get(window.api_prefix+"/allLeafCategories").then((function(e){a.setState({categoryOptions:e.data})})).catch()}},{key:"fetchFilters",value:function(e,t){var a=this;m.a.get(window.api_prefix+"/getFiltersFromCategoryIdForPredefinedItem?id="+e).then((function(e){if(e.data.filterValues&&e.data.filterTypes&&e.data.filterValues.length>0&&e.data.filterTypes.length>0){for(var i=e.data.filterTypes,s=e.data.filterValues,n=0;n<i.length;n++)i[n].options=[],0==i[n].type?i[n].userSelection=0:1==i[n].type&&(i[n].searchValue="",i[n].userSelection=-1),2==i[n].type&&(i[n].userSelection=0);for(var r=0;r<s.length;r++)for(var o=0;o<i.length;o++)if(s[r].filtertypeid==i[o].id){1==i[o].type&&(i[o].options.push(s[r]),i[o].userSelection=i[o].options.length-1);break}a.setState({filterTypes:i},t)}else a.setState({filterTypes:[]},t)})).catch()}},{key:"handleInputChange",value:function(e){var t=e.target,a=t.name,i=t.value;this.setState(Object(K.a)({},a,i))}},{key:"handleFilterValueChange",value:function(e,t){var a=this.state.filterTypes,i=a[e];0==i.type?i.userSelection=t.target.value:1==i.type?(i.userSelection=t.target.value,i.searchValue=""):2==i.type&&(i.userSelection=t.target.value),a[e]=i,this.setState({filterTypes:a})}},{key:"handleCustomFilterValueChange",value:function(e,t){var a=this.state.filterTypes,i=a[e];i.searchValue=t.target.value,a[e]=i,this.setState({filterTypes:a})}},{key:"postListing",value:function(){for(var e=this.state.filterTypes,t=this.state.title,a=this.state.category,i=[],s=[],n=[],r=[],o=0;o<e.length;o++)if(0==e[o].type)i.push({id:e[o].id,value:e[o].userSelection});else if(1==e[o].type)if(-1==e[o].userSelection||e[o].searchValue.length>0)s.push({id:e[o].id,searchValue:e[o].searchValue});else{var c=e[o].options[e[o].userSelection].id;n.push({id:e[o].id,value:c})}else 2==e[o].type&&r.push({id:e[o].id,value:e[o].userSelection});if(t.length>0&&t.length<255){for(var l=0;l<e.length;l++)console.log(e[l]);var d={listingId:this.state.listingId,title:t,cat:a,filtersType0:i,filtersType1Custom:s,filtersType1Predefined:n,filtersType2:r};1==this.state.listingMode?m.a.post(window.api_prefix+"/editPredefItem",d).then((function(e){alert("POSTED!")})):m.a.post(window.api_prefix+"/postPredefItem",d).then((function(e){alert("POSTED!")}))}else this.setState({formError:"Your listing title should be between 1 and 255 characters."})}},{key:"render",value:function(){var e,t=this,a=(this.props.t,this.state.categoryOptions.map((function(e,t){return Object(i.jsx)("option",{value:e.id,children:e.name},t)})));e=this.state.filterTypes.length>0?this.state.filterTypes.map((function(e,a){if(0==e.type)return Object(i.jsxs)("div",{children:[Object(i.jsxs)("p",{className:Xt.a.regularTextHalfMargin+" regularTextMedium",children:[e.name,"?"]}),Object(i.jsxs)("select",{value:e.userSelection,onChange:t.handleFilterValueChange.bind(t,a),className:Xt.a.selectInput+" regularText",children:[Object(i.jsx)("option",{value:"0",children:"No"}),Object(i.jsx)("option",{value:"1",children:"Yes"})]}),Object(i.jsx)("button",{onClick:function(){var e=t.state.filterTypes;e.splice(a,1),t.setState({filterTypes:e})},children:"Remove"})]},a);if(1==e.type){var s=e.options.map((function(e,t){return Object(i.jsx)("option",{value:t,children:e.textvalue},t)})),n="";return n=e.searchValue.length>0||0==e.options.length?e.searchValue:e.options[e.userSelection].textvalue,Object(i.jsxs)("div",{children:[Object(i.jsx)("p",{className:Xt.a.regularTextHalfMargin+" regularTextMedium",children:e.name}),Object(i.jsx)("input",{type:"text",className:Xt.a.textInput+" regularText",value:n,onChange:t.handleCustomFilterValueChange.bind(t,a)}),e.options.length>0?Object(i.jsx)("select",{value:e.userSelection,onChange:t.handleFilterValueChange.bind(t,a),className:Xt.a.selectInput+" regularText",children:s}):null,Object(i.jsx)("button",{onClick:function(){var e=t.state.filterTypes;e.splice(a,1),t.setState({filterTypes:e})},children:"Remove"})]},a)}return 2==e.type?Object(i.jsxs)("div",{children:[Object(i.jsxs)("p",{className:Xt.a.regularTextHalfMargin+" regularTextMedium",children:["# ",e.name]}),Object(i.jsx)("input",{type:"number",className:Xt.a.textInput+" regularText",step:"1",min:"0",max:"1000",value:e.userSelection,onChange:t.handleFilterValueChange.bind(t,a)}),Object(i.jsx)("button",{onClick:function(){var e=t.state.filterTypes;e.splice(a,1),t.setState({filterTypes:e})},children:"Remove"})]},a):void 0})):null;var s="New listing";return 1==this.state.listingMode?s="Edit listing":2==this.state.listingMode&&(s="Publish draft listing"),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{id:Xt.a.topMainContainer,children:Object(i.jsxs)("div",{id:Xt.a.formContainer,children:[Object(i.jsx)("p",{className:Xt.a.regularText+" title1",children:s}),Object(i.jsx)("p",{className:Xt.a.regularTextHalfMargin+" regularTextMedium",children:"Title"}),Object(i.jsx)("input",{className:Xt.a.textInput+" regularText",name:"title",value:this.state.title,onChange:this.handleInputChange,type:"text"}),Object(i.jsx)("p",{className:Xt.a.regularTextHalfMargin+" regularTextMedium",children:"Category"}),Object(i.jsx)("select",{value:this.state.category,onChange:this.handleInputChange,className:Xt.a.selectInput+" regularText",name:"category",children:a}),e,Object(i.jsx)("p",{children:this.state.formError}),Object(i.jsx)("button",{className:"buttonCta regularTextMedium "+Xt.a.ctaButton,onClick:this.postListing,children:"List now"})]})}),1==this.state.isDataLoading?Object(i.jsx)(oe,{}):null]})}}]),a}(n.a.Component),$t=Object(F.a)()(Qt),ea=function(e){Object(A.a)(a,e);var t=Object(E.a)(a);function a(e){var i;return Object(R.a)(this,a),(i=t.call(this,e)).state={isDataLoading:!0,listings:[],offers:[],errorMessage:""},i.deleteListing=i.deleteListing.bind(Object(G.a)(i)),i}return Object(B.a)(a,[{key:"componentDidMount",value:function(){var e=this;m.a.get(window.api_prefix+"/getAllGuestListings").then((function(t){e.setState({listings:t.data,isDataLoading:!1})})),m.a.get(window.api_prefix+"/getGuestOffers").then((function(t){e.setState({offers:t.data,isDataLoading:!1})}))}},{key:"deleteListing",value:function(e,t){var a=this;m.a.post(window.api_prefix+"/deleteGuestListing",{id:t,token:this.props.token}).then((function(t){var i=a.state.listings;i.splice(e,1),a.setState({listings:i})})).catch((function(e){e.response&&a.setState({errorMessage:e.response.data.message})}))}},{key:"acceptOffer",value:function(e,t){var a=this;m.a.post(window.api_prefix+"/declineGuestOffer",{id:t,token:this.props.token}).then((function(t){var i=a.state.offers;i.splice(e,1),a.setState({offers:i})})).catch((function(e){e.response&&a.setState({errorMessage:e.response.data.message})}))}},{key:"declineOffer",value:function(e,t){var a=this;m.a.post(window.api_prefix+"/acceptGuestOffer",{id:t,token:this.props.token}).then((function(t){var i=a.state.offers;i.splice(e,1),a.setState({offers:i})})).catch((function(e){e.response&&a.setState({errorMessage:e.response.data.message})}))}},{key:"render",value:function(){var e=this;this.props.t;if(1==this.state.isDataLoading)return Object(i.jsx)("p",{children:"Loading..."});var t=Object(i.jsx)("p",{children:"No listings to verify"});this.state.listings.length>0&&(t=this.state.listings.map((function(t,a){return Object(i.jsxs)("div",{style:{marginBottom:"50px",border:"1px solid #000",padding:"20px"},children:[Object(i.jsxs)("p",{children:["Listing id: ",t.id]}),Object(i.jsxs)("p",{children:["Seller: @",t.sellername]}),Object(i.jsxs)("p",{children:["Type: ",t.title]}),Object(i.jsx)("button",{onClick:function(){e.deleteListing(a,t.id)},children:"Delete"})]},a)})));var a=Object(i.jsx)("p",{children:"No offers to accept"});return this.state.offers.length>0&&(a=this.state.offers.map((function(t,a){return Object(i.jsxs)("div",{style:{marginBottom:"50px",border:"1px solid #000",padding:"20px"},children:[Object(i.jsxs)("p",{children:["offer id: ",t.id]}),Object(i.jsxs)("p",{children:["Amount: ",fe(t.amount)]}),Object(i.jsx)("p",{children:"Seller description:"}),Object(i.jsxs)("p",{children:["@",t.sellername]}),Object(i.jsx)("p",{children:t.sellerdescription}),Object(i.jsx)("button",{onClick:function(){e.acceptOffer(a,t.id)},children:"Accept"}),Object(i.jsx)("button",{onClick:function(){e.declineOffer(a,t.id)},children:"Decline"})]},a)}))),Object(i.jsx)("div",{children:Object(i.jsxs)("div",{id:Ft.a.articleContainer,children:[Object(i.jsx)("p",{className:"megaTitle",children:"Guest listings"}),t,Object(i.jsx)("p",{className:"megaTitle",children:"Guest listings offers"}),a]})})}}]),a}(n.a.Component),ta=Object(F.a)()(ea),aa=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,ia=function(e){Object(A.a)(a,e);var t=Object(E.a)(a);function a(e){var i;return Object(R.a)(this,a),(i=t.call(this,e)).state={activePage:0,email:"",password:"",loginErrorMessage:"",isDataLoading:!1,token:"",userName:"",editPostId:-1},i.handleInputChange=i.handleInputChange.bind(Object(G.a)(i)),i.editSpecificBlogPost=i.editSpecificBlogPost.bind(Object(G.a)(i)),i.handleLoginSubmit=i.handleLoginSubmit.bind(Object(G.a)(i)),i}return Object(B.a)(a,[{key:"handleInputChange",value:function(e){var t=e.target,a=t.name,i=t.value;this.setState(Object(K.a)({},a,i))}},{key:"handleLoginSubmit",value:function(){var e=this;if(this.setState({loginErrorMessage:""}),this.state.email.length>0&&this.state.password.length>0)if(!0===aa.test(this.state.email)){this.setState({isDataLoading:!0});var t={email:this.state.email,password:this.state.password};m.a.post(window.api_prefix+"/loginEmployee",t).then((function(t){e.setState({activePage:1,employeeName:t.data.name,token:t.data.token})})).catch((function(t){t.response&&e.setState({loginErrorMessage:t.response.data.message,isDataLoading:!1})}))}else this.setState({loginErrorMessage:"Your email is not valid.",isDataLoading:!1});else this.setState({loginErrorMessage:"Please fill in all the fields.",isDataLoading:!1})}},{key:"editSpecificBlogPost",value:function(e){this.setState({activePage:3,editPostId:e})}},{key:"render",value:function(){var e,t,a=this;return 0==this.state.activePage?(this.state.loginErrorMessage.length>0&&(e=Object(i.jsx)("p",{className:"errorText "+se.a.regularText,children:this.state.loginErrorMessage})),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{id:se.a.bodyContainer,children:Object(i.jsxs)("div",{id:se.a.formCard,children:[Object(i.jsx)(l.b,{to:"/",children:Object(i.jsx)("img",{alt:"logo",id:se.a.logo,src:"https://staticassets2020.s3.amazonaws.com/logos/logoV1orangeTransparent.png"})}),Object(i.jsx)("p",{className:"title1 "+se.a.regularText,children:"Employee portal"}),Object(i.jsx)("input",{className:se.a.inputText+" inputText regularText",type:"email",name:"email",value:this.state.email,onChange:this.handleInputChange,placeholder:"Email address"}),Object(i.jsx)("input",{className:se.a.inputText+" inputText regularText",type:"password",name:"password",value:this.state.password,onChange:this.handleInputChange,placeholder:"Password"}),e,Object(i.jsx)("button",{className:se.a.button+" buttonCta regularTextMedium",onClick:this.handleLoginSubmit,children:"Continue"})]})}),1==this.state.isDataLoading?Object(i.jsx)(oe,{}):null]})):(1==this.state.activePage?t=Object(i.jsxs)("p",{children:["Welcome ",this.state.employeeName]}):2==this.state.activePage?t=Object(i.jsx)(Ut,{newBlogPost:function(){a.setState({activePage:5})},editSpecificBlogPost:this.editSpecificBlogPost,token:this.state.token}):3==this.state.activePage?t=Object(i.jsx)(Vt,{token:this.state.token,returnDashboard:function(){a.setState({activePage:1})},postId:this.state.editPostId}):4==this.state.activePage?t=Object(i.jsx)(Jt,{token:this.state.token}):5==this.state.activePage?t=Object(i.jsx)($t,{token:this.state.token}):6==this.state.activePage?t=Object(i.jsx)(Wt,{token:this.state.token}):7==this.state.activePage?t=Object(i.jsx)(Kt,{token:this.state.token}):8==this.state.activePage&&(t=Object(i.jsx)(ta,{token:this.state.token})),Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{id:Ft.a.nav,children:[Object(i.jsx)(l.b,{to:"/",className:"regularTextBold",children:"Cambio"}),Object(i.jsx)("p",{className:"regularTextBold",onClick:function(){a.setState({activePage:1})},children:"Dashboard"}),Object(i.jsx)("p",{className:"regularTextBold",onClick:function(){a.setState({activePage:2})},children:"Blog posts"}),Object(i.jsx)("p",{className:"regularTextBold",onClick:function(){a.setState({activePage:4})},children:"Listings to verify"}),Object(i.jsx)("p",{className:"regularTextBold",onClick:function(){a.setState({activePage:5})},children:"Predefined items"}),Object(i.jsx)("p",{className:"regularTextBold",onClick:function(){a.setState({activePage:6})},children:"New guest user"}),Object(i.jsx)("p",{className:"regularTextBold",onClick:function(){a.setState({activePage:7})},children:"New guest listing"}),Object(i.jsx)("p",{className:"regularTextBold",onClick:function(){a.setState({activePage:8})},children:"Guest listings & offers"})]}),Object(i.jsx)("div",{children:t})]}))}}]),a}(n.a.Component),sa=a(43),na=a.n(sa),ra=function(e){Object(A.a)(a,e);var t=Object(E.a)(a);function a(){var e;return Object(R.a)(this,a),(e=t.call(this)).state={},e}return Object(B.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return Object(i.jsxs)("div",{id:na.a.pageBody,children:[Object(i.jsx)("div",{id:na.a.topBar,children:Object(i.jsx)("p",{className:"title2",children:"Activity"})}),Object(i.jsx)("div",{id:na.a.mainBody,children:Object(i.jsx)("p",{className:na.a.emptyStateMessageP+" regularTextMedium",children:"No transactions activity yet."})}),Object(i.jsx)(me,Object(c.a)({},this.props))]})}}]),a}(n.a.Component),oa=a(55),ca=a.n(oa),la=function(e){Object(A.a)(a,e);var t=Object(E.a)(a);function a(e){var i;return Object(R.a)(this,a),(i=t.call(this,e)).state={isDataLoading:!0,post:{}},i.searchTopContainer=n.a.createRef(),i.categoriesContainerRef=n.a.createRef(),i.searchInputRef=n.a.createRef(),i.followedListingsRef=n.a.createRef(),i.searchSuggestModalRef=n.a.createRef(),i.featuredListingsRef=n.a.createRef(),i.hotListingsRef=n.a.createRef(),i.scrollTopButtonRef=n.a.createRef(),i.searchContainerRef=n.a.createRef(),i}return Object(B.a)(a,[{key:"componentDidMount",value:function(){var e=this;if(this.props.match.params.id){var t=this.props.match.params.id;m.a.get(window.api_prefix+"/blogPost?id="+t).then((function(t){e.setState({post:t.data,isDataLoading:!1})}))}else this.props.history.push("/community")}},{key:"componentWillUnmount",value:function(){window.onscroll=void 0,document.onclick=void 0}},{key:"render",value:function(){this.props.t;if(1==this.state.isDataLoading)return Object(i.jsx)("p",{children:"Loading..."});var e=this.state.post.body.split("<%b%>");console.log(e);var t=e.map((function(e,t){return"<p%>"==e.substring(0,4)?Object(i.jsx)("p",{className:"regularText "+ca.a.regularText,children:e.substring(4,e.length)},t):"<t%>"==e.substring(0,4)?Object(i.jsx)("p",{className:"title2 "+ca.a.regularText,children:e.substring(4,e.length)},t):null}));return console.log(t),Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{id:ca.a.articleContainer,children:[Object(i.jsx)("p",{className:"title1 "+ca.a.regularText,children:this.state.post.title}),t]}),Object(i.jsx)(q,{}),Object(i.jsx)(me,Object(c.a)({},this.props)),Object(i.jsx)(he,Object(c.a)({},this.props),(new Date).getTime())]})}}]),a}(n.a.Component),da=Object(F.a)()(la),ua=a(31),ha=a.n(ua),pa=function(e){Object(A.a)(a,e);var t=Object(E.a)(a);function a(e){var i;return Object(R.a)(this,a),(i=t.call(this,e)).state={searchInput:"",displayAccountModel:!1,categories:[],categoryCurrentParentId:-1,isCategoriesModalDisplayed:!1,posts:[]},i.searchTopContainer=n.a.createRef(),i.categoriesContainerRef=n.a.createRef(),i.searchInputRef=n.a.createRef(),i.followedListingsRef=n.a.createRef(),i.searchSuggestModalRef=n.a.createRef(),i.featuredListingsRef=n.a.createRef(),i.hotListingsRef=n.a.createRef(),i.scrollTopButtonRef=n.a.createRef(),i.searchContainerRef=n.a.createRef(),i}return Object(B.a)(a,[{key:"componentDidMount",value:function(){var e=this;m.a.get(window.api_prefix+"/allBlogPosts").then((function(t){e.setState({posts:t.data})}))}},{key:"componentWillUnmount",value:function(){window.onscroll=void 0,document.onclick=void 0}},{key:"render",value:function(){var e=this,t=(this.props.t,Object(i.jsx)("p",{children:"There are no posts for the moment."}));return this.state.posts.length>0&&(t=this.state.posts.map((function(e,t){return Object(i.jsx)("div",{className:ha.a.postCard,children:Object(i.jsxs)(l.b,{to:"/blog-post/"+e.id,children:[Object(i.jsx)("p",{className:"title2 "+ha.a.regularText,children:e.title}),Object(i.jsx)("p",{className:"regularText "+ha.a.regularText,children:e.summary}),Object(i.jsx)("p",{className:ha.a.linkP+" "+ha.a.regularTextNoMargin,children:"read more"})]},t)})}))),Object(i.jsxs)("div",{children:[Object(i.jsxs)(ye,{children:[Object(i.jsx)("div",{className:ha.a.topMainContainer,children:Object(i.jsx)("div",{className:ha.a.topMainContainerInnerContainer,children:Object(i.jsxs)("div",{id:ha.a.headerImgDiv,children:[Object(i.jsx)("p",{className:"megaTitle "+ha.a.regularText+" "+ha.a.headlineP,children:"How Cambio works"}),Object(i.jsx)("p",{className:"regularText "+ha.a.regularText+" "+ha.a.headlineP,children:"Cambio is not just another marketplace. It\u2019s a community of tech enthusiasts looking to exchange on today\u2019s tech and buy trustable pre-owned devices."})]})})}),Object(i.jsx)("div",{className:ha.a.communitySectionContainer,children:Object(i.jsx)("div",{className:ha.a.topMainContainerInnerContainer,children:t})})]}),Object(i.jsx)("div",{id:ha.a.scrollTopButton,className:ha.a.displayNone,ref:this.scrollTopButtonRef,onClick:function(){window.scrollTo({top:0,behavior:"smooth"}),e.featuredListingsRef.current.classList.remove(ha.a.stickyHeader),e.featuredListingsRef.current.parentElement.classList.remove(ha.a.stickyHeaderParent),e.followedListingsRef.current.classList.remove(ha.a.stickyHeader),e.followedListingsRef.current.parentElement.classList.remove(ha.a.stickyHeaderParent)},children:Object(i.jsx)("img",{src:"https://staticassets2020.s3.amazonaws.com/octiconsSvg/chevron-up.svg"})}),Object(i.jsx)(q,{}),Object(i.jsx)(me,Object(c.a)({},this.props)),Object(i.jsx)(he,Object(c.a)({},this.props),(new Date).getTime()),Object(i.jsx)(ae,{title:"Categories",closeModal:function(){e.setState({isCategoriesModalDisplayed:!1})},show:this.state.isCategoriesModalDisplayed})]})}}]),a}(n.a.Component),ga=Object(F.a)()(pa),ma=a(26),ja=a.n(ma),ba=function(e){Object(A.a)(a,e);var t=Object(E.a)(a);function a(e){var i;return Object(R.a)(this,a),(i=t.call(this,e)).state={lname:"",fname:"",countryCode:"CA",type0ErrorMessage:"",currentFormType:0,type1ErrorMessage:"",categories:[],followedCategories:[],isDataLoading:!1},i.handleInputChange=i.handleInputChange.bind(Object(G.a)(i)),i.submitForm=i.submitForm.bind(Object(G.a)(i)),i.followTopic=i.followTopic.bind(Object(G.a)(i)),i.unfollowTopic=i.unfollowTopic.bind(Object(G.a)(i)),i}return Object(B.a)(a,[{key:"componentDidMount",value:function(){var e=this;"true"==localStorage.getItem("setupVerif")?this.props.history.push("/home"):m.a.get(window.api_prefix+"/allParentCategories").then((function(t){e.setState({categories:t.data})}))}},{key:"followTopic",value:function(e){var t=this.state.categories,a=t[e];t.splice(e,1);var i=this.state.followedCategories;i.push(a),this.setState({followedCategories:i,categories:t})}},{key:"unfollowTopic",value:function(e){var t=this.state.categories,a=this.state.followedCategories,i=a[e];a.splice(e,1),t.push(i),this.setState({followedCategories:a,categories:t})}},{key:"handleInputChange",value:function(e){var t=e.target,a=t.name,i=t.value;this.setState(Object(K.a)({},a,i))}},{key:"submitForm",value:function(){var e=this;if(this.setState({type1ErrorMessage:"",type0ErrorMessage:""}),this.state.followedCategories.length>=3)if(this.state.fname.length>0)if(this.state.lname.length>0){this.setState({isDataLoading:!0});var t={lname:this.state.lname,fname:this.state.fname,followedCategories:this.state.followedCategories,countryCode:this.state.countryCode};m.a.post(window.api_prefix+"/accountSetup",t).then((function(t){localStorage.setItem("setupVerif",!0),e.props.history.push("/home")})).catch((function(t){t.response&&e.setState({type0ErrorMessage:t.response.data.message,currentFormType:0,isDataLoading:!1})}))}else this.setState({type0ErrorMessage:"Please fill in your last name.",currentFormType:0});else this.setState({type0ErrorMessage:"Please fill in your first name.",currentFormType:0});else this.setState({type1ErrorMessage:"Please pick at least 3 topics.",currentFormType:1})}},{key:"render",value:function(){var e,t,a=this;this.state.type0ErrorMessage.length>0&&(e=Object(i.jsx)("p",{className:"errorText "+ja.a.regularText,children:this.state.type0ErrorMessage})),this.state.type1ErrorMessage.length>0&&(t=Object(i.jsx)("p",{className:"errorText "+ja.a.regularText,children:this.state.type1ErrorMessage}));var s=this.state.categories.map((function(e,t){return Object(i.jsxs)("div",{className:ja.a.topicContainer,children:[Object(i.jsx)("p",{className:"regularText "+ja.a.regularTextNoMargin,children:e.name}),Object(i.jsx)("img",{onClick:function(){a.followTopic(t)},src:"https://staticassets2020.s3.amazonaws.com/octiconsSvg/plus.svg"})]},t)})),n=Object(i.jsx)("p",{className:"regularText "+ja.a.regularText,children:"Please pick at least 3 topics"});return this.state.followedCategories.length>0&&(n=this.state.followedCategories.map((function(e,t){return Object(i.jsxs)("div",{className:ja.a.topicContainer,children:[Object(i.jsx)("p",{className:"regularText "+ja.a.regularTextNoMargin,children:e.name}),Object(i.jsx)("img",{onClick:function(){a.unfollowTopic(t)},src:"https://staticassets2020.s3.amazonaws.com/octiconsSvg/x.svg"})]},t)}))),Object(i.jsxs)("div",{id:ja.a.bodyContainer,children:[Object(i.jsxs)("div",{className:0==this.state.currentFormType?ja.a.formCard+" "+ja.a.activeForm:ja.a.formCard,children:[Object(i.jsx)("p",{className:"title1 "+ja.a.regularText,children:"Account setup (1/2)"}),Object(i.jsx)("p",{className:"title2 "+ja.a.regularText,children:"Please fill in some more details"}),Object(i.jsx)("input",{className:ja.a.inputText+" inputText regularText",name:"fname",type:"text",value:this.state.fname,placeholder:"First Name",onChange:this.handleInputChange}),Object(i.jsx)("input",{className:ja.a.inputText+" inputText regularText",name:"lname",type:"text",value:this.state.lname,placeholder:"Last Name",onChange:this.handleInputChange}),Object(i.jsxs)("select",{className:ja.a.inputText+" inputText regularText",onChange:this.handleInputChange,name:"countryCode",value:this.state.countryCode,children:[Object(i.jsx)("option",{value:"CA",children:"Canada"}),Object(i.jsx)("option",{value:"US",children:"United States"}),Object(i.jsx)("option",{value:"MX",children:"Mexico"})]}),e,Object(i.jsx)("button",{className:ja.a.button+" buttonCta regularTextMedium",onClick:function(){a.state.lname.length>0?a.state.fname.length>0?a.setState({currentFormType:1}):a.setState({type0ErrorMessage:"Please fill in your first name.",currentFormType:0}):a.setState({type0ErrorMessage:"Please fill in your last name.",currentFormType:0})},children:"Continue"})]}),Object(i.jsxs)("div",{className:1==this.state.currentFormType?ja.a.formCard+" "+ja.a.activeForm:ja.a.formCard,children:[Object(i.jsx)("p",{className:"title1 "+ja.a.regularText,children:"Account setup (2/2)"}),Object(i.jsx)("p",{className:"title2 "+ja.a.regularText,children:"Which topics do you like? (pick at least 3)"}),s,Object(i.jsx)("p",{className:"title2 "+ja.a.regularText,children:"Followed topics"}),n,t,Object(i.jsx)("button",{className:ja.a.button+" buttonCta regularTextMedium",onClick:this.submitForm,children:"Continue"})]}),1==this.state.isDataLoading?Object(i.jsx)(oe,{}):null]})}}]),a}(n.a.Component),fa=["January","February","March","April","May","June","July","August","September","October","November","December"],xa=function(e){Object(A.a)(a,e);var t=Object(E.a)(a);function a(e){var i;return Object(R.a)(this,a),(i=t.call(this,e)).state={reservationDetails:{},dataIsLoading:!0,sellerEmail:""},i}return Object(B.a)(a,[{key:"componentDidMount",value:function(){var e,t=this;Ee.a.parse(window.location.search).tra_id?(e=Ee.a.parse(window.location.search).tra_id,m.a.get(window.api_prefix+"/reservationDetails?id="+e).then((function(e){for(var a=0;a<e.data.otherDetails.length;a++)e.data.otherDetails[a].rows[0].price&&(e.data.details.buynowprice=e.data.otherDetails[a].rows[0].price),e.data.otherDetails[a].rows[0].selleremail&&(e.data.details.selleremail=e.data.otherDetails[a].rows[0].selleremail);console.log(e.data),t.setState({dataIsLoading:!1,reservationDetails:e.data.details,sellerEmail:e.data.sellerEmail})})).catch((function(e){e.response&&t.props.history.push("/")}))):this.props.history.push("/")}},{key:"render",value:function(){if(!0===this.state.dataIsLoading)return Object(i.jsx)("p",{children:"Loading..."});var e=new Date(this.state.reservationDetails.timestamp);e.setMinutes(e.getMinutes()+20);var t=e.getMinutes();t<10&&(t="0"+t);var a=e.getHours();a<10&&(a="0"+a);var s=this.state.reservationDetails.amount;s=fe(null==s?this.state.reservationDetails.buynowprice:s);var n=fa[e.getMonth()]+" "+e.getDate()+", "+e.getFullYear()+" at "+a+":"+t;return Object(i.jsxs)("div",{children:[Object(i.jsx)(ye,{children:Object(i.jsx)("div",{id:Ot.a.topMainContainer,children:Object(i.jsxs)("div",{className:Ot.a.innerMainContainer,children:[Object(i.jsx)("p",{ref:this.savedListingsRef,className:Ot.a.sectionTitleP+" title1",children:"Payment instructions"}),Object(i.jsxs)("p",{className:Ot.a.sectionTitleP+" regularText",children:["Your purchase is not yet confirmed! Kindly send a payment of ",s," through Paypal to ",this.state.reservationDetails.selleremail," before ",n,". Otherwise after that time, the listing will be put back for sale and you won't be able to re-purchase it."]})]})})}),Object(i.jsx)(q,{}),Object(i.jsx)(me,Object(c.a)({},this.props)),Object(i.jsx)(he,Object(c.a)({},this.props),(new Date).getTime())]})}}]),a}(n.a.Component),va=Object(F.a)()(xa),Oa=a(68),_a=a.n(Oa),Ca=a(85),ya=a(32),Ta=a.n(ya),wa=a(49),Sa={style:{base:{color:"#32325d",fontFamily:'"Larsseit", arial, sans-serif',fontSmoothing:"antialiased",fontSize:"16px","::placeholder":{color:"#aab7c4"}},invalid:{color:"#fa755a",iconColor:"#fa755a"}}},Ma=function(e){Object(A.a)(a,e);var t=Object(E.a)(a);function a(e){var i;return Object(R.a)(this,a),(i=t.call(this,e)).handleSubmit=function(e){e.preventDefault();var t=i.props,a=t.stripe,s=t.elements;if(a&&s){i.setState({isFormDisabled:!0,isDataLoading:!0,stripeErrorMessage:""});var n="";if(i.state.shippingAddressInput.length>0)n=i.state.shippingAddressInput;else{if(!(i.state.shippingAddress.length>0))return void i.setState({isFormDisabled:!0,isDataLoading:!0,stripeErrorMessage:"Please fill in your shipping address"});n=i.state.shippingAddress}m.a.post(window.api_prefix+"/paymentIntent",{listingId:i.state.listingId,shippingAddress:n,offerId:-1==i.state.offerId?null:i.state.offerId}).then(function(){var e=Object(Ca.a)(_a.a.mark((function e(t){var n;return _a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t.data.clientSecret),s.getElement(wa.CardElement),e.next=4,a.confirmCardPayment(t.data.clientSecret,{payment_method:{card:s.getElement(wa.CardElement),billing_details:{name:"Jenny Rosen"}},setup_future_usage:"off_session"});case 4:(n=e.sent).error?i.setState({isFormDisabled:!1,isDataLoading:!1,stripeErrorMessage:n.error.message}):"succeeded"===n.paymentIntent.status&&i.setState({isFormDisabled:!1,isDataLoading:!1,stripeErrorMessage:"",isTransactionSuccess:!0});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){e.response&&i.setState({isFormDisabled:!1,isDataLoading:!1,stripeErrorMessage:e.response.data.message})}))}},i.state={isFormDisabled:!0,isDataLoading:!0,stripeErrorMessage:"",buyNowPrice:0,offerAmount:null,offerId:-1,listingId:-1,isTransactionSuccess:!1,shippingAddress:"",shippingAddressInput:""},i.handleInput=i.handleInput.bind(Object(G.a)(i)),i}return Object(B.a)(a,[{key:"componentDidMount",value:function(){var e,t,a=this;m.a.get(window.api_prefix+"/getShippingAddress").then((function(e){a.setState({shippingAddress:e.data})})).catch(),Ee.a.parse(window.location.search).listingId&&Ee.a.parse(window.location.search).offerId?(e=Ee.a.parse(window.location.search).listingId,-1==(t=Ee.a.parse(window.location.search).offerId)?m.a.get(window.api_prefix+"/listingPrice?listingId="+e).then((function(t){a.setState({buyNowPrice:t.data.listingPrice,offerId:-1,isFormDisabled:!1,isDataLoading:!1,listingId:e})})).catch((function(e){e.response&&a.props.history.push("/")})):m.a.get(window.api_prefix+"/offerDetails?offerId="+t).then((function(i){a.setState({offerAmount:i.data.offerDetails.amount,isFormDisabled:!1,isDataLoading:!1,offerId:t,listingId:e})})).catch((function(e){e.response&&a.props.history.push("/")}))):Ee.a.parse(window.location.search).listingId?(e=Ee.a.parse(window.location.search).listingId,m.a.get(window.api_prefix+"/listingPrice?listingId="+e).then((function(t){a.setState({buyNowPrice:t.data.listingPrice,offerId:-1,isFormDisabled:!1,isDataLoading:!1,listingId:e})})).catch((function(e){e.response&&a.props.history.push("/")}))):(alert("YO"),this.props.history.push("/"))}},{key:"handleInput",value:function(e){var t=e.target,a=t.name,i=t.value;this.setState(Object(K.a)({},a,i))}},{key:"render",value:function(){var e,t=this.props.stripe,a=this.state.offerAmount;return a=fe(null==a?this.state.buyNowPrice:a),e=1==this.state.isTransactionSuccess?Object(i.jsxs)("div",{id:Ta.a.formCard,children:[Object(i.jsx)("p",{className:"title1 "+Ta.a.regularText,children:"Purchase successful!"}),Object(i.jsx)("p",{className:"regularText "+Ta.a.regularText,children:"Thank you for your purchase. We'll now send you a purchase receipt by email. Hope you like your item."}),Object(i.jsxs)("p",{className:"regularTextBold "+Ta.a.regularText,children:["Total: ",a]})]}):Object(i.jsxs)("div",{id:Ta.a.formCard,children:[Object(i.jsx)("p",{className:"title1 "+Ta.a.regularText,children:"Payment method"}),Object(i.jsx)("p",{className:"regularText "+Ta.a.regularText,children:"Once the item purchased, the seller has 3 days to ship your item and upload a tracking number."}),Object(i.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(i.jsx)("div",{id:Ta.a.formRow,children:Object(i.jsx)(wa.CardElement,{options:Sa})}),Object(i.jsx)("input",{className:"regularText",type:"text",id:Ta.a.textInput,name:"shippingAddressInput",onChange:this.handleInput,value:this.state.shippingAddressInput,placeholder:this.state.shippingAddress.length>0?this.state.shippingAddress:"Fill in your full shipping address"}),Object(i.jsx)("button",{className:"buttonCta "+Ta.a.button,type:"submit",disabled:!t&&this.state.isFormDisabled,children:"Pay now"}),this.state.stripeErrorMessage.length>0?Object(i.jsx)("p",{children:this.state.stripeErrorMessage}):null]}),Object(i.jsxs)("p",{className:"regularText "+Ta.a.regularTextHalfMargin,children:["Subtotal: ",a]}),Object(i.jsx)("p",{className:"regularText "+Ta.a.regularTextHalfMargin,children:"Shipping: $0.00"}),Object(i.jsx)("p",{className:"regularText "+Ta.a.regularTextHalfMargin,children:"Taxes: !!!!"}),Object(i.jsxs)("p",{className:"regularTextBold "+Ta.a.regularTextHalfMargin,children:["Total: ",a]})]}),Object(i.jsxs)("div",{children:[e,1==this.state.isDataLoading?Object(i.jsx)(oe,{}):null]})}}]),a}(n.a.Component),Na=function(e){return Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{id:Ta.a.bodyContainer,children:Object(i.jsx)(wa.ElementsConsumer,{children:function(t){var a=t.elements,s=t.stripe;return Object(i.jsx)(Ma,{history:e.history,elements:a,stripe:s})}})}),Object(i.jsx)(q,{}),Object(i.jsx)(me,Object(c.a)({},e)),Object(i.jsx)(he,Object(c.a)({},e),(new Date).getTime())]})},Ia=function(e){Object(A.a)(a,e);var t=Object(E.a)(a);function a(){var e;return Object(R.a)(this,a),(e=t.call(this)).state={userName:"",profilePicture:""},e}return Object(B.a)(a,[{key:"componentDidMount",value:function(){var e=this;m.a.get(window.api_prefix+"/loggedInUserProfile").then((function(t){e.setState({userName:t.data.name,profilePicture:t.data.profilepicture})}))}},{key:"render",value:function(){return Object(i.jsxs)("div",{id:na.a.pageBody,children:[Object(i.jsxs)("div",{id:na.a.topBar,children:[Object(i.jsx)("div",{style:{backgroundImage:this.state.profilePicture&&0!=this.state.profilePicture.length?"url('"+this.state.profilePicture+"')":"url('https://staticassets2020.s3.amazonaws.com/octiconsSvg/smiley.svg')"}}),Object(i.jsxs)("p",{className:"regularTextMedium",children:["@",this.state.userName]})]}),Object(i.jsxs)("div",{id:na.a.mainBody,children:[Object(i.jsx)(l.b,{to:"/new-listing",children:Object(i.jsxs)("p",{className:"regularTextMedium",children:[Object(i.jsx)("img",{src:"https://staticassets2020.s3.amazonaws.com/octiconsSvg/diff-added.svg"}),"Create a listing"]})}),Object(i.jsx)(l.b,{to:"/my-purchases",children:Object(i.jsxs)("p",{className:"regularTextMedium",children:[Object(i.jsx)("img",{src:"https://staticassets2020.s3.amazonaws.com/octiconsSvg/tag.svg"}),"Buying"]})}),Object(i.jsx)(l.b,{to:"/my-listings",children:Object(i.jsxs)("p",{className:"regularTextMedium",children:[Object(i.jsx)("img",{src:"https://staticassets2020.s3.amazonaws.com/octiconsSvg/list-unordered.svg"}),"Selling"]})}),Object(i.jsx)(l.b,{to:"/account",children:Object(i.jsxs)("p",{className:"regularTextMedium",children:[Object(i.jsx)("img",{src:"https://staticassets2020.s3.amazonaws.com/octiconsSvg/person.svg"}),"Edit profile"]})}),Object(i.jsx)(l.b,{to:"/following",children:Object(i.jsxs)("p",{className:"regularTextMedium",children:[Object(i.jsx)("img",{src:"https://staticassets2020.s3.amazonaws.com/octiconsSvg/people.svg"}),"Following"]})}),Object(i.jsx)(l.b,{to:"/faq",children:Object(i.jsxs)("p",{className:"regularTextMedium",children:[Object(i.jsx)("img",{src:"https://staticassets2020.s3.amazonaws.com/octiconsSvg/unverified.svg"}),"FAQ"]})}),Object(i.jsx)("p",{className:"regularText",children:"About"}),Object(i.jsx)("p",{className:"regularText",children:"Contact: contact@joincambio.com"})]}),Object(i.jsx)("div",{id:na.a.bottomBar,onClick:this.props.logoutUser,children:Object(i.jsx)("p",{className:"regularText",children:"Logout"})}),Object(i.jsx)(me,Object(c.a)({},this.props))]})}}]),a}(n.a.Component),ka=Object(T.b)((function(e){return{auth:e.auth}}),{logoutUser:y})(Ia),Pa=a(25),La=a.n(Pa),Da=function(e){Object(A.a)(a,e);var t=Object(E.a)(a);function a(e){var i;return Object(R.a)(this,a),(i=t.call(this,e)).state={username:"",bio:"",profilePicture:null,bioInput:"",profilePictureInput:null,profilePicturePreview:"",shippingAddress:"",shippingInput:""},i.pictureInputRef=n.a.createRef(),i.handleInputChange=i.handleInputChange.bind(Object(G.a)(i)),i.handleImageUpload=i.handleImageUpload.bind(Object(G.a)(i)),i.removePicture=i.removePicture.bind(Object(G.a)(i)),i.saveChanges=i.saveChanges.bind(Object(G.a)(i)),i}return Object(B.a)(a,[{key:"componentDidMount",value:function(){var e=this;m.a.get(window.api_prefix+"/loggedInUserProfile").then((function(t){var a=t.data,i=a.profilepicture?a.profilepicture:null;e.setState({username:a.name,profilePicture:i,bio:a.bio?a.bio:"",profilePictureInput:i,profilePicturePreview:i,bioInput:a.bio?a.bio:"",shippingInput:a.shippingaddress?a.shippingaddress:"",shippingAddress:a.shippingaddress?a.shippingaddress:""})})).catch((function(t){t.response&&e.setState({dataIsLoading:!1,errorMessage:t.response.data.message})}))}},{key:"saveChanges",value:function(e){var t={};this.state.bio!=this.state.bioInput&&(t.bio=this.state.bioInput),this.state.shippingAddress!=this.state.shippingInput&&(t.shippingAddress=this.state.shippingInput),this.setState((function(e){return{bio:e.bioInput,shippingAddress:e.shippingInput}})),m.a.post(window.api_prefix+"/updateProfile",t).then((function(e){})).catch((function(e){}))}},{key:"handleInputChange",value:function(e){var t=e.target,a=t.name,i=t.value;this.setState(Object(K.a)({},a,i))}},{key:"removePicture",value:function(){this.setState({profilePictureInput:null,profilePicturePreview:""}),m.a.post(window.api_prefix+"/removeProfilePicture").then((function(e){})).catch((function(e){}))}},{key:"handleImageUpload",value:function(e){var t=e.target.files;try{if(!t)throw new Error("Select a file first!");var a=new FormData;a.append("file",t[0]),m.a.post(window.api_prefix+"/uploadProfilePicture",a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){console.log(e)})),this.setState({profilePictureInput:this.pictureInputRef.current.files[0],profilePicturePreview:URL.createObjectURL(this.pictureInputRef.current.files[0])}),this.pictureInputRef.current.value=null}catch(i){}}},{key:"componentWillUnmount",value:function(){window.onscroll=void 0,document.onclick=void 0}},{key:"render",value:function(){var e,t;this.props.t;return e=null!=this.state.profilePictureInput?Object(i.jsxs)("div",{children:[Object(i.jsx)("label",{style:{display:"inline-block",position:"relative",verticalAlign:"middle"},htmlFor:La.a.fileInput,children:Object(i.jsx)("div",{className:La.a.pictureSquare,style:{backgroundImage:"url('"+this.state.profilePicturePreview+"')"},children:Object(i.jsx)("div",{children:Object(i.jsx)("img",{src:"https://staticassets2020.s3.amazonaws.com/octiconsSvg/pencil.svg"})})})}),Object(i.jsx)("button",{id:La.a.deletePicButton,className:"regularTextMedium buttonCta",onClick:this.removePicture,children:"Delete picture"})]}):Object(i.jsx)("div",{children:Object(i.jsx)("label",{id:La.a.fileInputLabel,htmlFor:La.a.fileInput,children:Object(i.jsx)("div",{children:Object(i.jsx)("img",{src:"https://staticassets2020.s3.amazonaws.com/octiconsSvg/plus.svg"})})})}),this.state.bio===this.state.bioInput&&this.state.shippingInput==this.state.shippingAddress||(t=Object(i.jsx)("div",{id:La.a.saveButtonContainer,children:Object(i.jsx)("button",{className:"buttonCta",onClick:this.saveChanges,children:"Save changes"})})),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{id:La.a.topMainContainer,children:Object(i.jsxs)("div",{className:La.a.innerMainContainer,children:[Object(i.jsx)("div",{className:La.a.listingComponentsMainContainer,children:Object(i.jsxs)("p",{className:La.a.regularText+" title1",children:["Edit @",this.state.username,"'s profile"]})}),Object(i.jsxs)("div",{className:La.a.listingComponentsMainContainer,children:[Object(i.jsx)("p",{className:"regularText "+La.a.regularText,children:"Your profile picture"}),e,Object(i.jsx)("input",{id:La.a.fileInput,onChange:this.handleImageUpload,ref:this.pictureInputRef,type:"file",accept:".jpg, .jpeg, .png, .svg"})]}),Object(i.jsxs)("div",{className:La.a.listingComponentsMainContainer,children:[Object(i.jsx)("p",{className:"regularText "+La.a.regularText,children:"Default shipping address"}),Object(i.jsx)("input",{type:"text",onChange:this.handleInputChange,name:"shippingInput",className:"regularText inputText",id:La.a.regularTextInput,value:this.state.shippingInput}),Object(i.jsx)("p",{className:"regularText "+La.a.regularText,children:"Your bio"}),Object(i.jsx)("textarea",{onChange:this.handleInputChange,name:"bioInput",className:"regularText inputText",id:La.a.bioTextarea,value:this.state.bioInput})]}),t]})}),Object(i.jsx)(q,{}),Object(i.jsx)(me,Object(c.a)({},this.props)),Object(i.jsx)(he,Object(c.a)({},this.props),(new Date).getTime())]})}}]),a}(n.a.Component),Ra=Object(F.a)()(Da),Ba=function(e){Object(A.a)(a,e);var t=Object(E.a)(a);function a(e){var i;return Object(R.a)(this,a),(i=t.call(this,e)).state={following:[],followedUsers:[],suggestedTopics:[]},i.handleInputChange=i.handleInputChange.bind(Object(G.a)(i)),i.toggleFollowing=i.toggleFollowing.bind(Object(G.a)(i)),i}return Object(B.a)(a,[{key:"handleInputChange",value:function(e){var t=e.target,a=t.name,i=t.value;this.setState(Object(K.a)({},a,i))}},{key:"componentDidMount",value:function(){var e=this;m.a.get(window.api_prefix+"/usersFollowed").then((function(t){console.log(t.data),e.setState({followedUsers:t.data})})),this.setState({following:[{type:0,userId:32323,userPicture:"ddsd",userName:"Mark"},{type:0,userId:32323,userPicture:"ddsd",userName:"John"},{type:0,userId:32323,userPicture:"ddsd",userName:"Mike"},{type:0,userId:32323,userPicture:"ddsd",userName:"Gino"},{type:0,userId:32323,userPicture:"ddsd",userName:"Jane"},{type:1,stringValue:"iphone X black 32Gb",filters:[]},{type:1,stringValue:"iphone 7",filters:[]},{type:1,stringValue:"3D print",filters:[]},{type:2,id:23,stringValue:"3D printer"}],suggestedTopics:[{type:2,id:23,stringValue:"3D printer"},{type:2,id:2,stringValue:"Apple"}]})}},{key:"componentWillUnmount",value:function(){window.onscroll=void 0,document.onclick=void 0}},{key:"toggleFollowing",value:function(e,t){m.a.post(window.api_prefix+"/followUser",{id:e}).then().catch();var a=this.state.followedUsers;a.splice(t,1),this.setState({followedUsers:a})}},{key:"render",value:function(){var e=this,t=(this.props.t,Object(i.jsx)("p",{children:"You still don't following any user. Visit people's profile and follow them to have items they post in your feed."}));return this.state.followedUsers.length>0&&(t=this.state.followedUsers.map((function(t,a){return Object(i.jsxs)("div",{className:La.a.topicContainer,children:[Object(i.jsxs)("p",{className:"regularText "+La.a.regularTextNoMargin,children:["@",t.name]}),Object(i.jsx)("img",{onClick:function(){e.toggleFollowing(t.id,a)},src:"https://staticassets2020.s3.amazonaws.com/octiconsSvg/x.svg"})]},a)}))),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{id:La.a.topMainContainer,children:Object(i.jsxs)("div",{className:La.a.innerMainContainer,children:[Object(i.jsx)("div",{className:La.a.listingComponentsMainContainer,children:Object(i.jsx)("p",{className:La.a.regularText+" title1",children:"Users you follow"})}),Object(i.jsx)("div",{className:La.a.listingComponentsMainContainer,children:t})]})}),Object(i.jsx)(q,{}),Object(i.jsx)(me,Object(c.a)({},this.props)),Object(i.jsx)(he,Object(c.a)({},this.props),(new Date).getTime())]})}}]),a}(n.a.Component),Aa=Object(F.a)()(Ba),Ea=function(e){Object(A.a)(a,e);var t=Object(E.a)(a);function a(e){var i;return Object(R.a)(this,a),(i=t.call(this,e)).state={title:"",category:1,price:1,description:"",pictures:[],condition:0,categoryOptions:[],filterTypes:[],listingId:0,listingMode:0,formError:"",isDataLoading:!1,currentPage:0,predefItemSearch:"",isUnlistedItemModalDisplayed:!1,recommendItemInput:"",blockAutofillDiv:!1,predefItemsSearchResult:[],predefItemId:-1,predefItemName:""},i.pictureInputRef=n.a.createRef(),i.predefItemAutofillRef=n.a.createRef(),i.predefItemInputRef=n.a.createRef(),i.handleInputChange=i.handleInputChange.bind(Object(G.a)(i)),i.handleImageUpload=i.handleImageUpload.bind(Object(G.a)(i)),i.removePicture=i.removePicture.bind(Object(G.a)(i)),i.handleFilterValueChange=i.handleFilterValueChange.bind(Object(G.a)(i)),i.postListing=i.postListing.bind(Object(G.a)(i)),i}return Object(B.a)(a,[{key:"componentDidMount",value:function(){var e,t,a=this;Ee.a.parse(window.location.search).listingid&&Ee.a.parse(window.location.search).listingmode?(e=Ee.a.parse(window.location.search).listingid,1==(t=Ee.a.parse(window.location.search).listingmode)||2==t?m.a.get(window.api_prefix+"/listingDetails?id="+e).then((function(t){var i=t.data.listingDetails;t.data.filters;i?a.setState({title:i.title,price:xe(i.price),condition:i.condition,description:i.description,pictures:i.pictures,category:i.categoryid,listingMode:1,currentPage:1,listingId:e}):a.setState({listingMode:0})})):this.setState({listingMode:0})):this.setState({listingMode:0}),m.a.get(window.api_prefix+"/allLeafCategories").then((function(e){a.setState({categoryOptions:e.data})})).catch(),document.addEventListener("click",(function(e){a.predefItemAutofillRef.current&&(e.target===a.predefItemAutofillRef.current||e.target.classList.contains(Xt.a.predefItemAutoFillInnerContainer)||a.setState({blockAutofillDiv:!0}))}))}},{key:"handleInputChange",value:function(e){var t=this,a=e.target,i=a.name,s=a.value;if("category"==i)this.setState(Object(K.a)({},i,s));else if("predefItemSearch"==i){var n;this.setState((n={},Object(K.a)(n,i,s),Object(K.a)(n,"blockAutofillDiv",!1),Object(K.a)(n,"predefItemsSearchResult",[]),n)),s.length>0&&m.a.get(window.api_prefix+"/searchPredefItemsByName?search="+s).then((function(e){t.setState({predefItemsSearchResult:e.data})})).catch()}else this.setState(Object(K.a)({},i,s))}},{key:"handleFilterValueChange",value:function(e,t){var a=this.state.filterTypes,i=a[e];0==i.type?i.userSelection=t.target.value:1==i.type?(i.userSelection=t.target.value,i.searchValue=""):2==i.type&&(i.userSelection=t.target.value),a[e]=i,this.setState({filterTypes:a})}},{key:"handleCustomFilterValueChange",value:function(e,t){var a=this.state.filterTypes,i=a[e];i.searchValue=t.target.value,a[e]=i,this.setState({filterTypes:a})}},{key:"removePicture",value:function(e){var t=this.state.pictures;t.splice(e,1),this.setState({pictures:t})}},{key:"handleImageUpload",value:function(e){var t=this,a=e.target.files;try{var i=function(){if(!a)throw new Error("Select a file first!");var e=5-t.state.pictures.length,i=0;t.setState({isDataLoading:!0});for(var s=a.length,n=function(n){if(n>=e)return t.setState({isDataLoading:!1,formError:"You have uploaded the maximum number of pictures. Only "+e+" pictures were uploaded."}),{v:{v:void 0}};var r=a[n].name,o=new FormData;o.append("file",a[n]),m.a.post(window.api_prefix+"/uploadListingPicture",o,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){++i==s&&t.setState({isDataLoading:!1});var a=t.state.pictures;a.push(e.data.Location),t.setState({pictures:a})})).catch((function(e){e.response&&t.setState({isDataLoading:!1,formError:"Your file "+r+" could not be uploaded, please try again."})}))},r=0;r<s;r++){var o=n(r);if("object"===typeof o)return o.v}t.pictureInputRef.current.value=null}();if("object"===typeof i)return i.v}catch(s){this.setState({isDataLoading:!1})}}},{key:"postListing",value:function(){var e=this,t=this.state.price,a=this.state.description,i=this.state.condition,s=this.state.predefItemId,n=this.state.predefItemName,r=this.state.pictures;if(1==this.state.listingMode||-1!=s&&n.length>0)if(t.toString().length>0&&t.toString().length<255)if(a.length<255)if(r.length>0)if(r.length<6){var o={listingId:this.state.listingId,predefTypeName:n,price:t,description:a,condition:i,pictures:r,predefType:s};1==this.state.listingMode?m.a.post(window.api_prefix+"/editListing",o).then((function(t){e.props.history.push("/my-listings")})):m.a.post(window.api_prefix+"/postListing",o).then((function(t){e.props.history.push("/verifyListing?id="+t.data.listingId)}))}else this.setState({formError:"You have exceeded the amount of authorized pictures. Please remove at least 1 picture."});else this.setState({formError:"Please upload at least 1 picture."});else this.setState({formError:"Your listing description should be between 1 and 255 characters."});else this.setState({formError:"Please fill in a listing price."});else this.setState({formError:"Please select an item type that we accept."})}},{key:"render",value:function(){var e=this,t=(this.props.t,[]);if(this.state.pictures.length>1)for(var a=1;a<this.state.pictures.length;a++)t.push(Object(i.jsx)("div",{style:{backgroundImage:"url('/assets/landingPage/stockPic3.jpg')"},className:Xt.a.smallPictureImg},a));this.state.categoryOptions.map((function(e,t){return Object(i.jsx)("option",{value:e.id,children:e.name},t)}));var s=[{id:0,name:"New (sealed)"},{id:1,name:"Like new"},{id:2,name:"Lightly used"},{id:3,name:"Used"},{id:4,name:"Broken"},{id:5,name:"For parts"}].map((function(e,t){return Object(i.jsx)("option",{value:e.id,children:e.name},t)}));this.state.filterTypes.length>0&&this.state.filterTypes.map((function(t,a){if(0==t.type)return Object(i.jsxs)("div",{children:[Object(i.jsxs)("p",{className:Xt.a.regularTextHalfMargin+" regularTextMedium",children:[t.name,"?"]}),Object(i.jsxs)("select",{value:t.userSelection,onChange:e.handleFilterValueChange.bind(e,a),className:Xt.a.selectInput+" regularText",children:[Object(i.jsx)("option",{value:"0",children:"No"}),Object(i.jsx)("option",{value:"1",children:"Yes"})]})]},a);if(1==t.type){var s=t.options.map((function(e,t){return Object(i.jsx)("option",{value:t,children:e.textvalue},t)})),n="";return n=t.searchValue.length>0||0==t.options.length?t.searchValue:t.options[t.userSelection].textvalue,Object(i.jsxs)("div",{children:[Object(i.jsx)("p",{className:Xt.a.regularTextHalfMargin+" regularTextMedium",children:t.name}),Object(i.jsx)("input",{type:"text",className:Xt.a.textInput+" regularText",value:n,onChange:e.handleCustomFilterValueChange.bind(e,a)}),t.options.length>0?Object(i.jsx)("select",{value:t.userSelection,onChange:e.handleFilterValueChange.bind(e,a),className:Xt.a.selectInput+" regularText",children:s}):null]},a)}return 2==t.type?Object(i.jsxs)("div",{children:[Object(i.jsxs)("p",{className:Xt.a.regularTextHalfMargin+" regularTextMedium",children:["# ",t.name]}),Object(i.jsx)("input",{type:"number",className:Xt.a.textInput+" regularText",step:"1",min:"0",max:"1000",value:t.userSelection,onChange:e.handleFilterValueChange.bind(e,a)})]},a):void 0}));var n="New listing";1==this.state.listingMode?n="Edit listing":2==this.state.listingMode?n="Publish draft listing":0==this.state.listingMode&&this.state.predefItemName.length>0&&(n="Selling "+this.state.predefItemName);var r,o=this.state.pictures.map((function(t,a){return Object(i.jsx)("div",{className:Xt.a.pictureSquare,onClick:function(){return e.removePicture(a)},style:{backgroundImage:"url('"+t+"')"},children:Object(i.jsx)("div",{children:Object(i.jsx)("img",{src:"https://staticassets2020.s3.amazonaws.com/octiconsSvg/x.svg"})})},a)})),l=null;if(this.predefItemInputRef.current){var d=this.predefItemInputRef.current.getBoundingClientRect();1!=this.state.currentPage&&this.state.predefItemSearch.length>0&&0==this.state.blockAutofillDiv&&(l=Object(i.jsx)("div",{id:Xt.a.predefItemAutofillContainer,style:{left:d.left,top:d.top+50,width:this.predefItemInputRef.current.offsetWidth},ref:this.predefItemAutofillRef,children:0==this.state.predefItemsSearchResult.length?Object(i.jsx)("p",{children:"No result"}):this.state.predefItemsSearchResult.map((function(t,a){return Object(i.jsx)("div",{className:Xt.a.predefItemAutofillInnerContainer,onClick:function(){e.setState((function(e){return{currentPage:1,predefItemId:e.predefItemsSearchResult[a].id,predefItemName:e.predefItemsSearchResult[a].title}}))},children:Object(i.jsx)("p",{children:t.title})},a)}))}))}return r=1==this.state.currentPage?Object(i.jsxs)("div",{id:Xt.a.formContainer,children:[Object(i.jsx)("p",{className:Xt.a.regularText+" title1",children:n}),Object(i.jsx)("p",{className:Xt.a.regularTextHalfMargin+" regularTextMedium",children:"In what condition is the item?"}),Object(i.jsx)("select",{value:this.state.condition,onChange:this.handleInputChange,className:Xt.a.selectInput+" regularText",name:"condition",children:s}),Object(i.jsx)("p",{className:Xt.a.regularTextHalfMargin+" regularTextMedium",children:"At what price will your item be listed?"}),Object(i.jsx)("input",{min:"1",step:"0.05",className:Xt.a.textInput+" regularText",name:"price",value:this.state.price,onChange:this.handleInputChange,type:"number"}),Object(i.jsx)("p",{className:Xt.a.regularTextHalfMargin+" regularTextMedium",children:"List all defects, errors, missing parts your item might have"}),Object(i.jsx)("textarea",{id:Xt.a.descriptionTextarea,name:"description",value:this.state.description,onChange:this.handleInputChange}),Object(i.jsx)("p",{className:Xt.a.regularTextHalfMargin+" regularTextMedium",children:"Pictures"}),o,this.state.pictures.length<5?Object(i.jsx)("label",{id:Xt.a.fileInputLabel,htmlFor:Xt.a.fileInput,children:Object(i.jsx)("div",{children:Object(i.jsx)("img",{src:"https://staticassets2020.s3.amazonaws.com/octiconsSvg/plus.svg"})})}):null,Object(i.jsx)("input",{id:Xt.a.fileInput,onChange:this.handleImageUpload,ref:this.pictureInputRef,type:"file",accept:".jpg, .jpeg, .png, .svg",multiple:!0}),Object(i.jsx)("p",{children:this.state.formError}),Object(i.jsx)("button",{className:"buttonCta regularTextMedium "+Xt.a.ctaButton,onClick:this.postListing,children:"List now"})]}):Object(i.jsxs)("div",{id:Xt.a.formContainer,children:[Object(i.jsx)("p",{className:Xt.a.regularText+" title1",children:n}),Object(i.jsx)("p",{className:Xt.a.regularTextHalfMargin+" regularTextMedium",children:"What item are you selling?"}),Object(i.jsx)("input",{ref:this.predefItemInputRef,className:Xt.a.textInput+" regularText",placeholder:"search for brand, model, color, storage",name:"predefItemSearch",value:this.state.predefItemSearch,onChange:this.handleInputChange,type:"text"}),Object(i.jsx)("p",{children:this.state.formError}),Object(i.jsx)("p",{onClick:function(){e.setState({isUnlistedItemModalDisplayed:!0})},className:"regularText "+Xt.a.regularText,style:{textDecoration:"underline",cursor:"pointer"},children:"Your item is not listed?"})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{id:Xt.a.topMainContainer,children:r}),l,1==this.state.isDataLoading?Object(i.jsx)(oe,{}):null,Object(i.jsx)(q,{}),Object(i.jsx)(me,Object(c.a)({},this.props)),Object(i.jsx)(he,Object(c.a)({},this.props),(new Date).getTime()),Object(i.jsxs)(ae,{title:"Your item is not listed",closeModal:function(){e.setState({isUnlistedItemModalDisplayed:!1})},show:this.state.isUnlistedItemModalDisplayed,description:"Tell us what it is that you want to sell so we can quickly add it to our community. You'll be notified as soon as we add it.",children:[Object(i.jsx)("input",{name:"recommendItemInput",value:this.state.recommendItemInput,className:"regularText inputText",style:{width:"100%",height:"50px"},onChange:this.handleInputChange,type:"text",placeholder:"Item name"}),Object(i.jsx)("div",{className:"modalSubmitButtonDiv",children:Object(i.jsx)("button",{className:"modalSubmitButton regularTextMedium buttonCta",onClick:function(){e.state.recommendItemInput.length>0&&(m.a.post(window.api_prefix+"/addPredefItemRecommendation",{item:e.state.recommendItemInput}),e.setState({recommendItemInput:"",isUnlistedItemModalDisplayed:!1}))},children:"Send item"})})]})]})}}]),a}(n.a.Component),Fa=Object(F.a)()(Ea),za=a(35),Ua=a.n(za),Ha=function(e){Object(A.a)(a,e);var t=Object(E.a)(a);function a(){var e;return Object(R.a)(this,a),(e=t.call(this)).state={textualSearchValue:"...",category:0,filters:[],isFiltersModalOpened:!1,results:[],params:[],categories:[],isMobileSearchDisplayed:!1},e.rebuildUrl=e.rebuildUrl.bind(Object(G.a)(e)),e.searchFromUrl=e.searchFromUrl.bind(Object(G.a)(e)),e}return Object(B.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=Ee.a.parse(window.location.search);"undefined"!=typeof t.predefType?(m.a.get(window.api_prefix+"/getPredefTypeName?id="+t.predefType).then((function(t){e.setState({textualSearchValue:t.data.title})})),this.searchFromUrl(t,!1)):"undefined"!=typeof t.cat&&(m.a.get(window.api_prefix+"/getCategoryName?id="+t.cat).then((function(t){e.setState({textualSearchValue:t.data.name})})),this.setState({category:t.cat,params:t}),this.searchFromUrl(t,!0)),m.a.get(window.api_prefix+"/allCategories").then((function(t){for(var a=0;a<t.data.length;a++)if(null!=t.data[a].parentid)for(var i=0;i<t.data.length;i++)if(t.data[a].parentid===t.data[i].id){t.data[i].children?t.data[i].children.push(t.data[a]):t.data[i].children=[t.data[a]],t.data.splice(a,1),a--;break}e.setState({categories:t.data})})).catch()}},{key:"rebuildUrl",value:function(){var e=this,t=window.location.pathname+"?";Object.keys(this.state.params).forEach((function(a){if(e.state.params[a]instanceof Array)for(var i=0;i<e.state.params[a].length;i++)t+=a+"="+e.state.params[a][i]+"&";else t+=a+"="+e.state.params[a]+"&"})),t=t.substring(0,t.length-1),this.props.history.push(t),this.searchFromUrl(this.state.params,!1)}},{key:"valueIsPresent",value:function(e,t){for(var a=e.toString(),i=0;i<t.length;i++)if(a==t[i].toString())return!0;return!1}},{key:"searchFromUrl",value:function(e,t){var a=this;m.a.post(window.api_prefix+"/searchResults",e).then((function(e){a.setState({results:e.data})})),t&&m.a.get(window.api_prefix+"/categoriesSpecificFilters?categoryId="+e.cat).then((function(t){for(var i=t.data.filterNames,s=t.data.filterValues,n=0;n<i.length;n++)if(0!=i[n].type)if(1==i[n].type){if(i[n].options=[],i[n].value=[],"undefined"!=typeof e[i[n].id])if(e[i[n].id]instanceof Array)for(var r=e[i[n].id],o=0;o<s.length;o++)s[o].filtertypeid==i[n].id&&(console.log(s[o].value),console.log(r),a.valueIsPresent(s[o].value,r)&&(console.log("YEEE"),i[n].value.push(i[n].options.length)),i[n].options.push(s[o]));else for(var c=e[i[n].id],l=0;l<s.length;l++)s[l].filtertypeid==i[n].id&&(c==s[l].value&&i[n].value.push(i[n].options.length),i[n].options.push(s[l]));else for(var d=0;d<s.length;d++)s[d].filtertypeid==i[n].id&&i[n].options.push(s[d]);console.log(i[n].value)}else 2==i[n].type&&("undefined"!=typeof e[i[n].id]?i[n].value=e[i[n].id]:i[n].value=0);else"undefined"!=typeof e[i[n].id]?i[n].value=e[i[n].id]:i[n].value=0;console.log("--- - - - -- - - "),console.log(i),console.log("--- - - - -- - - "),a.setState({filters:i})}))}},{key:"handleFilterValueChange",value:function(e,t){var a=t.target,i=this.state.filters,s=this.state.params;0==i[e].type?(i[e].value=1==a.checked?1:0,s[i[e].id]=i[e].value):2==i[e].type&&(s[i[e].id]=a.value,i[e].value=a.value),this.setState({filters:i,params:s},this.rebuildUrl)}},{key:"handleType1FilterValueChange",value:function(e,t,a){var i=a.target,s=this.state.params,n=this.state.filters;if(1==n[e].type){if(1==i.checked){-1==n[e].value.indexOf(t)&&n[e].value.push(t)}else{var r=n[e].value.indexOf(t);-1!=r&&n[e].value.splice(r,1)}for(var o=[],c=0;c<n[e].value.length;c++)o.push(n[e].options[n[e].value[c]].value);s[n[e].id]=o}this.setState({filters:n,params:s},this.rebuildUrl)}},{key:"render",value:function(){var e=this;[].push(Object(i.jsx)("div",{className:Ua.a.topicContainer,onClick:function(){e.setState({isFiltersModalOpened:!0})},children:Object(i.jsx)("p",{className:Ua.a.regularTextNoMargin+" regularText",children:"All filters"})},"a1"));this.state.filters.map((function(t,a){var s;if(0==t.type){s=t.name+"?";var n=0!=e.state.filters[a].value;return Object(i.jsxs)("div",{children:[Object(i.jsx)("p",{children:s}),Object(i.jsx)("input",{checked:n,onChange:e.handleFilterValueChange.bind(e,a),type:"checkbox"})]},a)}if(1==t.type){if(s=t.name,t.options.length>0){var r=t.options.map((function(s,n){var r=e.valueIsPresent(n,t.value);return Object(i.jsxs)("div",{children:[Object(i.jsx)("p",{children:s.textvalue}),Object(i.jsx)("input",{type:"checkbox",checked:r,onChange:e.handleType1FilterValueChange.bind(e,a,n)})]},a+"_"+n)}));return Object(i.jsxs)("div",{children:[Object(i.jsx)("p",{children:s}),r]},a)}return null}if(2==t.type)return s="#"+t.name,Object(i.jsxs)("div",{children:[Object(i.jsx)("p",{children:s}),Object(i.jsx)("input",{min:"0",step:"0.1",value:e.state.filters[a].value,onChange:e.handleFilterValueChange.bind(e,a),type:"number"})]},a)}));var t=this.state.results.map((function(e,t){return Object(i.jsx)(st,{listing:e},t)}));return Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{id:Ua.a.bodyContainer,children:Object(i.jsxs)("div",{id:Ua.a.topMainContainer,children:[Object(i.jsx)("div",{id:Ua.a.topBar,children:Object(i.jsxs)("div",{id:Ua.a.topBarTopContainer,children:[Object(i.jsxs)("div",{onClick:function(){e.setState({isMobileSearchDisplayed:!0})},id:Ua.a.mobileSearchContainer,children:[Object(i.jsx)("img",{src:"https://staticassets2020.s3.amazonaws.com/octiconsSvg/search.svg"}),Object(i.jsx)("p",{className:"title2",children:this.state.textualSearchValue})]}),Object(i.jsxs)("p",{onClick:function(){e.setState({isMobileSearchDisplayed:!0})},className:Ua.a.regularText+" title1 "+Ua.a.hideMobile,children:[this.state.textualSearchValue,Object(i.jsx)("span",{className:"regularText",children:" ("+this.state.results.length+" results)"})]}),Object(i.jsx)("p",{className:Ua.a.regularText+" regularText "+Ua.a.hideDesktop,children:" ("+this.state.results.length+" results)"})]})}),Object(i.jsx)("div",{className:Ua.a.separatorLine}),Object(i.jsx)("div",{id:Ua.a.resultsContainer,children:t})]})}),Object(i.jsx)(q,{}),Object(i.jsx)(me,Object(c.a)({},this.props)),Object(i.jsx)(he,Object(c.a)({},this.props),(new Date).getTime()),Object(i.jsx)(ct,{}),1==this.state.isMobileSearchDisplayed?Object(i.jsx)(Se,{history:this.props.history,closeSearch:function(){e.setState({isMobileSearchDisplayed:!1})},categories:this.state.categories}):null]})}}]),a}(n.a.Component),Va=function(e){Object(A.a)(a,e);var t=Object(E.a)(a);function a(){return Object(R.a)(this,a),t.apply(this,arguments)}return Object(B.a)(a,[{key:"componentDidMount",value:function(){this.props.logoutUser()}},{key:"render",value:function(){return Object(i.jsx)("p",{})}}]),a}(n.a.Component),Ga=Object(T.b)((function(e){return{auth:e.auth}}),{logoutUser:y})(Va),Ja=function(e){Object(A.a)(a,e);var t=Object(E.a)(a);function a(e){var i;return Object(R.a)(this,a),(i=t.call(this,e)).state={listingId:0,verificationTimestamp:0,username:"",isLoading:!0,formError:"",picture:null,isUploadingPic:!1},i.handleImageUpload=i.handleImageUpload.bind(Object(G.a)(i)),i.removePicture=i.removePicture.bind(Object(G.a)(i)),i.submitVerification=i.submitVerification.bind(Object(G.a)(i)),i.pictureInputRef=n.a.createRef(),i.snackbarRef=n.a.createRef(),i}return Object(B.a)(a,[{key:"componentDidMount",value:function(){var e=this;if(Ee.a.parse(window.location.search).id){var t=Ee.a.parse(window.location.search).id;m.a.get(window.api_prefix+"/listingVerifCode?id="+t).then((function(a){console.log(a.data),e.setState({listingId:t,verificationTimestamp:a.data.verificationTimestamp,username:a.data.username,isLoading:!1})})).catch()}else this.props.history.push("/my-listings?activeTab=1")}},{key:"removePicture",value:function(){this.setState({picture:null}),this.pictureInputRef.current.value=null}},{key:"handleImageUpload",value:function(e){var t=this;if(null==this.state.picture){var a=e.target.files;try{if(!a)throw new Error("Select a file first!");var i=new FormData;i.append("file",a[0]),this.setState({isUploadingPic:!0}),m.a.post(window.api_prefix+"/uploadListingVerification",i,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){t.setState({picture:e.data.Location,isUploadingPic:!1})})),this.pictureInputRef.current.value=null}catch(s){this.setState({formError:"There has been a server error, please try again.",isUploadingPic:!1})}}else this.setState({formError:"Please remove your picture before uploading it again.",isUploadingPic:!1})}},{key:"submitVerification",value:function(){var e=this;null!=this.state.picture?(this.setState({isUploadingPic:!0}),m.a.post(window.api_prefix+"/submitListingVerification",{picture:this.state.picture,listingId:this.state.listingId}).then((function(t){e.props.history.push("/my-listings?activeTab=1")})).catch((function(t){t.response&&e.setState({formError:"There has been a server error, please try again.",isUploadingPic:!1})}))):this.setState({formError:"Please upload your picture.",isUploadingPic:!1})}},{key:"render",value:function(){var e,t=this;this.props.t;return 1==this.state.isLoading?Object(i.jsxs)("div",{children:[Object(i.jsx)(ye,{children:Object(i.jsx)("div",{className:Ot.a.innerMainContainer,children:"Loading..."})}),Object(i.jsx)(q,{}),Object(i.jsx)(me,Object(c.a)({},this.props)),Object(i.jsx)(he,Object(c.a)({},this.props),(new Date).getTime())]}):(null!=this.state.picture&&(e=Object(i.jsx)("div",{className:Ot.a.pictureSquare,onClick:function(){return t.removePicture()},style:{backgroundImage:"url('"+this.state.picture+"')"},children:Object(i.jsx)("div",{children:Object(i.jsx)("img",{src:"https://staticassets2020.s3.amazonaws.com/octiconsSvg/x.svg"})})})),Object(i.jsxs)("div",{children:[Object(i.jsx)(ye,{children:Object(i.jsxs)("div",{className:Ot.a.innerMainContainer,children:[Object(i.jsx)("p",{ref:this.activeOffersRef,className:Ot.a.sectionTitleP+" title1 ",children:"Let's verify your listing."}),Object(i.jsxs)("p",{ref:this.activeOffersRef,className:Ot.a.sectionTitleP+" regularText",children:["Please upload a picture showing your item and a paper where you will have written your username ",Object(i.jsxs)("span",{className:"regularTextBold",children:["@",this.state.username]})," and the numbers ",Object(i.jsx)("span",{className:"regularTextBold",children:this.state.verificationTimestamp}),"."]}),e,null==this.state.picture?Object(i.jsx)("label",{id:Ot.a.fileInputLabel,htmlFor:Ot.a.fileInput,children:Object(i.jsx)("div",{children:Object(i.jsx)("img",{src:"https://staticassets2020.s3.amazonaws.com/octiconsSvg/plus.svg"})})}):null,Object(i.jsxs)("div",{className:Ot.a.paddedContainer,children:[Object(i.jsx)("input",{id:Ot.a.fileInput,onChange:this.handleImageUpload,ref:this.pictureInputRef,type:"file",accept:".jpg, .jpeg, .png, .svg"}),Object(i.jsx)("button",{className:Ot.a.ctaButton+" buttonCta",onClick:this.submitVerification,children:"Submit"}),Object(i.jsx)("p",{children:this.state.formError})]})]})}),Object(i.jsx)(q,{}),Object(i.jsx)(me,Object(c.a)({},this.props)),Object(i.jsx)(he,Object(c.a)({},this.props),(new Date).getTime()),1==this.state.isUploadingPic?Object(i.jsx)(oe,{}):null,Object(i.jsx)(jt,{ref:this.snackbarRef})]}))}}]),a}(n.a.Component),Ya=Object(F.a)()(Ja);if(h.a.initialize("UA-180599599-1"),localStorage.jwtToken){var Wa=localStorage.jwtToken;j(Wa);var qa=Object(p.a)(Wa);D.dispatch(C(qa));var Xa=Date.now()/1e3;qa.exp<Xa&&(D.dispatch(y()),window.location.href="./login")}var Za=function(e){return Object(i.jsx)(T.a,{store:D,children:Object(i.jsx)(l.a,{children:Object(i.jsx)(u,{children:Object(i.jsxs)(d.d,{children:[Object(i.jsx)(Bt,{exact:!0,path:"/",component:He}),Object(i.jsx)(Bt,{exact:!0,path:"/index",component:Ne}),Object(i.jsx)(d.b,{exact:!0,path:"/predefItems",component:V}),Object(i.jsx)(d.b,{exact:!0,path:"/about-us",render:function(e){return h.a.pageview(e.location.pathname),Object(i.jsx)(Ge,Object(c.a)({},e))}}),Object(i.jsx)(d.b,{exact:!0,path:"/terms-privacy",render:function(e){return h.a.pageview(e.location.pathname),Object(i.jsx)(Ye,Object(c.a)({},e))}}),Object(i.jsx)(d.b,{exact:!0,path:"/login",render:function(e){return h.a.pageview(e.location.pathname),Object(i.jsx)(Xe,Object(c.a)({},e))}}),Object(i.jsx)(d.b,{exact:!0,path:"/signup",render:function(e){return h.a.pageview(e.location.pathname),Object(i.jsx)(Qe,Object(c.a)({},e))}}),Object(i.jsx)(d.b,{exact:!0,path:"/user",render:function(e){return h.a.pageview(e.location.pathname),Object(i.jsx)(ut,Object(c.a)({},e))}}),Object(i.jsx)(d.b,{exact:!0,path:"/listing",render:function(e){return h.a.pageview(e.location.pathname),Object(i.jsx)(xt,Object(c.a)({},e))}}),Object(i.jsx)(d.b,{exact:!0,path:"/search",render:function(e){return h.a.pageview(e.location.pathname),Object(i.jsx)(Ha,Object(c.a)({},e))}}),Object(i.jsx)(d.b,{exact:!0,path:"/activity",render:function(e){return h.a.pageview(e.location.pathname),Object(i.jsx)(ra,Object(c.a)({},e))}}),Object(i.jsx)(d.b,{exact:!0,path:"/warzone",render:function(e){return h.a.pageview(e.location.pathname),Object(i.jsx)(Ne,Object(c.a)({},e))}}),Object(i.jsx)(d.b,{exact:!0,path:"/faq",render:function(e){return h.a.pageview(e.location.pathname),Object(i.jsx)(ga,Object(c.a)({},e))}}),Object(i.jsx)(d.b,{exact:!0,path:"/blog-post/:id",render:function(e){return h.a.pageview(e.location.pathname),Object(i.jsx)(da,Object(c.a)({},e))}}),Object(i.jsx)(d.b,{exact:!0,path:"/employee-dashboard",render:function(e){return h.a.pageview(e.location.pathname),Object(i.jsx)(ia,Object(c.a)({},e))}}),Object(i.jsx)(At,{exact:!0,path:"/logout",component:Ga}),Object(i.jsx)(At,{exact:!0,path:"/pay",component:Na}),Object(i.jsx)(At,{exact:!0,path:"/verifyListing",component:Ya}),Object(i.jsx)(At,{exact:!0,path:"/payment-details",component:va}),Object(i.jsx)(At,{exact:!0,path:"/profile",component:ka}),Object(i.jsx)(At,{exact:!0,path:"/account-setup",component:ba}),Object(i.jsx)(At,{exact:!0,path:"/home",component:Ne}),Object(i.jsx)(At,{exact:!0,path:"/my-purchases",component:Pt}),Object(i.jsx)(At,{exact:!0,path:"/my-listings",component:Dt}),Object(i.jsx)(At,{exact:!0,path:"/saved",component:Ct}),Object(i.jsx)(At,{exact:!0,path:"/account",component:Ra}),Object(i.jsx)(At,{exact:!0,path:"/following",component:Aa}),Object(i.jsx)(At,{exact:!0,path:"/new-listing",component:Fa}),Object(i.jsx)(d.b,{path:"*",render:function(e){return h.a.pageview(e.location.pathname),Object(i.jsx)(Ie,Object(c.a)({},e))}})]})})})})},Ka=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,129)).then((function(t){var a=t.getCLS,i=t.getFID,s=t.getFCP,n=t.getLCP,r=t.getTTFB;a(e),i(e),s(e),n(e),r(e)}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Qa=a(86),$a=Object(Qa.a)("pk_test_51INowtBvRwHUiPD96mG208wgpPjFuiM3Cf4zs9okCmKwAGrGSSXJhnjP7phCLsmqHjipiLcD2fcB0zLESzvCpdIp00MeanOVre");window.api_prefix="https://api.joincambio.com",o.a.render(Object(i.jsx)(wa.Elements,{stripe:$a,children:Object(i.jsx)(n.a.StrictMode,{children:Object(i.jsx)(Za,{})})}),document.getElementById("root")),Ka()}],[[127,1,2]]]);
//# sourceMappingURL=main.285c0acf.chunk.js.map